{
  raftLog.append(entry0);
  startLogShipper();
  raftLog.append(entry1);
  raftLog.append(entry2);
  logShipper.onMatch(0,new LeaderContext(0,0));
  logShipper.onNewEntry(0,0,entry1,new LeaderContext(0,0));
  logShipper.onNewEntry(1,0,entry2,new LeaderContext(0,0));
  outbound.clear();
  logShipper.onMismatch(1,new LeaderContext(0,0));
  assertTrue(outbound.hasEntriesTo(follower,entry2));
}
