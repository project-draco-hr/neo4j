{
  Node previous=null;
  try (Transaction tx=db.beginTx()){
    for (int i=0; i < size; i++) {
      Label label=(i % 2 == 0) ? TestLabel.FOO : TestLabel.BAR;
      Node current=db.createNode(label);
      current.setProperty("value",ThreadLocalRandom.current().nextLong());
      if (previous != null) {
        previous.createRelationshipTo(current,TestRelType.FORWARD);
        current.createRelationshipTo(previous,TestRelType.BACKWARD);
      }
      previous=current;
    }
    tx.success();
  }
 }
