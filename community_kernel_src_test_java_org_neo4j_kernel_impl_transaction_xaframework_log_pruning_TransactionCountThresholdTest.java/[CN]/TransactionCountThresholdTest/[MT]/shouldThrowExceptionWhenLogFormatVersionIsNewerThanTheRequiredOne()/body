{
  long version=10l;
  when(info.getFirstCommittedTxId(version + 1)).thenThrow(new IllegalLogFormatException(9l,11l));
  TransactionCountThreshold threshold=new TransactionCountThreshold(2);
  try {
    threshold.reached(file,version,info);
    fail("should have thrown IllegalLogFormatException");
  }
 catch (  RuntimeException e) {
    assertTrue(e.getCause() instanceof IllegalLogFormatException);
    assertTrue(((IllegalLogFormatException)e.getCause()).wasNewerLogVersion());
  }
}
