{
  RaftLog log=createRaftLog();
  long term=0;
  for (int i=0; i < 10; i++) {
    log.append(new RaftLogEntry(term,valueOf(i)));
  }
  log.truncate(9);
  log.truncate(8);
  log.truncate(7);
  assertEquals(-1,log.prevIndex());
  for (int i=0; i <= 5; i++) {
    log.prune(i);
    assertEquals(i,log.prevIndex());
  }
  for (int i=5; i < 10; i++) {
    log.prune(i);
    assertEquals(5,log.prevIndex());
  }
}
