{
  NodeStore nodeStore=mock(NodeStore.class);
  when(neoStores.getNodeStore()).thenReturn(nodeStore);
  TransactionRepresentationStoreApplier applier=new TransactionRepresentationStoreApplier(indexService,labelScanStore,neoStores,cacheAccess,lockService,legacyIndexProviderLookup,indexConfigStore,kernelHealth,queue);
  long nodeId=5L;
  TransactionRepresentation transaction=createNodeTransaction(nodeId);
  try (LockGroup locks=new LockGroup()){
    applier.apply(transaction,ValidatedIndexUpdates.NONE,locks,transactionId,TransactionApplicationMode.EXTERNAL);
  }
   verify(nodeStore,times(1)).setHighestPossibleIdInUse(nodeId);
}
