{
  Map<Integer,Set<Long>> relTypeToRelsMap=getTypeToRelMapForDirection(direction);
  typeChanged(typeId);
  Set<Long> rels=relTypeToRelsMap.get(typeId);
  if (rels != null) {
    if (rels.remove(relId)) {
      if (rels.size() == 0) {
        relTypeToRelsMap.remove(typeId);
      }
switch (direction) {
case INCOMING:
        totalIncoming--;
      break;
case OUTGOING:
    totalOutgoing--;
  break;
case BOTH:
totalLoops--;
break;
}
return true;
}
}
return false;
}
