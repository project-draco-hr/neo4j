{
  Traverser traverser=thomas.traverse(Order.BREADTH_FIRST,StopEvaluator.END_OF_GRAPH,ReturnableEvaluator.ALL_BUT_START_NODE,MatrixRelation.KNOWS,Direction.OUTGOING);
  Set<String> actual=new HashSet<String>();
  for (  Node friend : traverser) {
    assertTrue("Same friend added twice.",actual.add((String)friend.getProperty("name")));
  }
  assertEquals("Thomas Anderssons friends are incorrect.",new HashSet<String>(Arrays.asList("Trinity","Morpheus","Cypher","Agent Smith")),actual);
}
