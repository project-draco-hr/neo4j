{
  return new CollectingIndexUpdater(){
    @Override public void close() throws IOException, IndexEntryConflictException {
      if (IndexUpdateMode.ONLINE == mode) {
        updatesCommitted.addAll(updates);
      }
    }
  }
;
}
