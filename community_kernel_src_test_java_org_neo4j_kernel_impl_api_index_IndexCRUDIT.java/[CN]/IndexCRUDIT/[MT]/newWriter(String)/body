{
  GatheringIndexWriter writer=new GatheringIndexWriter(propertyKey);
  when(mockedIndexProvider.getPopulator(anyLong(),any(IndexConfiguration.class))).thenReturn(writer);
  when(mockedIndexProvider.getProviderDescriptor()).thenReturn(PROVIDER_DESCRIPTOR);
  when(mockedIndexProvider.getOnlineAccessor(anyLong(),any(IndexConfiguration.class))).thenReturn(writer);
  return writer;
}
