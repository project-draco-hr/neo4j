{
  for (int i=0; i < lockMaps.length; i++) {
    if (lockMaps[i] != null) {
      ResourceType type=resourceTypes[i];
      for (      Map.Entry<Long,Lock> entry : lockMaps[i].entrySet()) {
        Lock lock=entry.getValue();
        Set<Integer> involvedParties=new TreeSet<>();
        String waitList=lock.describeWaitList(involvedParties);
        String legend=legendForClients(involvedParties,clientPool.getClient);
        String description=format("%s: %s%nTransactions:%s",lock.toString(),waitList,legend);
        out.visit(type,entry.getKey(),description,0,System.identityHashCode(lock));
      }
    }
  }
}
