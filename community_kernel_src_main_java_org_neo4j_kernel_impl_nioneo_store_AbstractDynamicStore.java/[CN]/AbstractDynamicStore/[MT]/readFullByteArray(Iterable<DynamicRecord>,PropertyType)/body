{
  byte[] header=null;
  List<byte[]> byteList=new LinkedList<byte[]>();
  int totalSize=0, i=0;
  for (  DynamicRecord record : records) {
    if (record.isLight()) {
      makeHeavy(record);
    }
    int offset=0;
    if (i++ == 0) {
      header=propertyType.readDynamicRecordHeader(record.getData());
      offset=header.length;
    }
    byteList.add(record.getData());
    totalSize+=(record.getData().length - offset);
  }
  byte[] bArray=new byte[totalSize];
  int sourceOffset=header.length;
  int offset=0;
  for (  byte[] currentArray : byteList) {
    System.arraycopy(currentArray,sourceOffset,bArray,offset,currentArray.length - sourceOffset);
    offset+=(currentArray.length - sourceOffset);
    sourceOffset=0;
  }
  return Pair.of(header,bArray);
}
