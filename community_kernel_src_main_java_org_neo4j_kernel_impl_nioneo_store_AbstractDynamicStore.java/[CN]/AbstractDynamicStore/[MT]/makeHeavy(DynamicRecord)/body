{
  long blockId=record.getId();
  PersistenceWindow window=acquireWindow(blockId,OperationType.READ);
  try {
    Buffer buf=window.getBuffer();
    int offset=(int)(blockId - window.position()) * getBlockSize() + BLOCK_HEADER_SIZE;
    buf.setOffset(offset);
    byte bytes[]=new byte[record.getLength()];
    buf.get(bytes);
    record.setData(bytes);
  }
  finally {
    releaseWindow(window);
  }
}
