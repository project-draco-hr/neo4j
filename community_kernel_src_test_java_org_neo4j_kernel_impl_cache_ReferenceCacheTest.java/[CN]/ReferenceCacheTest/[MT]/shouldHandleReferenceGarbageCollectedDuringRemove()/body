{
  ReferenceCache<TestCacheTypes.Entity> cache=new ReferenceCache<TestCacheTypes.Entity>("MyCache!",spyFactory);
  cache.put(new TestCacheTypes.Entity(0));
  cache.put(new TestCacheTypes.Entity(1));
  cache.put(new TestCacheTypes.Entity(2));
  cache.put(new TestCacheTypes.Entity(3));
  spyFactory.clearAndQueueReferenceNo(0);
  spyFactory.clearAndQueueReferenceNo(1);
  TestCacheTypes.Entity returnedEntity=cache.remove(1);
  assertNull(returnedEntity);
  assertEquals(2,cache.size());
  assertNull(cache.get(0));
  assertNull(cache.get(1));
  assertNotNull(cache.get(2));
  assertNotNull(cache.get(3));
}
