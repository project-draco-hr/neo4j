{
  try (Transaction tx=master.beginTx()){
    Set<Object> values=new HashSet<>();
    for (    Node node : GlobalGraphOperations.at(master).getAllNodesWithLabel(label)) {
      Object value=node.getProperty(property);
      if (values.contains(value)) {
        throw new AssertionError(label + ":" + property+ " contained duplicate property value '"+ value+ "', despite constraint existing.");
      }
      values.add(value);
    }
    tx.success();
  }
 }
