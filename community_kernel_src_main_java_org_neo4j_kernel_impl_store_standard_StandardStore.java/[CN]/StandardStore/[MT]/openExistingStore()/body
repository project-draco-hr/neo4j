{
  channel=fs.open(dbFileName,"rw");
  initializeToolkit();
  boolean idGeneratorNeedsRebuilding=openCloseLogic.openStore(channel);
  file=pageCache.map(dbFileName,toolkit.pageSize());
  if (idGeneratorNeedsRebuilding) {
    IdGeneratorRebuilder rebuilder=idGeneratorRebuilding.newIdGeneratorRebuilder(this,toolkit,idGenerator);
    rebuilder.rebuildIdGenerator();
  }
}
