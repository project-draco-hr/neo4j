{
  SlaveLockManager.Configuration slaveConfig=new SlaveLockManager.Configuration(){
    @Override public long getAvailabilityTimeout(){
      return config.get(HaSettings.state_switch_timeout);
    }
  }
;
  return new SlaveLockManager(txManager,txHook,availabilityGuard,slaveConfig,new RagManager(),requestContextFactory,master,xaDsm);
}
