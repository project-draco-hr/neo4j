{
  try {
    ArrayMap<Integer,PropertyData> properties=persistenceManager.loadNodeProperties(id,true);
    if (properties == null)     return null;
    CachedNodeEntity result=new CachedNodeEntity(id);
    Set<Long> labels=new HashSet<Long>();
    for (    PropertyData data : properties.values()) {
      if (representsLabel(data)) {
        labels.add((long)data.getIndex());
      }
    }
    result.addLabels(labels);
    return result;
  }
 catch (  InvalidRecordException e) {
    return null;
  }
}
