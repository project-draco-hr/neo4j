{
  long nodeId=3;
  Set<Long> labels=new HashSet<Long>(asList(1L,2L,3L));
  PersistenceCache cache=mock(PersistenceCache.class);
  when(cache.getLabels(nodeId)).thenReturn(labels);
  StatementContext actual=mock(StatementContext.class);
  StatementContext context=new CachingStatementContext(actual,cache);
  Iterable<Long> recievedLabels=context.getLabelsForNode(nodeId);
  assertEquals(labels,addToCollection(recievedLabels,new HashSet<Long>()));
}
