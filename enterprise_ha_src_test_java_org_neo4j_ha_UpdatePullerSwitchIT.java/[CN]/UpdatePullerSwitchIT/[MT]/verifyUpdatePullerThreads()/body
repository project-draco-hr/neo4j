{
  InstanceId masterId=managedCluster.getMaster().getConfig().get(ClusterSettings.server_id);
  InstanceId slaveId=managedCluster.getAnySlave().getConfig().get(ClusterSettings.server_id);
  Map<Thread,StackTraceElement[]> allStackTraces=Thread.getAllStackTraces();
  Set<Thread> threads=allStackTraces.keySet();
  assertFalse("Master should not have any puller threads",findThreadWithPrefix(threads,SlaveUpdatePuller.UPDATE_PULLER_THREAD_PREFIX + masterId));
  assertTrue("Slave should have active puller thread",findThreadWithPrefix(threads,SlaveUpdatePuller.UPDATE_PULLER_THREAD_PREFIX + slaveId));
}
