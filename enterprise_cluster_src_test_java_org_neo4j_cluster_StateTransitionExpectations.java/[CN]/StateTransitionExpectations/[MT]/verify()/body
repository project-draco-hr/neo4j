{
  StringBuilder builder=new StringBuilder();
  for (  ExpectingStateTransitionListener listener : expectations)   listener.transitionHistory(builder);
  if (builder.length() != 0) {
    throw new IllegalStateException("Failed expectations:" + builder.toString());
  }
}
