{
  Node node=graphDb.createNode();
  nodes.put(id,node);
  nodeNames.put(node,id);
  node.setProperty(KEY_ID,id);
  for (  Map.Entry<String,Object> property : properties.entrySet()) {
    if (property.getKey().equals(KEY_ID)) {
      throw new RuntimeException("Can't use '" + property.getKey() + "'");
    }
    node.setProperty(property.getKey(),property.getValue());
  }
  return node;
}
