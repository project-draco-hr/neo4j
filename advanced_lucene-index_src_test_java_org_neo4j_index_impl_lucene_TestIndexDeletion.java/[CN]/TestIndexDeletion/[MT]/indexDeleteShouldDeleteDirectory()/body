{
  String otherIndexName="other-index";
  StringBuffer tempPath=new StringBuffer(((AbstractGraphDatabase)graphDb).getStoreDir()).append(File.separator).append("index").append(File.separator).append("lucene").append(File.separator).append("node").append(File.separator);
  File pathToLuceneIndex=new File(tempPath.toString() + INDEX_NAME);
  File pathToOtherLuceneIndex=new File(tempPath.toString() + otherIndexName);
  Index<Node> otherIndex=graphDb.index().forNodes(otherIndexName);
  Node node=graphDb.createNode();
  otherIndex.add(node,"someKey","someValue");
  assertFalse(pathToLuceneIndex.exists());
  assertFalse(pathToOtherLuceneIndex.exists());
  restartTx();
  assertTrue(pathToLuceneIndex.exists());
  assertTrue(pathToOtherLuceneIndex.exists());
  index.delete();
  assertTrue(pathToLuceneIndex.exists());
  assertTrue(pathToOtherLuceneIndex.exists());
  restartTx();
  assertFalse(pathToLuceneIndex.exists());
  assertTrue(pathToOtherLuceneIndex.exists());
}
