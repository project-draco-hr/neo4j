{
  state.locks().acquireShared(ResourceTypes.SCHEMA,schemaResource());
  if (startNodeId < endNodeId) {
    state.locks().acquireExclusive(ResourceTypes.NODE,startNodeId);
    state.locks().acquireExclusive(ResourceTypes.NODE,endNodeId);
  }
 else {
    state.locks().acquireExclusive(ResourceTypes.NODE,endNodeId);
    state.locks().acquireExclusive(ResourceTypes.NODE,startNodeId);
  }
  return entityWriteDelegate.relationshipCreate(state,relationshipTypeId,startNodeId,endNodeId);
}
