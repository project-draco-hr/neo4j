{
  entityReadDelegate.relationshipVisit(state,relationshipId,new RelationshipVisitor<RuntimeException>(){
    @Override public void visit(    long relId,    int type,    long startNode,    long endNode){
      lockRelationshipNodes(state,startNode,endNode);
    }
  }
);
  state.locks().optimistic().acquireExclusive(ResourceTypes.RELATIONSHIP,relationshipId);
  state.assertOpen();
  entityWriteDelegate.relationshipDelete(state,relationshipId);
}
