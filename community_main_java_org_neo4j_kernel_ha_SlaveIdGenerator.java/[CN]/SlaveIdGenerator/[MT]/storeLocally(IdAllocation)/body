{
  this.highestIdInUse=allocation.getHighestIdInUse();
  this.defragCount=allocation.getDefragCount();
  for (  long id : allocation.getIds()) {
    idQueue.add(id);
  }
  updateLocalIdGenerator();
  return idQueue.poll();
}
