{
  KernelTransactions kernelTransactions=newTestKernelTransactions();
  KernelTransaction tx1=kernelTransactions.newInstance(KernelTransaction.Type.implicit,AccessMode.Static.NONE);
  KernelTransaction tx2=kernelTransactions.newInstance(KernelTransaction.Type.implicit,AccessMode.Static.NONE);
  KernelTransaction tx3=kernelTransactions.newInstance(KernelTransaction.Type.implicit,AccessMode.Static.NONE);
  tx1.close();
  tx3.close();
  assertEquals(asSet(newHandle(tx2)),kernelTransactions.activeTransactions());
}
