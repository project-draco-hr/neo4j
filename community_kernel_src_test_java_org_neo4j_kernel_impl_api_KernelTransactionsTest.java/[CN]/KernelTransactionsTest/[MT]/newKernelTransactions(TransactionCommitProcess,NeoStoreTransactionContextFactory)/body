{
  LifeSupport life=new LifeSupport();
  life.start();
  Locks locks=mock(Locks.class);
  when(locks.newClient()).thenReturn(mock(Locks.Client.class));
  StoreReadLayer readLayer=mock(StoreReadLayer.class);
  when(readLayer.acquireStatement()).thenReturn(mock(StoreStatement.class));
  NeoStores neoStores=mock(NeoStores.class);
  when(neoStores.getMetaDataStore()).thenReturn(mock(MetaDataStore.class));
  return new KernelTransactions(contextSupplier,neoStores,locks,mock(IntegrityValidator.class),null,null,null,null,null,null,null,TransactionHeaderInformationFactory.DEFAULT,readLayer,commitProcess,null,null,new TransactionHooks(),mock(ConstraintSemantics.class),mock(TransactionMonitor.class),life,new ProcedureCache(),new Tracers("null",NullLog.getInstance()));
}
