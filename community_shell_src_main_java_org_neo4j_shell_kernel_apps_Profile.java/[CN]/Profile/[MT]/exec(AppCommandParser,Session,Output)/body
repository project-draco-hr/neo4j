{
  String query=parser.getLine();
  if (isComplete(query)) {
    String queryWithoutSemicolon=query.substring("PROFILE".length(),query.lastIndexOf(";"));
    ExecutionEngine engine=new ExecutionEngine(getServer().getDb(),getCypherLogger());
    try {
      ExecutionResult result=engine.profile(queryWithoutSemicolon,getParameters(session));
      out.println(result.dumpToString());
      out.println(result.executionPlanDescription().toString());
    }
 catch (    CypherException e) {
      throw ShellException.wrapCause(e);
    }
    return Continuation.INPUT_COMPLETE;
  }
 else {
    return Continuation.INPUT_INCOMPLETE;
  }
}
