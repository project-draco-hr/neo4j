{
  try {
    this.commit=deletionPolicy.snapshot(ID);
    this.fileNames=commit.getFileNames().iterator();
  }
 catch (  IllegalStateException e) {
    if (e.getMessage().equals(NO_INDEX_COMMIT_TO_SNAPSHOT)) {
      this.commit=null;
      this.fileNames=emptyIterator();
    }
 else {
      throw new IllegalStateException(e);
    }
  }
}
