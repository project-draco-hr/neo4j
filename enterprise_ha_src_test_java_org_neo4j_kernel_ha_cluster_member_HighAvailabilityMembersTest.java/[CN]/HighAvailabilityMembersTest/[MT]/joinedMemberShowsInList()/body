{
  MockedClusterMonitor clusterMonitor=new MockedClusterMonitor();
  MockedHighAvailability highAvailability=new MockedHighAvailability();
  HighAvailabilityMembers members=new HighAvailabilityMembers(clusterMonitor,highAvailability);
  clusterMonitor.enteredCluster(clusterConfiguration(clusterUri1,clusterUri2));
  clusterMonitor.joinedCluster(clusterUri3);
  assertThat(members.getMembers(),containsOnlyMembers(member(clusterUri1).available(false),member(clusterUri2).available(false),member(clusterUri3).available(false)));
}
