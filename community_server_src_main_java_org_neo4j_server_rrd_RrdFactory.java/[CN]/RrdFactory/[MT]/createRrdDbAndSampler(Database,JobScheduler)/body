{
  Sampleable[] sampleables={new MemoryUsedSampleable(),new NodeIdsInUseSampleable(db.graph),new PropertyCountSampleable(db.graph),new RelationshipCountSampleable(db.graph),new RequestBytesSampleable(db),new RequestAvgTimeSampleable(db),new RequestMaxTimeSampleable(db),new RequestMinTimeSampleable(db),new RequestCountSampleable(db)};
  String basePath=config.getString(RRDB_LOCATION_PROPERTY_KEY,getDefaultDirectory(db.graph));
  RrdDb rrdb=createRrdb(basePath,sampleables);
  RrdJob job=new RrdJob(new RequestSnapshotSampler(db),new RrdSamplerImpl(rrdb.createSample(),sampleables));
  scheduler.scheduleAtFixedRate(job,RRD_THREAD_NAME,SECONDS.toSeconds(3));
  return rrdb;
}
