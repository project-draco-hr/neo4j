{
  VersionedHashMap<Object,Object> map=new VersionedHashMap<>();
  for (int i=0; i < 10; i++) {
    map.put(i,true);
  }
  int count=0;
  Iterator<Map.Entry<Object,Object>> it=map.entrySet().iterator();
  while (it.hasNext()) {
    it.next();
    it.remove();
    count++;
  }
  assertThat(count,equalTo(10));
  assertThat(map.size(),equalTo(0));
}
