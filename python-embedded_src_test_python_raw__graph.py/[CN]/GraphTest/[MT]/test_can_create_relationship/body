def test_can_create_relationship(self):
    with self.graphdb.transaction:
        source = self.graphdb.node(message='hello')
        target = self.graphdb.node(message='world')
        relationship = source.related_to(target, message='graphy')
    message = ''
    for rel in source.related_to:
        message += ('%s %s %s' % (rel.startNode['message'], rel['message'], rel.endNode['message']))
    self.assertEquals(message, 'hello graphy world')
