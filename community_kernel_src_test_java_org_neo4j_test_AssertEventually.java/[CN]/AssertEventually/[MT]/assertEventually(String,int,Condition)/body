{
  long startTime=System.currentTimeMillis();
  while (!condition.evaluate()) {
    long currentTime=System.currentTimeMillis();
    if (currentTime - startTime > timeoutSeconds * 1000) {
      fail(format("Condition '%s' was not true after %s seconds.",message,timeoutSeconds));
    }
    try {
      Thread.sleep(100);
    }
 catch (    InterruptedException ignored) {
    }
  }
}
