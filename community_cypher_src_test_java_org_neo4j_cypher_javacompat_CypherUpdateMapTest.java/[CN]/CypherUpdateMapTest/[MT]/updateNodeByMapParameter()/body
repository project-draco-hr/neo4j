{
  engine.execute("START n=node(0) SET n = {data} RETURN n",map("data",map("key1","value1","key2",1234)));
  Node node1=gdb.getNodeById(0);
  assertThat(node1,inTx(gdb,hasProperty("key1").withValue("value1")));
  assertThat(node1,inTx(gdb,hasProperty("key2").withValue(1234)));
  engine.execute("START n=node(0) SET n = {data} RETURN n",map("data",map("key1",null,"key3",5678)));
  Node node2=gdb.getNodeById(0);
  assertThat(node2,inTx(gdb,not(hasProperty("key1"))));
  assertThat(node2,inTx(gdb,not(hasProperty("key2"))));
  assertThat(node2,inTx(gdb,hasProperty("key3").withValue(5678)));
}
