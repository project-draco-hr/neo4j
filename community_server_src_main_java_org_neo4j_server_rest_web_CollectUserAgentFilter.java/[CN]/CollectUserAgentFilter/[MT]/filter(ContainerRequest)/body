{
  if (counter++ < SAMPLE_FREQ) {
    return request;
  }
  counter=0;
  try {
    List<String> headers=request.getRequestHeader(USER_AGENT);
    if (headers != null) {
      for (      String header : headers) {
        if (header == null) {
          continue;
        }
        userAgents.add(header.replaceAll(" .*",""));
      }
    }
  }
 catch (  Exception e) {
  }
  return request;
}
