{
  BoundedIndexSamplingJob job=new BoundedIndexSamplingJob(indexProxy,sampleSize,indexStoreView,logging);
  when(indexProxy.getState()).thenReturn(ONLINE);
  job.run();
  verify(indexStoreView).indexSize(indexDescriptor);
  verify(indexStoreView).replaceIndexSample(MAX_TX_ID,indexDescriptor,indexUniqueValues,indexSize);
  verifyNoMoreInteractions(indexStoreView);
}
