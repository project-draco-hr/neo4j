{
  if (!outputFile.exists()) {
    outputFile.getParentFile().mkdirs();
    outputFile.createNewFile();
  }
  FileOutputStream out=null;
  try {
    out=new FileOutputStream(outputFile);
    byte[] buffer=new byte[1024];
    int len=in.read(buffer);
    while (len != -1) {
      out.write(buffer,0,len);
      len=in.read(buffer);
    }
  }
  finally {
    if (out != null) {
      out.close();
    }
  }
}
