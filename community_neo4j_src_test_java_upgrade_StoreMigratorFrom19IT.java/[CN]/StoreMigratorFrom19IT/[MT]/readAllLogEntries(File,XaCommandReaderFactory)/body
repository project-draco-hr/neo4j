{
  ByteBuffer buffer=ByteBuffer.allocate(1000);
  LogDeserializer logDeserializer=new LogDeserializer(buffer,cmdReaderFactory);
  final List<LogEntry> logs=new ArrayList<>();
  Consumer<LogEntry,IOException> consumer=new Consumer<LogEntry,IOException>(){
    @Override public boolean accept(    LogEntry entry) throws IOException {
      return logs.add(entry);
    }
  }
;
  try (StoreChannel channel=fs.open(file,"r");Cursor<LogEntry,IOException> cursor=logDeserializer.cursor(channel)){
    VersionAwareLogEntryReader.readLogHeader(buffer,channel,false);
    while (cursor.next(consumer))     ;
  }
   return logs;
}
