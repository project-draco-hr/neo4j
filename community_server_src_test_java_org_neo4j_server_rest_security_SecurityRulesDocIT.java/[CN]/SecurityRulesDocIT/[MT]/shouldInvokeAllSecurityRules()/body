{
  server=CommunityServerBuilder.server().withDefaultDatabaseTuning().withSecurityRules(NoAccessToDatabaseSecurityRule.class.getCanonicalName()).usingDataDir(folder.directory(name.getMethodName()).getAbsolutePath()).build();
  server.start();
  functionalTestHelper=new FunctionalTestHelper(server);
  gen.get().expectedStatus(401).get(functionalTestHelper.dataUri()).response();
  assertTrue(NoAccessToDatabaseSecurityRule.wasInvoked());
}
