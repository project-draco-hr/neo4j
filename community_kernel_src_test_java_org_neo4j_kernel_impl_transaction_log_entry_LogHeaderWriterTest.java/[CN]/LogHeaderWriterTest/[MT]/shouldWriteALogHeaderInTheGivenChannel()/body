{
  final InMemoryClosableChannel channel=new InMemoryClosableChannel();
  writeLogHeader(channel,expectedLogVersion,expectedTxId);
  long encodedLogVersions=channel.getLong();
  assertEquals(encodeLogVersion(expectedLogVersion),encodedLogVersions);
  byte logFormatVersion=decodeLogFormatVersion(encodedLogVersions);
  assertEquals(CURRENT_LOG_VERSION,logFormatVersion);
  long logVersion=decodeLogVersion(encodedLogVersions);
  assertEquals(expectedLogVersion,logVersion);
  long txId=channel.getLong();
  assertEquals(expectedTxId,txId);
}
