{
  NodeStore store=legacyStore.getNodeStore();
  final BiConsumer<InputNode,NodeRecord> propertyDecorator=propertyDecorator(requiresPropertyMigration,legacyStore);
  return new StoreScanAsInputIterable<InputNode,NodeRecord>(store){
    @Override protected InputNode inputEntityOf(    NodeRecord record){
      InputNode node=new InputNode("legacy store",record.getId(),record.getId() * NodeRecordFormat.RECORD_SIZE,record.getId(),InputEntity.NO_PROPERTIES,record.getNextProp(),InputNode.NO_LABELS,record.getLabelField());
      propertyDecorator.accept(node,record);
      return node;
    }
  }
;
}
