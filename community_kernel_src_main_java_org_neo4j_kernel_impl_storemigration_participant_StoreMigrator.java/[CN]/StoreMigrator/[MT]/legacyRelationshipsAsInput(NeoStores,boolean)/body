{
  RelationshipStore store=legacyStore.getRelationshipStore();
  final BiConsumer<InputRelationship,RelationshipRecord> propertyDecorator=propertyDecorator(requiresPropertyMigration,legacyStore);
  return new StoreScanAsInputIterable<InputRelationship,RelationshipRecord>(store){
    @Override protected InputRelationship inputEntityOf(    RelationshipRecord record){
      InputRelationship result=new InputRelationship("legacy store",record.getId(),record.getId() * RelationshipRecordFormat.RECORD_SIZE,InputEntity.NO_PROPERTIES,record.getNextProp(),record.getFirstNode(),record.getSecondNode(),null,record.getType());
      propertyDecorator.accept(result,record);
      return result;
    }
  }
;
}
