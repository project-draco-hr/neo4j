{
  final CyclicBarrier cb=new CyclicBarrier(tasksToSubmit);
  for (int i=0; i < tasksToSubmit; i++) {
    threadPool.dispatch(new Runnable(){
      @Override public void run(){
        try {
          cb.await();
        }
 catch (        InterruptedException e) {
          e.printStackTrace();
        }
catch (        BrokenBarrierException e) {
          e.printStackTrace();
        }
      }
    }
);
  }
}
