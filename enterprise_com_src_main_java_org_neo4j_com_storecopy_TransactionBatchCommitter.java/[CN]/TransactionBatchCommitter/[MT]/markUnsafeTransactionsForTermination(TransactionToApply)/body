{
  long lastAppliedTimestamp=last.transactionRepresentation().getTimeCommitted();
  long earliestSafeTimestamp=lastAppliedTimestamp - idReuseSafeZoneTime;
  for (  KernelTransaction tx : kernelTransactions.activeTransactions()) {
    long commitTimestamp=tx.lastTransactionTimestampWhenStarted();
    if (commitTimestamp != TransactionIdStore.BASE_TX_COMMIT_TIMESTAMP && commitTimestamp < earliestSafeTimestamp) {
      tx.markForTermination(Status.Transaction.Outdated);
    }
  }
}
