{
  Map<Integer,Collection<String>> map=new HashMap<Integer,Collection<String>>();
  for (  Node node : traverser) {
    Collection<String> collection=map.get(traverser.currentPosition().depth());
    if (collection == null) {
      collection=new ArrayList<String>();
      map.put(traverser.currentPosition().depth(),collection);
    }
    String name=(String)node.getProperty("node.test.id");
    collection.add(name);
  }
  for (int i=0; i < nodes.length; i++) {
    Collection<String> expected=Arrays.asList(nodes[i]);
    assertEquals(expected,map.get(i));
  }
}
