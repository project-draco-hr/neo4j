{
  Collection<SchemaRule> rules=asList();
  SchemaCache cache=new SchemaCache(rules);
  cache.addSchemaRule(uniquenessConstraintRule(0l,1,2,133l));
  cache.addSchemaRule(uniquenessConstraintRule(1l,3,4,133l));
  assertEquals(asSet(new UniquenessConstraint(1,2),new UniquenessConstraint(3,4)),asSet(cache.constraints()));
  assertEquals(asSet(new UniquenessConstraint(1,2)),asSet(cache.constraintsForLabel(1)));
  assertEquals(asSet(new UniquenessConstraint(1,2)),asSet(cache.constraintsForLabelAndProperty(1,2)));
  assertEquals(asSet(),asSet(cache.constraintsForLabelAndProperty(1,3)));
}
