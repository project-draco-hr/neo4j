{
  Collection<SchemaRule> rules=Arrays.<SchemaRule>asList(hans,witch,gretel);
  SchemaCache cache=new SchemaCache(rules);
  assertEquals(asSet(hans,gretel),asSet(cache.getSchemaRules(0)));
  assertEquals(asSet(witch),asSet(cache.getSchemaRules(3)));
  assertEquals(asSet(rules),asSet(cache.getSchemaRules()));
}
