{
  if (referenceCount == 0) {
    throw new NotInTransactionException("The statement has been closed.");
  }
  if (transaction.shouldBeTerminated()) {
    throw new TransactionTerminatedException();
  }
}
