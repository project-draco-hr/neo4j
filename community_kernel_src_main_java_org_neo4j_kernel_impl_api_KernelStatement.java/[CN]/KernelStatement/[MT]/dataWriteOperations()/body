{
  if (!transaction.mode().allowsWrites()) {
    throw new AuthorizationViolationException(String.format("Write operations are not allowed for `%s` transactions.",transaction.mode().name()));
  }
  transaction.upgradeToDataTransaction();
  return facade;
}
