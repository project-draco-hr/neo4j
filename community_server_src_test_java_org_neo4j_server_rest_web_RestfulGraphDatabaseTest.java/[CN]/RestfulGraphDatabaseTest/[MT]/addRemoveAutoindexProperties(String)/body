{
  Response response=service.getAutoIndexedProperties(type);
  assertEquals(200,response.getStatus());
  String entity=entityAsString(response);
  List<String> properties=(List<String>)JsonHelper.readJson(entity);
  assertEquals(0,properties.size());
  response=service.startAutoIndexingProperty(type,"myAutoIndexedProperty1");
  assertEquals(204,response.getStatus());
  response=service.startAutoIndexingProperty(type,"myAutoIndexedProperty2");
  assertEquals(204,response.getStatus());
  response=service.getAutoIndexedProperties(type);
  assertEquals(200,response.getStatus());
  entity=entityAsString(response);
  properties=(List<String>)JsonHelper.readJson(entity);
  assertEquals(2,properties.size());
  assertTrue(properties.contains("myAutoIndexedProperty1"));
  assertTrue(properties.contains("myAutoIndexedProperty2"));
  response=service.stopAutoIndexingProperty(type,"myAutoIndexedProperty2");
  assertEquals(204,response.getStatus());
  response=service.getAutoIndexedProperties(type);
  assertEquals(200,response.getStatus());
  entity=entityAsString(response);
  properties=(List<String>)JsonHelper.readJson(entity);
  assertEquals(1,properties.size());
  assertTrue(properties.contains("myAutoIndexedProperty1"));
}
