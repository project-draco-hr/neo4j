{
  URI node=(URI)service.createNode(null).getMetadata().getFirst("Location");
  Map<String,String> createRel=new HashMap<>();
  createRel.put("to",node.toString());
  createRel.put("type","knows");
  URI rel=(URI)service.createRelationship(helper.createNode(),JsonHelper.createJsonFrom(createRel)).getMetadata().getFirst("Location");
  Map<String,String> indexPostBody=new HashMap<>();
  indexPostBody.put("key","mykey");
  indexPostBody.put("value","myvalue");
  indexPostBody.put("uri",node.toString());
  Response response=service.addToNodeIndex("","","",JsonHelper.createJsonFrom(indexPostBody));
  assertEquals("http bad request when trying to create an index with empty name",400,response.getStatus());
  indexPostBody.put("uri",rel.toString());
  response=service.addToRelationshipIndex("","","",JsonHelper.createJsonFrom(indexPostBody));
  assertEquals("http bad request when trying to create an index with empty name",400,response.getStatus());
  Map<String,String> basicIndexCreation=new HashMap<>();
  basicIndexCreation.put("name","");
  response=service.jsonCreateNodeIndex(JsonHelper.createJsonFrom(basicIndexCreation));
  assertEquals("http bad request when trying to create an index with empty name",400,response.getStatus());
  response=service.jsonCreateRelationshipIndex(JsonHelper.createJsonFrom(basicIndexCreation));
  assertEquals("http bad request when trying to create an index with empty name",400,response.getStatus());
}
