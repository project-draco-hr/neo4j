{
  long startNode=helper.createNode();
  long endNode=helper.createNode();
  Response response=service.createRelationship(FORCE,startNode,"{\"to\" : \"" + BASE_URI + endNode+ "\", \"type\" : \"LOVES\", \"data\" : {\"foo\" : \"bar\"}}");
  Map<String,Object> map=JsonHelper.jsonToMap(entityAsString(response));
  assertNotNull(map);
  assertTrue(map.containsKey("self"));
  assertEquals(response.getMetadata().getFirst(HttpHeaders.CONTENT_TYPE).toString(),"application/json");
  @SuppressWarnings("unchecked") Map<String,Object> data=(Map<String,Object>)map.get("data");
  assertEquals("bar",data.get("foo"));
}
