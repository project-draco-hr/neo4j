{
  DirectNetworking net=new DirectNetworking();
  final MemberId[] ids={member(0),member(1),member(2)};
  RaftTestFixture fixture=new RaftTestFixture(net,3,ids);
  fixture.members().setTargetMembershipSet(new RaftTestGroup(ids).getMembers());
  fixture.members().invokeTimeout(ELECTION);
  net.processMessages();
  assertThat(fixture.members(),hasCurrentMembers(new RaftTestGroup(new int[0])));
  assertEquals(0,fixture.members().withRole(LEADER).size());
  assertEquals(3,fixture.members().withRole(FOLLOWER).size());
}
