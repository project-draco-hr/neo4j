{
  StoreChannel source=fromFs.open(from,"r");
  StoreChannel sink=this.open(to,"rw");
  try {
    for (int available; (available=(int)(source.size() - source.position())) > 0; ) {
      buffer.clear();
      buffer.limit(min(available,buffer.capacity()));
      source.read(buffer);
      buffer.flip();
      sink.write(buffer);
    }
  }
  finally {
    if (source != null) {
      source.close();
    }
    if (sink != null) {
      sink.close();
    }
  }
}
