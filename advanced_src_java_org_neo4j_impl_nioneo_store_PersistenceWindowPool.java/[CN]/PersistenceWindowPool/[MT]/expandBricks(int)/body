{
  if (newBrickCount > brickCount) {
    BrickElement tmpArray[]=new BrickElement[newBrickCount];
    System.arraycopy(brickArray,0,tmpArray,0,brickArray.length);
    for (int i=brickArray.length; i < tmpArray.length; i++) {
      BrickElement be=new BrickElement(i);
      tmpArray[i]=be;
      if (memUsed + brickSize <= mappedMem) {
        try {
          be.setWindow(new MappedPersistenceWindow(((long)i) * brickSize / blockSize,blockSize,brickSize,fileChannel));
          memUsed+=brickSize;
        }
 catch (        MappedMemException e) {
          ooe++;
          logWarn("Unable to memory map");
        }
      }
    }
    brickArray=tmpArray;
    brickCount=tmpArray.length;
  }
}
