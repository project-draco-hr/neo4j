{
  ArrayList<CacheProvider> cacheList=new ArrayList<>();
  TestGraphDatabaseFactory gdbf=new TestGraphDatabaseFactory();
  cacheList.add(new SoftCacheProvider());
  gdbf.setCacheProviders(cacheList);
  GraphDatabaseAPI db=(GraphDatabaseAPI)gdbf.newImpermanentDatabase();
  assertEquals(SoftCacheProvider.NAME,db.getDependencyResolver().resolveDependency(NodeManager.class).getCacheType().getName());
  db.shutdown();
}
