{
  ArrayList<CacheProvider> cacheList=new ArrayList<CacheProvider>();
  TestGraphDatabaseFactory gdbf=new TestGraphDatabaseFactory();
  gdbf.setCacheProviders(cacheList);
  try {
    gdbf.newImpermanentDatabase();
  }
 catch (  IllegalArgumentException iae) {
    assertTrue(iae.getMessage().contains("No provider for cache type"));
    assertTrue(iae.getMessage().contains("register"));
    assertTrue(iae.getMessage().contains("missing"));
  }
}
