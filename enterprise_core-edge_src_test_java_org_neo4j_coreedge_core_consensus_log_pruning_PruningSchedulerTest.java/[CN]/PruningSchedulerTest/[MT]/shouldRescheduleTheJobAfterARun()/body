{
  PruningScheduler scheduler=new PruningScheduler(logPruner,jobScheduler,20L,NullLogProvider.getInstance());
  assertNull(jobScheduler.getJob());
  scheduler.start();
  Runnable scheduledJob=jobScheduler.getJob();
  assertNotNull(scheduledJob);
  jobScheduler.runJob();
  verify(jobScheduler,times(2)).schedule(eq(raftLogPruning),any(Runnable.class),eq(20L),eq(TimeUnit.MILLISECONDS));
  verify(logPruner,times(1)).prune();
  assertEquals(scheduledJob,jobScheduler.getJob());
}
