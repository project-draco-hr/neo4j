{
  Store<TestRecord,TestCursor> store=life.add(new StandardStore<>(new TestHeaderlessStoreFormat(),new File("/store"),new TestStoreIdGenerator(),pageCache,fsRule.get(),NullLogProvider.getInstance()));
  long firstId=store.allocate();
  long secondId=store.allocate();
  long thirdId=store.allocate();
  long fourthId=store.allocate();
  store.write(new TestRecord(firstId,1337));
  store.write(new TestRecord(secondId,1338));
  store.write(new TestRecord(fourthId,1338));
  TestCursor cursor=store.cursor(Store.SF_REVERSE_CURSOR);
  assertTrue(cursor.next());
  assertEquals(fourthId,cursor.recordId());
  assertTrue(cursor.next());
  assertEquals(secondId,cursor.recordId());
  assertTrue(cursor.next());
  assertEquals(firstId,cursor.recordId());
  assertFalse(cursor.next());
  store.stop();
  store.shutdown();
}
