{
  final List<Long> expectedLockedIds=Arrays.asList(expectedResourceIds);
  final List<Long> seenLockedIds=new ArrayList<>();
  locks.accept(new Locks.Visitor(){
    @Override public void visit(    Locks.ResourceType resourceType,    long resourceId,    String description,    long estimatedWaitTime,    long lockIdentityHashCode){
      seenLockedIds.add(resourceId);
    }
  }
);
  Collections.sort(expectedLockedIds);
  Collections.sort(seenLockedIds);
  assertEquals("unexpected locked resource ids",expectedLockedIds,seenLockedIds);
}
