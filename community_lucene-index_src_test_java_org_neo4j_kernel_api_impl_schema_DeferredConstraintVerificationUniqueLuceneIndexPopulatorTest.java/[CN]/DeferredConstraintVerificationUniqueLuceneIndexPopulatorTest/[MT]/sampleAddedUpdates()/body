{
  populator=newPopulator();
  List<NodePropertyUpdate> updates=Arrays.asList(NodePropertyUpdate.add(1,1,"foo",new long[]{1}),NodePropertyUpdate.add(2,1,"bar",new long[]{1}),NodePropertyUpdate.add(3,1,"baz",new long[]{1}),NodePropertyUpdate.add(4,1,"qux",new long[]{1}));
  populator.add(updates);
  Register.DoubleLongRegister register=Registers.newDoubleLongRegister();
  long indexSize=populator.sampleResult(register);
  long uniqueElements=register.readFirst();
  long sampleSize=register.readSecond();
  assertEquals(4,indexSize);
  assertEquals(4,uniqueElements);
  assertEquals(4,sampleSize);
}
