{
  if (properties != null) {
    Transaction tx=db.beginTx();
    try {
      for (      Map.Entry<String,Object> property : properties.entrySet()) {
        setProperty(entity,property.getKey(),property.getValue());
      }
      tx.success();
    }
  finally {
      tx.finish();
    }
  }
}
