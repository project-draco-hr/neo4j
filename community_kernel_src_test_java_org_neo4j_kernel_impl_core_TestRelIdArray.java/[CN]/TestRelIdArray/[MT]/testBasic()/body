{
  RelIdArray array=new RelIdArray();
  array.add(1,Direction.OUTGOING);
  array.add(2,Direction.OUTGOING);
  array.add(3,Direction.INCOMING);
  RelIdIterator itr=array.iterator(DirectionWrapper.OUTGOING);
  assertTrue(itr.hasNext());
  assertTrue(itr.hasNext());
  assertEquals(1L,itr.next());
  assertTrue(itr.hasNext());
  assertEquals(2L,itr.next());
  assertFalse(itr.hasNext());
  assertFalse(itr.hasNext());
  itr=array.iterator(DirectionWrapper.INCOMING);
  assertTrue(itr.hasNext());
  assertEquals(3L,itr.next());
  assertFalse(itr.hasNext());
  itr=array.iterator(DirectionWrapper.BOTH);
  assertTrue(itr.hasNext());
  assertTrue(itr.hasNext());
  assertEquals(1L,itr.next());
  assertTrue(itr.hasNext());
  assertEquals(2L,itr.next());
  assertTrue(itr.hasNext());
  assertEquals(3L,itr.next());
  assertFalse(itr.hasNext());
  assertFalse(itr.hasNext());
}
