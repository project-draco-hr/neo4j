{
  RelIdArray array=new RelIdArray(null);
  array.add(1,OUTGOING);
  array.add(2,OUTGOING);
  array.add(3,INCOMING);
  RelIdIterator itr=array.iterator(OUTGOING);
  assertTrue(itr.hasNext());
  assertTrue(itr.hasNext());
  assertEquals(1L,itr.next());
  assertTrue(itr.hasNext());
  assertEquals(2L,itr.next());
  assertFalse(itr.hasNext());
  assertFalse(itr.hasNext());
  itr=array.iterator(INCOMING);
  assertTrue(itr.hasNext());
  assertEquals(3L,itr.next());
  assertFalse(itr.hasNext());
  itr=array.iterator(BOTH);
  assertTrue(itr.hasNext());
  assertTrue(itr.hasNext());
  assertEquals(1L,itr.next());
  assertTrue(itr.hasNext());
  assertEquals(2L,itr.next());
  assertTrue(itr.hasNext());
  assertEquals(3L,itr.next());
  assertFalse(itr.hasNext());
  assertFalse(itr.hasNext());
}
