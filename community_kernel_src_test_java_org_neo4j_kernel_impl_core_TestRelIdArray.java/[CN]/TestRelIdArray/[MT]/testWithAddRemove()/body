{
  RelIdArray source=new RelIdArray(0);
  source.add(1,OUTGOING);
  source.add(2,OUTGOING);
  source.add(3,INCOMING);
  source.add(4,INCOMING);
  RelIdArray add=new RelIdArray(0);
  add.add(5,OUTGOING);
  add.add(6,OUTGOING);
  add.add(7,OUTGOING);
  Collection<Long> remove=new HashSet<Long>();
  remove.add(2L);
  remove.add(6L);
  List<Long> allIds=asList(RelIdArray.from(source,add,remove));
  Collections.sort(allIds);
  assertEquals(Arrays.asList(1L,3L,4L,5L,7L),allIds);
}
