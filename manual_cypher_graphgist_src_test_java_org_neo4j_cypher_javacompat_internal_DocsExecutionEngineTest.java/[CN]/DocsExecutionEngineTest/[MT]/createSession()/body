{
  InternalTransaction transaction=database.beginTransaction(KernelTransaction.Type.implicit,AccessMode.Static.FULL);
  ThreadToStatementContextBridge bridge=database.getDependencyResolver().resolveDependency(ThreadToStatementContextBridge.class);
  Neo4jTransactionalContext context=new Neo4jTransactionalContext(database,transaction,bridge.get(),"X",Collections.emptyMap(),new PropertyContainerLocker());
  return QueryEngineProvider.embeddedSession(context);
}
