{
  Transaction tx=db.beginTx();
  StatementContext statement=statementContextProvider.getCtxForWriting();
  long labelId=5, propertyKey=8;
  IndexRule rule=statement.addIndexRule(labelId,propertyKey);
  tx.success();
  tx.finish();
  statement=statementContextProvider.getCtxForReading();
  assertEquals(asSet(rule),asSet(statement.getIndexRules(labelId)));
  assertEquals(rule,statement.getIndexRule(labelId,propertyKey));
}
