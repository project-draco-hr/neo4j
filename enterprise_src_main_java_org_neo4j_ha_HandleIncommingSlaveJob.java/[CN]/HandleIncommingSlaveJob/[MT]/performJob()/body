{
switch ((Status)getStatus()) {
case GET_GREETING:
    return getGreeting();
case SETUP_GREETING:
  return setupGreeting();
case SEND_GREETING:
return sendGreeting();
case SEND_BYE:
return sendBye();
default :
throw new IllegalStateException("Unkown status: " + getStatus());
}
}
