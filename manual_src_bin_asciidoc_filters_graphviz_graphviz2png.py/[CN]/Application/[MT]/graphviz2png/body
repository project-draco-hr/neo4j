def graphviz2png(self, infile, outfile):
    'Convert Graphviz notation in file infile to\n           PNG file named outfile.'
    outfile = os.path.abspath(outfile)
    outdir = os.path.dirname(outfile)
    if (not os.path.isdir(outdir)):
        raise EApp, ('directory does not exist: %s' % outdir)
    basefile = os.path.splitext(outfile)[0]
    saved_cwd = os.getcwd()
    os.chdir(outdir)
    try:
        cmd = ('%s -T%s "%s" > "%s"' % (self.options.layout, self.options.format, infile, outfile))
        self.systemcmd(cmd)
    finally:
        os.chdir(saved_cwd)
    if (not self.options.do_debug):
        os.unlink(infile)
