{
  List<Worker> workers=new ArrayList<Worker>();
  for (int i=0; i < 8; i++) {
    Worker worker=new Worker();
    workers.add(worker);
    worker.start();
  }
  long endTime=System.currentTimeMillis() + SECONDS.toMillis(60 * 3);
  int tick=2;
  while (System.currentTimeMillis() < endTime) {
    Thread.sleep(SECONDS.toMillis(tick));
    System.out.println(getPoolStats());
    fileSize+=mega(tick);
  }
  for (  Worker worker : workers) {
    worker.halted=true;
  }
  long total=0;
  for (  Worker putter : workers) {
    total+=putter.waitForEnd();
  }
  System.out.println("total:" + total);
}
