{
  if (indexService == null) {
    if (db instanceof EmbeddedGraphDatabase) {
      indexService=new LuceneIndexService(db);
      fulltextIndexService=new LuceneFulltextIndexService(db);
      indicies=instantiateSomeIndicies();
    }
 else {
      throw new UnsupportedOperationException("Indexing is not yet available in neo4j-rest for remote databases.");
    }
  }
}
