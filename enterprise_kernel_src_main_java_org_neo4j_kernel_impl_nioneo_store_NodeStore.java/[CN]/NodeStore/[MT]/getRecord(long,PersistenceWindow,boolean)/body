{
  Buffer buffer=window.getOffsettedBuffer(id);
  long inUseByte=buffer.get();
  boolean inUse=(inUseByte & 0x1) == Record.IN_USE.intValue();
  if (!inUse) {
    if (check) {
      return null;
    }
    throw new InvalidRecordException("Record[" + id + "] not in use");
  }
  long nextRel=buffer.getUnsignedInt();
  long nextProp=buffer.getUnsignedInt();
  long relModifier=nextRel == IdGeneratorImpl.INTEGER_MINUS_ONE && (inUseByte & 0xE) == 0 ? 0 : (inUseByte & 0xE) << 31;
  long propModifier=nextProp == IdGeneratorImpl.INTEGER_MINUS_ONE && (inUseByte & 0xF0) == 0 ? 0 : (inUseByte & 0xF0) << 28;
  NodeRecord nodeRecord=new NodeRecord(id);
  nodeRecord.setInUse(inUse);
  nodeRecord.setNextRel(longFromIntAndMod(nextRel,relModifier));
  nodeRecord.setNextProp(longFromIntAndMod(nextProp,propModifier));
  return nodeRecord;
}
