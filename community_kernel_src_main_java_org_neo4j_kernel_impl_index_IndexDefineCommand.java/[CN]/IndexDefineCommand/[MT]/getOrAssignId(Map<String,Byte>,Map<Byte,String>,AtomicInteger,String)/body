{
  if (string == null) {
    return -1;
  }
  Byte id=stringToId.get(string);
  if (id != null) {
    return id;
  }
  int nextIdInt=nextId.incrementAndGet();
  if (nextIdInt > 63) {
    throw new IllegalStateException("Modifying more than 63 indexes in a single transaction is not supported");
  }
  id=(byte)nextIdInt;
  stringToId.put(string,id);
  idToString.put(id,string);
  return id;
}
