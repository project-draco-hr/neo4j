{
  if (string == null) {
    return -1;
  }
  Byte id=stringToId.get(string);
  if (id != null) {
    return id.byteValue();
  }
  int nextIdInt=nextId.incrementAndGet();
  id=(byte)nextIdInt;
  if (nextIdInt != id) {
    throw new IllegalArgumentException("Too many names " + nextIdInt);
  }
  stringToId.put(string,id);
  idToString.put(id,string);
  return id.byteValue();
}
