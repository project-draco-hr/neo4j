{
  final CountDownLatch failedLatch=new CountDownLatch(2);
  for (  HighlyAvailableGraphDatabase db : cluster.getAllMembers()) {
    if (!db.isMaster()) {
      db.getDependencyResolver().resolveDependency(ClusterClient.class).addHeartbeatListener(new HeartbeatListener(){
        @Override public void failed(        InstanceId server){
          failedLatch.countDown();
        }
        @Override public void alive(        InstanceId server){
        }
      }
);
    }
  }
  return failedLatch;
}
