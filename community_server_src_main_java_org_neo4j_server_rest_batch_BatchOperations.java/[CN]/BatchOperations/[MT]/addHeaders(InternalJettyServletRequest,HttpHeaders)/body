{
  for (  Map.Entry<String,List<String>> header : httpHeaders.getRequestHeaders().entrySet()) {
    final String key=header.getKey();
    final List<String> value=header.getValue();
    if (value == null)     continue;
    if (value.size() != 1)     throw new IllegalArgumentException("expecting one value per header");
    if (!key.equals("Accept") && !key.equals("Content-Type")) {
      res.addHeader(key,value.get(0));
    }
  }
  res.addHeader("Accept","application/json");
  res.addHeader("Content-Type","application/json");
}
