{
  long available=Runtime.getRuntime().maxMemory();
  long defaultMem=(available / 4);
  long node=config.isSet(node_cache_size) ? config.getSize(node_cache_size) : defaultMem;
  long rel=config.isSet(relationship_cache_size) ? config.getSize(relationship_cache_size) : defaultMem;
  checkMemToUse(logger,node,rel,available);
  return new GCResistantCache<NodeImpl>(node,config.getFloat(node_cache_array_fraction),config.getDuration(array_cache_min_log_interval),NODE_CACHE_NAME,logger);
}
