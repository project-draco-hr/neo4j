{
  String storeDir=db.getStoreDir();
  File path=new File(storeDir);
  shutdownDB();
  Process process=Runtime.getRuntime().exec(new String[]{ProcessUtil.getJavaExecutable().toString(),"-Xdebug","-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005","-cp",ProcessUtil.getClassPath(),AddRelToIndex.class.getName(),storeDir});
  assertEquals(0,new ProcessStreamHandler(process,false).waitForResult());
  FileSystemAbstraction fileSystem=new DefaultFileSystemAbstraction();
  Config config=new Config(MapUtil.stringMap(),GraphDatabaseSettings.class);
  LuceneDataSource ds=new LuceneDataSource(path,config,new IndexConfigStore(path,fileSystem),fileSystem);
  ds.start();
  ds.stop();
}
