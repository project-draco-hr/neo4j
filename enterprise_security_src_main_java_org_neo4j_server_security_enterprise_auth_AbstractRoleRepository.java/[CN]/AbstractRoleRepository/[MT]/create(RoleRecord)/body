{
  assertValidRoleName(role.name());
synchronized (this) {
    for (    RoleRecord other : roles) {
      if (other.name().equals(role.name())) {
        throw new IllegalArgumentException("The specified role '" + role.name() + "' already exists.");
      }
    }
    roles.add(role);
    persistRoles();
    rolesByName.put(role.name(),role);
    populateUserMap(role);
  }
}
