{
  if (logFile.rotationNeeded()) {
    boolean rotated;
synchronized (logFile) {
      if (rotated=logFile.rotationNeeded()) {
        try (LogRotateEvent rotateEvent=logAppendEvent.beginLogRotate()){
          doRotate();
        }
       }
      return rotated;
    }
  }
  return false;
}
