{
  databases.visit(CONFIG_DB,new DatabaseRegistry.Visitor(){
    @Override public void visit(    Database db){
      try (Transaction tx=db.getGraph().beginTx()){
        db.executionEngine().execute("CREATE (db:Database {key:{key}, provider:{provider}, path:{path}, mode:{mode}})-[:CONFIGURED_BY]->({cfg})",map("key",dbKey,"provider",provider,"path",dbConfig.get(GraphDatabaseSettings.store_dir).getPath(),"mode",mode.name(),"cfg",dbConfig.getParams()));
        tx.success();
      }
     }
  }
);
  return new DatabaseDefinition(dbKey,provider,mode,dbConfig);
}
