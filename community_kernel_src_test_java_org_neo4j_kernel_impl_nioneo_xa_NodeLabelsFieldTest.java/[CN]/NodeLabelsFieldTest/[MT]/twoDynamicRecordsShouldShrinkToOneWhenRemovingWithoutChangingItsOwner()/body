{
  Long nodeId=42l;
  NodeRecord node=nodeRecordWithDynamicLabels(nodeId,nodeStore,oneByteLongs(57));
  Collection<DynamicRecord> initialRecords=node.getDynamicLabelRecords();
  NodeLabels nodeLabels=NodeLabelsField.parseLabelsField(node);
  List<DynamicRecord> changedDynamicRecords=addToCollection(nodeLabels.remove(255,nodeStore),new ArrayList<DynamicRecord>());
  Pair<Long,long[]> changedPair=nodeStore.getDynamicLabelsArrayAndOwner(changedDynamicRecords);
  assertEquals(nodeId,changedPair.first());
}
