{
  long labelId1=10, labelId2=30, labelId3=4096;
  NodeRecord node=nodeRecordWithInlinedLabels(labelId1,labelId2);
  NodeLabels nodeLabels=NodeLabelsField.parseLabelsField(node);
  Collection<DynamicRecord> changedDynamicRecords=nodeLabels.add(labelId3,nodeStore,nodeStore.getDynamicLabelStore());
  assertEquals(1,count(changedDynamicRecords));
  assertEquals(dynamicLabelsLongRepresentation(changedDynamicRecords),node.getLabelField());
  assertTrue(Arrays.equals(new long[]{labelId1,labelId2,labelId3},nodeStore.getDynamicLabelsArray(changedDynamicRecords)));
}
