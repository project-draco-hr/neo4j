{
  Map<String,String> argMap=parseArgs(args);
  String dbPath=argMap.get(ARG_PATH);
  if (dbPath == null) {
    System.err.println("ERROR: To start a local Neo4j service and a " + "shell client on top of that you need to supply a path to a " + "Neo4j store or just a new path where a new store will "+ "be created if it doesn't exist. -" + ARG_PATH + " /my/path/here");
    return;
  }
  try {
    boolean readOnly=argMap.containsKey(ARG_READONLY) && stringAsBoolean(argMap.get(ARG_READONLY),true);
    tryStartLocalServerAndClient(dbPath,readOnly,args);
  }
 catch (  Exception e) {
    if (storeWasLocked(e)) {
      if (wantToConnectReadOnlyInstead()) {
        try {
          tryStartLocalServerAndClient(dbPath,true,args);
        }
 catch (        Exception innerException) {
          handleException(innerException,argMap);
        }
      }
 else {
        handleException(e,argMap);
      }
    }
 else {
      handleException(e,argMap);
    }
  }
  System.exit(0);
}
