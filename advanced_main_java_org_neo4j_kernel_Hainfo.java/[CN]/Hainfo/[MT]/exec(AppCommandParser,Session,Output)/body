{
  HighlyAvailableGraphDatabase db=(HighlyAvailableGraphDatabase)getServer().getDb();
  MasterServer master=db.getMasterServerIfMaster();
  out.println("I'm currently " + (master != null ? "master" : "slave"));
  if (master != null) {
    out.println("Connected slaves:");
    for (    Map.Entry<Integer,Collection<SlaveContext>> entry : master.getOngoingTransactions().entrySet()) {
      out.println("\tMachine ID: " + entry.getKey());
      if (entry.getValue() != null && !entry.getValue().isEmpty()) {
        out.println("\t\tOngoing transactions: " + entry.getValue());
      }
    }
  }
  return null;
}
