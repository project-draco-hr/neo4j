{
  Map<Long,WeakValue<Long,E>> softMap=new HashMap<Long,WeakValue<Long,E>>(entities.size() * 2);
  for (  E entity : entities) {
    Long key=entity.getId();
    WeakValue<Long,E> ref=new WeakValue<Long,E>(key,entity,(ReferenceQueue)refQueue);
    softMap.put(key,ref);
  }
  cache.putAll(softMap);
  pollClearedValues();
}
