{
  Long key=value.getId();
  WeakValue<Long,E> ref=new WeakValue<>(key,value,(ReferenceQueue)refQueue);
  WeakValue<Long,E> previous=cache.putIfAbsent(key,ref);
  pollClearedValues();
  return previous != null ? previous.get() : value;
}
