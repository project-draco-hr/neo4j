{
  Session session=null;
  String cmd=StringUtils.join(cmds," ");
  try {
    session=client.startSession();
    Command command=session.exec(cmd);
    String msg=Shell.streamToString(command.getInputStream()) + Shell.streamToString(command.getErrorStream());
    return new Result(command.getExitStatus(),msg,cmd);
  }
 catch (  Exception e) {
    throw new ShellException(e);
  }
 finally {
    if (session != null)     try {
      session.close();
    }
 catch (    Exception e) {
      throw new ShellException(e);
    }
  }
}
