{
  return new CommitProcessFactory(){
    @Override public TransactionCommitProcess create(    LogicalTransactionStore logicalTransactionStore,    KernelHealth kernelHealth,    NeoStore neoStore,    TransactionRepresentationStoreApplier storeApplier,    NeoStoreInjectedTransactionValidator txValidator,    IndexUpdatesValidator indexUpdatesValidator,    TransactionApplicationMode mode,    Config config){
      if (config.get(GraphDatabaseSettings.read_only)) {
        return new ReadOnlyTransactionCommitProcess();
      }
 else {
        return new TransactionRepresentationCommitProcess(logicalTransactionStore,kernelHealth,neoStore,storeApplier,indexUpdatesValidator,mode);
      }
    }
  }
;
}
