{
  LogExtractor extractor=new LogExtractor(positionCache,logLoader,commandFactory,txId,txId);
  InMemoryLogBuffer tempBuffer=new InMemoryLogBuffer();
  extractor.extractNext(tempBuffer);
  ByteBuffer localBuffer=newLogReaderBuffer();
  for (LogEntry readEntry=null; (readEntry=LogIoUtils.readEntry(localBuffer,tempBuffer,commandFactory)) != null; ) {
    if (readEntry instanceof LogEntry.Commit)     break;
    LogIoUtils.writeLogEntry(readEntry,target);
  }
  return extractor.getLastStartEntry();
}
