{
  LogExtractor extractor=new LogExtractor(positionCache,logLoader,commandReaderFactory,commandWriterFactory,logEntryWriter,txId,txId);
  try (Cursor<LogEntry,IOException> cursor=extractor.cursor(new InMemoryLogBuffer())){
    while (cursor.next(consumer))     ;
  }
   return extractor.getLastStartEntry();
}
