{
  final boolean authoredByMeTheMaster=representation.getAuthorId() == representation.getMasterId();
  if (!authoredByMeTheMaster) {
    transactionMonitor.transactionStarted();
  }
  boolean success=false;
  try {
    validator.assertInjectionAllowed(representation.getLatestCommittedTxWhenStarted());
    long result=inner.commit(representation);
    pusher.committed(result,representation.getAuthorId());
    success=true;
    return result;
  }
  finally {
    if (!authoredByMeTheMaster) {
      transactionMonitor.transactionFinished(success);
    }
  }
}
