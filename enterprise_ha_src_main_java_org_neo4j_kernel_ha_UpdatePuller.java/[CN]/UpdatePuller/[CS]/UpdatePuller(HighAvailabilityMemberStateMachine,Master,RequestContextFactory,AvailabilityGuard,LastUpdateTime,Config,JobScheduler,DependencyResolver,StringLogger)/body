{
  this.memberStateMachine=memberStateMachine;
  this.master=master;
  this.requestContextFactory=requestContextFactory;
  this.availabilityGuard=availabilityGuard;
  this.lastUpdateTime=lastUpdateTime;
  this.config=config;
  this.scheduler=scheduler;
  this.logger=logger;
  this.cappedLogger=new CappedOperation<Pair<String,? extends Exception>>(CappedOperation.count(10)){
    @Override protected void triggered(    Pair<String,? extends Exception> event){
      logger.warn(event.first(),event.other());
    }
  }
;
  listener=new UpdatePullerHighAvailabilityMemberListener(config.get(ClusterSettings.server_id));
  this.resolver=resolver;
}
