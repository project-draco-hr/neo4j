{
  long pullInterval=config.get(HaSettings.pull_interval);
  if (pullInterval > 0 && updatePuller == null) {
    updatePuller=new ScheduledThreadPoolExecutor(1);
    updatePuller.scheduleWithFixedDelay(new Runnable(){
      private final AtomicInteger comExceptionCounter=new AtomicInteger(0);
      @Override public void run(){
        if (!pullUpdates) {
          return;
        }
        try {
          pullUpdates();
        }
 catch (        ComException e) {
          if (comExceptionCounter.getAndIncrement() % 10 == 0) {
            logger.warn("Pull updates failed due to network error, there have been " + comExceptionCounter.get() + " of these exceptions since the previous log message "+ "on this topic.",e);
            comExceptionCounter.set(1);
          }
        }
catch (        Exception e) {
          logger.logMessage("Pull updates failed",e);
        }
      }
    }
,pullInterval,pullInterval,TimeUnit.MILLISECONDS);
  }
  this.pullUpdates=false;
}
