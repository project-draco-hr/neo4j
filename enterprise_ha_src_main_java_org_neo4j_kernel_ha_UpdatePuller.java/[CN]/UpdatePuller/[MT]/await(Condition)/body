{
  int ticket=poke();
  while (!condition.evaluate(currentTicket.get(),ticket)) {
    if (!isActive()) {
      throw new IllegalStateException(this + " has been halted:" + this);
    }
    Thread.sleep(1);
  }
}
