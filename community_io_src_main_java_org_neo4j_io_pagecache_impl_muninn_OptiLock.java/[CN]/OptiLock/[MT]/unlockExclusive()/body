{
  long s=getState();
  if ((s & EXCL_MASK) != EXCL_MASK) {
    throwUnmatchedUnlockExclusive(s);
  }
  exclusiveLatch.release();
  exclusiveLatch=null;
  long n=nextSeq(s) - EXCL_MASK;
  compareAndSetState(s,n);
  return n;
}
