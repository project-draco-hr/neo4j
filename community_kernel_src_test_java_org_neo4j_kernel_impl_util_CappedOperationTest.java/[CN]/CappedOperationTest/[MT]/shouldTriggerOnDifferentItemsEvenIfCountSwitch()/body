{
  AtomicInteger triggerCount=new AtomicInteger();
  CappedOperation<String> operation=countingCappedOperations(triggerCount,count(2),differentItems());
  operation.event("test");
  assertEquals(1,triggerCount.get());
  operation.event("OTHER");
  assertEquals(2,triggerCount.get());
  operation.event("OTHER");
  assertEquals(2,triggerCount.get());
  operation.event("OTHER");
  assertEquals(3,triggerCount.get());
}
