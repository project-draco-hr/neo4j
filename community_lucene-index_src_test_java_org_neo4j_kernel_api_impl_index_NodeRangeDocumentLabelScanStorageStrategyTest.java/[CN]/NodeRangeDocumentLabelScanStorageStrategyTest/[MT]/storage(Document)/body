{
  LabelScanStorageStrategy.StorageService storage=mock(LabelScanStorageStrategy.StorageService.class);
  IndexSearcher searcher=mock(IndexSearcher.class);
  when(storage.acquireSearcher()).thenReturn(searcher);
  for (int i=0; i < documents.length; i++) {
    when(searcher.search(new TermQuery(format.rangeTerm(documents[i])),1)).thenReturn(docs(new ScoreDoc(i,0.0f)));
    when(searcher.doc(i)).thenReturn(documents[i]);
  }
  return storage;
}
