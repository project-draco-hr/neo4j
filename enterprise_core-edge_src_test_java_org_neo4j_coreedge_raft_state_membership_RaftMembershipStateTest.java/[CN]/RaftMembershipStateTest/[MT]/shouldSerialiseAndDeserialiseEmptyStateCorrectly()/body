{
  RaftMembershipState<CoreMember> state=new RaftMembershipState<>();
  RaftMembershipState.Marshal<CoreMember> marshal=new RaftMembershipState.Marshal<>(new CoreMember.CoreMemberMarshal());
  InMemoryClosableChannel channel=new InMemoryClosableChannel();
  marshal.marshal(state,channel);
  final RaftMembershipState recovered=marshal.unmarshal(channel);
  assertEquals(state.votingMembers(),recovered.votingMembers());
}
