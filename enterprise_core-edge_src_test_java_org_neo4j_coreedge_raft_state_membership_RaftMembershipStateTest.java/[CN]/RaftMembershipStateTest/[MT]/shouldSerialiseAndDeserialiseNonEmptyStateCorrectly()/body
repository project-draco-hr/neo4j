{
  RaftMembershipState state=new RaftMembershipState();
  RaftMembershipState.Marshal serializer=new RaftMembershipState.Marshal(new CoreMember.CoreMemberMarshal());
  RaftTestGroup coreMembers=new RaftTestGroup(1,2,3,4);
  state.setVotingMembers(coreMembers.getMembers());
  InMemoryClosableChannel channel=new InMemoryClosableChannel();
  serializer.marshal(state,channel);
  final RaftMembershipState recovered=serializer.unmarshal(channel);
  assertEquals(state.votingMembers(),recovered.votingMembers());
}
