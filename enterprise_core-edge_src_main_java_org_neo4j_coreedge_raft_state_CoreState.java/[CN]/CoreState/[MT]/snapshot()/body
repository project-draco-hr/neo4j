{
  long prevIndex=lastApplied;
  long prevTerm=raftLog.readEntryTerm(prevIndex);
  CoreSnapshot coreSnapshot=new CoreSnapshot(prevIndex,prevTerm);
  coreStateMachines.addSnapshots(coreSnapshot);
  coreSnapshot.add(CoreStateType.SESSION_TRACKER,sessionState.newInstance());
  return coreSnapshot;
}
