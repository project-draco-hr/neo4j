{
  this.raftLog=raftLog;
  this.maxBatchSize=maxBatchSize;
  this.lastFlushedStorage=lastFlushedStorage;
  this.flushEvery=flushEvery;
  this.progressTracker=progressTracker;
  this.lastApplyingStorage=lastApplyingStorage;
  this.sessionStorage=sessionStorage;
  this.applier=applier;
  this.downloader=downloader;
  this.selectionStrategy=selectionStrategy;
  this.log=logProvider.getLog(getClass());
  this.dbHealth=dbHealth;
  this.inFlightMap=inFlightMap;
  this.commitIndexMonitor=monitors.newMonitor(RaftLogCommitIndexMonitor.class,getClass());
  this.distributedOperations=new ArrayList<>(maxBatchSize);
}
