{
  try (Transaction tx=database.getGraph().beginTx()){
    Node startNode=database.getGraph().createNode();
    Node endNode=database.getGraph().createNode();
    Relationship relationship=startNode.createRelationshipTo(endNode,DynamicRelationshipType.withName(type));
    tx.success();
    return relationship.getId();
  }
 }
