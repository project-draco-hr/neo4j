{
  Transaction tx=database.getGraph().beginTx();
  try {
    Iterable<ConstraintDefinition> definitions=Iterables.filter(new Predicate<ConstraintDefinition>(){
      @Override public boolean test(      ConstraintDefinition item){
        if (item.isConstraintType(ConstraintType.MANDATORY_PROPERTY)) {
          Iterable<String> keys=item.getPropertyKeys();
          return single(keys).equals(propertyKey);
        }
 else {
          return false;
        }
      }
    }
,database.getGraph().schema().getConstraints(label(labelName)));
    tx.success();
    return definitions;
  }
  finally {
    tx.finish();
  }
}
