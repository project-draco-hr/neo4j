{
  replicator.triggerReplication();
  if (timeoutCounter.getAndDecrement() > 0) {
    throw new TimeoutException();
  }
 else {
    return delegate.waitUntilCommitted(timeout,unit);
  }
}
