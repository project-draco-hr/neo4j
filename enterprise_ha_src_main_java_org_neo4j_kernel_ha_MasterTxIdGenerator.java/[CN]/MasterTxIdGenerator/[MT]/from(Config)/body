{
  return new Configuration(){
    @Override public int getTxPushFactor(){
      return config.get(HaSettings.tx_push_factor);
    }
    @Override public int getServerId(){
      return config.get(HaSettings.server_id);
    }
    @Override public SlavePriority getReplicationStrategy(){
      String value=config.get(HaSettings.tx_push_strategy);
      if (HaSettings.TxPushStrategySetting.fixed.equals(value)) {
        return SlavePriorities.fixed();
      }
 else       if (HaSettings.TxPushStrategySetting.roundRobin.equals(value)) {
        return SlavePriorities.roundRobin();
      }
      throw new RuntimeException("Unknown replication strategy " + value);
    }
  }
;
}
