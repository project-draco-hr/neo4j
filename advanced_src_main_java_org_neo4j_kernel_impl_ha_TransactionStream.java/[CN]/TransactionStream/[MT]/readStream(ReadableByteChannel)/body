{
  ByteBuffer buffer=ByteBuffer.allocate(1024);
  try {
    byte[] bytes=new byte[0];
    while (true) {
      buffer.clear();
      int read=stream.read(buffer);
      buffer.flip();
      bytes=extend(bytes,buffer,read);
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
