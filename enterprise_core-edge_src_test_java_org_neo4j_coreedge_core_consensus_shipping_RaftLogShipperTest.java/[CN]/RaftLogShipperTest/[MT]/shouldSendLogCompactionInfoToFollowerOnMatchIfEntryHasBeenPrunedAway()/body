{
  raftLog.append(entry0);
  raftLog.append(entry1);
  raftLog.append(entry2);
  raftLog.append(entry3);
  startLogShipper();
  outbound.clear();
  raftLog.prune(2);
  logShipper.onMatch(1,new LeaderContext(0,0));
  assertTrue(outbound.hasAnyEntriesTo(follower));
  assertThat(outbound.sentTo(follower),hasMessage(new RaftMessages.LogCompactionInfo(CURRENT_VERSION,leader,0,2)));
}
