{
  try {
    ComponentRegistry.Provider<?> provider=components.providerFor(field.getType());
    if (provider == null) {
      throw new ProcedureException(Status.Procedure.ProcedureRegistrationFailed,"Unable to set up injection for procedure `%s`, the field `%s` " + "has type `%s` which is not a known injectable component.",cls.getSimpleName(),field.getName(),field.getType());
    }
    MethodHandle setter=MethodHandles.lookup().unreflectSetter(field);
    return new FieldSetter(field,setter,provider);
  }
 catch (  IllegalAccessException e) {
    throw new ProcedureException(Status.Procedure.ProcedureRegistrationFailed,"Unable to set up injection for `%s`, failed to access field `%s`: %s",e,cls.getSimpleName(),field.getName(),e.getMessage());
  }
}
