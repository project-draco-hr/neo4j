{
  JavascriptExecutor executor=new JavascriptExecutor("if(firstRun) { " + "  this['theVar'] = 'boo'; " + "} else { "+ "  this['theVar']; "+ "}");
  Map<String,Object> ctx=new HashMap<String,Object>();
  ctx.put("firstRun",true);
  Object out1=executor.execute(ctx);
  ctx.put("firstRun",false);
  Object out2=executor.execute(ctx);
  assertThat((String)out1,is("boo"));
  assertThat(out2,is(nullValue()));
}
