{
  while (lock.getWaitingThreadsCount() != expectedThreads) {
    Thread.sleep(20);
  }
}
