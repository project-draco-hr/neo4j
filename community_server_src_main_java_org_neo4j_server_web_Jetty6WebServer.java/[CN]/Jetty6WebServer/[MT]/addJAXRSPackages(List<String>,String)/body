{
  mountPoint=ensureRelativeUri(mountPoint);
  mountPoint=trimTrailingSlashToKeepJettyHappy(mountPoint);
  ServletContainer container=new NeoServletContainer(server,server.getInjectables(packageNames));
  ServletHolder servletHolder=new ServletHolder(container);
  if (!Boolean.valueOf(String.valueOf(server.getConfiguration().getProperty(Configurator.WADL_ENABLED)))) {
    servletHolder.setInitParameter(ResourceConfig.FEATURE_DISABLE_WADL,String.valueOf(true));
  }
  servletHolder.setInitParameter("com.sun.jersey.config.property.packages",toCommaSeparatedList(packageNames));
  servletHolder.setInitParameter(ResourceConfig.PROPERTY_CONTAINER_RESPONSE_FILTERS,AllowAjaxFilter.class.getName());
  servletHolder.setInitParameter(ResourceConfig.PROPERTY_CONTAINER_REQUEST_FILTERS,CollectUserAgentFilter.class.getName());
  log.debug("Adding JAXRS packages %s at [%s]",packageNames,mountPoint);
  jaxRSPackages.put(mountPoint,servletHolder);
}
