{
  mountPoint=ensureRelativeUri(mountPoint);
  mountPoint=trimTrailingSlashToKeepJettyHappy(mountPoint);
  Collection<InjectableProvider<?>> injectableProviders=mergeInjectables(defaultInjectables,injectables);
  ServletContainer container=new NeoServletContainer(injectableProviders);
  ServletHolder servletHolder=new ServletHolder(container);
  servletHolder.setInitParameter(ResourceConfig.FEATURE_DISABLE_WADL,String.valueOf(!wadlEnabled));
  servletHolder.setInitParameter("com.sun.jersey.api.json.POJOMappingFeature","true");
  servletHolder.setInitParameter("com.sun.jersey.config.property.packages",toCommaSeparatedList(packageNames));
  servletHolder.setInitParameter(ResourceConfig.PROPERTY_CONTAINER_RESPONSE_FILTERS,AllowAjaxFilter.class.getName());
  servletHolder.setInitParameter(ResourceConfig.PROPERTY_CONTAINER_REQUEST_FILTERS,CollectUserAgentFilter.class.getName());
  log.debug("Adding JAXRS packages %s at [%s]",packageNames,mountPoint);
  jaxRSPackages.put(mountPoint,servletHolder);
}
