{
  RelationshipType[] types=extract(RelationshipType[].class,type1,type2,more,false);
  Direction[] directions=extract(Direction[].class,dir1,dir2,more,true);
  final Map<String,Direction> dirs=new HashMap<String,Direction>();
  for (int i=0; i < directions.length; i++) {
    if (directions[i] != Direction.BOTH) {
      dirs.put(types[i].name(),directions[i]);
    }
  }
  return new RegularExpander(types,dirs);
}
