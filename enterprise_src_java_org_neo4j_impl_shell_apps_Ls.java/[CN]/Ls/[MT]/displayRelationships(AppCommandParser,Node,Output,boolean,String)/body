{
  if (!displayRelationships) {
    return;
  }
  String directionFilter=parser.options().get("d");
  Direction direction=this.getDirection(directionFilter);
  boolean displayOutgoing=directionFilter == null || direction == Direction.OUTGOING;
  boolean displayIncoming=directionFilter == null || direction == Direction.INCOMING;
  Pattern filterPattern=filter == null ? null : Pattern.compile(filter);
  if (displayOutgoing) {
    for (    Relationship rel : node.getRelationships(Direction.OUTGOING)) {
      if (filterPattern != null && !filterPattern.matcher(rel.getType().name()).matches()) {
        continue;
      }
      out.println(getDisplayNameForCurrentNode() + " --[" + rel.getType()+ ", "+ rel.getId()+ "]--> "+ getDisplayNameForNode(rel.getEndNode()));
    }
  }
  if (displayIncoming) {
    for (    Relationship rel : node.getRelationships(Direction.INCOMING)) {
      if (filterPattern != null && !filterPattern.matcher(rel.getType().name()).matches()) {
        continue;
      }
      out.println(getDisplayNameForCurrentNode() + " <--[" + rel.getType()+ ", "+ rel.getId()+ "]-- "+ getDisplayNameForNode(rel.getStartNode()));
    }
  }
}
