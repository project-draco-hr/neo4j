{
  this.sendToMyself=sendToMyself;
  this.memberSetBuilder=memberSetBuilder;
  this.raftLog=raftLog;
  this.expectedClusterSize=expectedClusterSize;
  this.storage=membershipStorage;
  this.state=membershipStorage.getInitialState();
  this.log=logProvider.getLog(getClass());
  this.recoverFromIndex=recoverFromIndex;
  this.membershipChanger=new RaftMembershipChanger(raftLog,clock,electionTimeout,logProvider,catchupTimeout,this);
}
