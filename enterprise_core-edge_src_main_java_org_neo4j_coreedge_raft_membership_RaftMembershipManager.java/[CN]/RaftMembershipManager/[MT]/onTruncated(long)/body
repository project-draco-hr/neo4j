{
  Pair<Long,RaftGroup<MEMBER>> lastMembershipEntry=findLastMembershipEntry();
  if (lastMembershipEntry != null) {
    raftMembershipState.setVotingMembers(lastMembershipEntry.other().getMembers());
    raftMembershipState.logIndex(lastMembershipEntry.first().longValue());
    stateStorage.persistStoreData(raftMembershipState);
    uncommittedMemberChanges=lastMembershipEntry.first() <= commitIndex ? 0 : 1;
  }
 else {
    raftMembershipState.setVotingMembers(Collections.emptySet());
    uncommittedMemberChanges=0;
  }
}
