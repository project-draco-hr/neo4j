{
  try {
    Long logIndex=findLastMembershipEntry();
    if (logIndex != null) {
      RaftGroup<MEMBER> lastMembershipEntry=(RaftGroup<MEMBER>)entryLog.readEntryContent(logIndex);
      raftMembershipState.setVotingMembers(lastMembershipEntry.getMembers());
      raftMembershipState.logIndex(logIndex);
    }
 else {
      raftMembershipState.setVotingMembers(Collections.<MEMBER>emptySet());
    }
    uncommittedMemberChanges=0;
    for (long i=entryLog.commitIndex() + 1; i <= entryLog.appendIndex(); i++) {
      ReplicatedContent content=entryLog.readEntryContent(i);
      if (content instanceof RaftGroup) {
        uncommittedMemberChanges++;
      }
    }
  }
 catch (  RaftStorageException e) {
    log.error("Unable to find last membership entry after RAFT log truncation",e);
  }
}
