{
  while (nextElement == null && relItr.hasNext()) {
    Relationship possibleRel=neoService.getRelationshipById(relItr.next());
    if (dir == Direction.OUTGOING && possibleRel.getEndNode().getId() == nodeId) {
      continue;
    }
    if (dir == Direction.INCOMING && possibleRel.getStartNode().getId() == nodeId) {
      continue;
    }
    if (types != null) {
      for (      RelationshipType type : types) {
        if (type.equals(possibleRel.getType())) {
          nextElement=possibleRel;
          break;
        }
      }
    }
    nextElement=possibleRel;
  }
}
