{
  makeFriends(michaelaNode,andreasNode);
  makeFriends(michaelaNode,johanNode);
  ExecutionEngine engine=new ExecutionEngine(db);
  ExecutionResult result=engine.execute("start n=node(0) match n-->friend return collect(friend)");
  Iterable<Node> friends=(Iterable<Node>)result.columnAs("collect(friend)").next();
  assertThat(friends,hasItems(andreasNode,johanNode));
  Object friendCollection=result.iterator().next().get("collect(friend)");
  assertThat(friendCollection,instanceOf(Iterable.class));
}
