{
  TestLogger log=new TestLogger();
  TransactionHandleRegistry registry=new TransactionHandleRegistry(new FakeClock(),log);
  TransactionHandle handle=mock(TransactionHandle.class);
  long id=registry.begin();
  registry.release(id,handle);
  TransactionHandle acquiredHandle=registry.acquire(id);
  assertSame(handle,acquiredHandle);
  log.assertNoLoggingOccurred();
}
