{
synchronized (logFile) {
    if (logFile.checkRotation()) {
      logFile.prune();
    }
    if (transactionQueue.acceptAndKeep(batchAppender) > 0) {
      appender.force();
      transactionQueue.acceptAndRemove(batchCommitterAndApplier);
    }
  }
}
