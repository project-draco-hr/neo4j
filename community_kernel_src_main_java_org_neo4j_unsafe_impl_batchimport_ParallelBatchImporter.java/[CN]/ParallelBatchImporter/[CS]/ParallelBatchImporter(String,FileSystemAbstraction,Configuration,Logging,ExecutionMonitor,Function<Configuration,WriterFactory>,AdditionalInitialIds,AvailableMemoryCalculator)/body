{
  this.storeDir=storeDir;
  this.fileSystem=fileSystem;
  this.config=config;
  this.logging=logging;
  this.additionalInitialIds=additionalInitialIds;
  this.memoryCalculator=memoryCalculator;
  this.logger=logging.getMessagesLog(getClass());
  this.executionPoller=new ExecutionSupervisor(Clock.SYSTEM_CLOCK,new MultiExecutionMonitor(executionMonitor,new DynamicProcessorAssigner(config,config.maxNumberOfProcessors())));
  this.monitors=new Monitors();
  this.writeMonitor=new IoMonitor();
  this.writerFactory=writerFactory.apply(config);
}
