{
  try {
    MBeanServer server=ManagementFactory.getPlatformMBeanServer();
    ArrayList<Object> beans=new ArrayList<Object>();
    for (    Object objName : server.queryNames(new ObjectName(domainName + ":" + URLDecoder.decode(objectName,WebUtils.UTF8)),null)) {
      beans.add((new JmxMBeanRepresentation((ObjectName)objName)).serialize());
    }
    String entity=JsonHelper.createJsonFrom(beans);
    return addHeaders(Response.ok(entity,JsonRenderers.DEFAULT.getMediaType())).build();
  }
 catch (  MalformedObjectNameException e) {
    return buildExceptionResponse(Status.BAD_REQUEST,"Invalid bean name.",e,JsonRenderers.DEFAULT);
  }
catch (  UnsupportedEncodingException e) {
    return buildExceptionResponse(Status.INTERNAL_SERVER_ERROR,"UTF-8 encoding not supported by host system.",e,JsonRenderers.DEFAULT);
  }
}
