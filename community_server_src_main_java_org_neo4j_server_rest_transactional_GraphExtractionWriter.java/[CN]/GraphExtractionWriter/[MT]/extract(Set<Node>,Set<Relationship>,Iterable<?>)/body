{
  for (  Object item : source) {
    if (item instanceof Node) {
      nodes.add((Node)item);
    }
 else     if (item instanceof Relationship) {
      Relationship relationship=(Relationship)item;
      relationships.add(relationship);
      nodes.add(relationship.getStartNode());
      nodes.add(relationship.getEndNode());
    }
 else     if (item instanceof Map<?,?>) {
      extract(nodes,relationships,((Map<?,?>)item).values());
    }
 else     if (item instanceof Iterable<?>) {
      extract(nodes,relationships,(Iterable<?>)item);
    }
  }
}
