{
  Class<?> clazz=Class.forName(className);
  Constructor<?>[] constructors=clazz.getConstructors();
  for (  Constructor<?> constructor : constructors) {
    Class<?>[] parameters=constructor.getParameterTypes();
    if (parameters.length == 1 && parameters[0].equals(Map.class)) {
      return (XaDataSource)constructor.newInstance(new Object[]{params});
    }
  }
  throw new InstantiationException("Unable to instantiate " + className + ", no valid constructor found.");
}
