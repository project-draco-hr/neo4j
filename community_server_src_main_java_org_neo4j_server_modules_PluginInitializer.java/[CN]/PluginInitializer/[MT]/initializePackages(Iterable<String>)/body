{
  AbstractGraphDatabase graphDatabaseService=neoServer.getDatabase().graph;
  Configuration configuration=neoServer.getConfiguration();
  Collection<Injectable<?>> injectables=new HashSet<Injectable<?>>();
  for (  PluginLifecycle pluginLifecycle : pluginLifecycles) {
    if (hasPackage(pluginLifecycle,packageNames)) {
      if (pluginLifecycle instanceof SPIPluginLifecycle) {
        SPIPluginLifecycle lifecycle=(SPIPluginLifecycle)pluginLifecycle;
        injectables.addAll(lifecycle.start(neoServer));
      }
 else {
        injectables.addAll(pluginLifecycle.start(graphDatabaseService,configuration));
      }
    }
  }
  return injectables;
}
