{
  if (support.getClass() != ManagementSupport.class && beans.length > 0 && beans[0] instanceof KernelBean) {
    return support.makeProxy(((KernelBean)beans[0]),beanInterface);
  }
  for (  Neo4jMBean bean : beans) {
    if (beanInterface.isInstance(bean))     return beanInterface.cast(bean);
  }
  throw new UnsupportedOperationException("Cannot access management beans");
}
