{
  this.storeAccess=storeAccess;
  SchemaStorage schemaStorage=new SchemaStorage(storeAccess.getSchemaStore());
  for (Iterator<PropertyConstraintRule> rules=schemaStorage.schemaRules(BASE_RULE); safeHasNext(rules); ) {
    PropertyConstraintRule rule=rules.next();
    PrimitiveIntObjectMap<int[]> storage;
    int labelOrRelType;
    int propertyKey;
switch (rule.getKind()) {
case NODE_PROPERTY_EXISTENCE_CONSTRAINT:
      storage=nodes;
    NodePropertyExistenceConstraintRule nodeRule=(NodePropertyExistenceConstraintRule)rule;
  labelOrRelType=nodeRule.getLabel();
propertyKey=nodeRule.getPropertyKey();
break;
case RELATIONSHIP_PROPERTY_EXISTENCE_CONSTRAINT:
storage=relationships;
RelationshipPropertyExistenceConstraintRule relRule=(RelationshipPropertyExistenceConstraintRule)rule;
labelOrRelType=relRule.getRelationshipType();
propertyKey=relRule.getPropertyKey();
break;
default :
continue;
}
recordConstraint(labelOrRelType,propertyKey,storage);
}
}
