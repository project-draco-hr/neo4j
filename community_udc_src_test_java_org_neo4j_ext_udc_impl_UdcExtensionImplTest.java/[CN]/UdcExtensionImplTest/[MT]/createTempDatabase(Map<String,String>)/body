{
  String randomDbName="tmpdb-" + rnd.nextInt();
  possibleDirectory=new File("target" + File.separator + randomDbName);
  if (possibleDirectory.exists()) {
    FileUtils.deleteDirectory(possibleDirectory);
  }
  GraphDatabaseBuilder graphDatabaseBuilder=new GraphDatabaseFactory().newEmbeddedDatabaseBuilder(possibleDirectory.getPath());
  graphDatabaseBuilder.loadPropertiesFromURL(getClass().getResource("/org/neo4j/ext/udc/udc.properties"));
  if (config != null) {
    graphDatabaseBuilder.setConfig(config);
  }
  return graphDatabaseBuilder.newGraphDatabase();
}
