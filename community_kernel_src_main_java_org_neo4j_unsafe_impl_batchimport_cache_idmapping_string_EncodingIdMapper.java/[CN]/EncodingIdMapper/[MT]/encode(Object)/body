{
  long eId=encoder.encode(inputId);
  if (eId == GAP_VALUE) {
    throw new IllegalStateException("Encoder " + encoder + " returned an illegal encoded value "+ GAP_VALUE);
  }
  return eId;
}
