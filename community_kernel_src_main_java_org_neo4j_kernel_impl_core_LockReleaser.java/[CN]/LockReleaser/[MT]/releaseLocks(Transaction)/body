{
  List<LockElement> lockElements=lockMap.remove(tx);
  if (lockElements != null) {
    for (    LockElement lockElement : lockElements) {
      try {
        if (lockElement.lockType == LockType.READ) {
          lockManager.releaseReadLock(lockElement.resource,null);
        }
 else         if (lockElement.lockType == LockType.WRITE) {
          lockManager.releaseWriteLock(lockElement.resource,tx);
        }
      }
 catch (      Exception e) {
        log.log(Level.SEVERE,"Unable to release lock[" + lockElement.lockType + "] on resource["+ lockElement.resource+ "]",e);
      }
    }
  }
}
