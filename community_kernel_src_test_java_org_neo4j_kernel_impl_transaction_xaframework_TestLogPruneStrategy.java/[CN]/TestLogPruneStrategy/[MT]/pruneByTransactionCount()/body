{
  MockedLogLoader log=new MockedLogLoader(10000,LogPruneStrategies.transactionCount(FS,1000));
  for (int i=1; i < 100; i++) {
    log.addTransactionsUntilRotationHappens();
    int avg=(int)(log.getLastCommittedTxId() / i);
    assertTrue(log.getTotalTransactionCountOfAllExistingLogFiles() < avg * (i + 1));
  }
}
