{
  int seconds=2;
  int millisToKeep=(int)(SECONDS.toMillis(seconds) / 10);
  MockedLogLoader log=new MockedLogLoader(LogPruneStrategies.transactionTimeSpan(FS,millisToKeep,MILLISECONDS));
  long end=System.currentTimeMillis() + SECONDS.toMillis(seconds);
  long lastTimestamp=System.currentTimeMillis();
  while (true) {
    lastTimestamp=System.currentTimeMillis();
    if (log.addTransaction(15,lastTimestamp)) {
      assertLogRangeByTimestampExists(log,millisToKeep,lastTimestamp);
      if (System.currentTimeMillis() > end)       break;
    }
  }
}
