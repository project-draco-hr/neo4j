{
  try (MajorFlushEvent cacheFlush=tracer.beginCacheFlush()){
    cacheFlush.flushEventOpportunity().beginFlush(0,0,swapper).done();
    cacheFlush.flushEventOpportunity().beginFlush(0,0,swapper).done();
    cacheFlush.flushEventOpportunity().beginFlush(0,0,swapper).done();
  }
   assertCounts(0,0,0,0,0,3,0,0,0,0);
  try (MajorFlushEvent fileFlush=tracer.beginFileFlush(swapper)){
    fileFlush.flushEventOpportunity().beginFlush(0,0,swapper).done();
    fileFlush.flushEventOpportunity().beginFlush(0,0,swapper).done();
    fileFlush.flushEventOpportunity().beginFlush(0,0,swapper).done();
  }
   assertCounts(0,0,0,0,0,6,0,0,0,0);
}
