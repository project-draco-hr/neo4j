{
  return new Statement(){
    @Override public void evaluate() throws Throwable {
      Map<Setting<?>,String> settings=new HashMap<>();
      settings.put(connector(0,BoltKernelExtension.Settings.enabled),"true");
      settings.put(connector(0,BoltKernelExtension.Settings.tls_level),OPTIONAL.name());
      settings.put(BoltKernelExtension.Settings.tls_key_file,tempPath("key",".key"));
      settings.put(BoltKernelExtension.Settings.tls_certificate_file,tempPath("cert",".cert"));
      configure.accept(settings);
      final GraphDatabaseService gdb=new TestGraphDatabaseFactory().newImpermanentDatabase(settings);
      storeId=((GraphDatabaseFacade)gdb).storeId();
      try {
        statement.evaluate();
      }
  finally {
        gdb.shutdown();
      }
    }
  }
;
}
