{
  return new Statement(){
    @Override public void evaluate() throws Throwable {
      Map<Setting<?>,String> settings=new HashMap<>();
      settings.put(boltConnector("0").enabled,"true");
      settings.put(boltConnector("0").encryption_level,OPTIONAL.name());
      settings.put(BoltKernelExtension.Settings.tls_key_file,tempPath("key",".key"));
      settings.put(BoltKernelExtension.Settings.tls_certificate_file,tempPath("cert",".cert"));
      configure.accept(settings);
      final GraphDatabaseService gdb=graphDatabaseFactory.newImpermanentDatabase(settings);
      storeId=((GraphDatabaseFacade)gdb).storeId();
      try {
        statement.evaluate();
      }
  finally {
        gdb.shutdown();
      }
    }
  }
;
}
