{
  if (state.appendIndex < newIndex) {
    skipSegment(state.appendIndex,newIndex,newTerm);
    state.prevTerm=newTerm;
    state.prevIndex=newIndex;
    state.appendIndex=newIndex;
  }
  return state.appendIndex;
}
