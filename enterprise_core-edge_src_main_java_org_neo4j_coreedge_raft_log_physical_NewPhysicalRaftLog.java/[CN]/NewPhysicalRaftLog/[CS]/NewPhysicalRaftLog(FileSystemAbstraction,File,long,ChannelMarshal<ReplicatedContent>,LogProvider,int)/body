{
  this.fileSystem=fileSystem;
  this.directory=directory;
  this.rotateAtSize=rotateAtSize;
  this.contentMarshal=contentMarshal;
  this.fileNames=new FileNames(directory);
  this.log=logProvider.getLog(getClass());
  this.logProvider=logProvider;
  this.entryCache=entryCacheSize >= 1 ? new LruCache<>("raft-log-entry-cache",entryCacheSize) : null;
}
