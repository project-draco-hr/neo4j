{
  InMemoryRaftMembershipState<CoreMember> state=new InMemoryRaftMembershipState<>();
  InMemoryRaftMembershipState.InMemoryRaftMembershipStateChannelMarshal<CoreMember> marshal=new InMemoryRaftMembershipState.InMemoryRaftMembershipStateChannelMarshal<>(new CoreMember.CoreMemberMarshal());
  InMemoryClosableChannel channel=new InMemoryClosableChannel();
  marshal.marshal(state,channel);
  final InMemoryRaftMembershipState recovered=marshal.unmarshal(channel);
  assertEquals(state.votingMembers(),recovered.votingMembers());
}
