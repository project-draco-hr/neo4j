{
  Index<Node> index=provider.nodeIndex("sort",LuceneIndexProvider.EXACT_CONFIG);
  String name="name";
  String title="title";
  String other="other";
  String sex="sex";
  Node adam=graphDb.createNode();
  Node adam2=graphDb.createNode();
  Node jack=graphDb.createNode();
  Node eva=graphDb.createNode();
  index.add(adam,name,"Adam");
  index.add(adam,title,"Software developer");
  index.add(adam,sex,"male");
  index.add(adam,other,"aaa");
  index.add(adam2,name,"Adam");
  index.add(adam2,title,"Blabla");
  index.add(adam2,sex,"male");
  index.add(adam2,other,"bbb");
  index.add(jack,name,"Jack");
  index.add(jack,title,"Apple sales guy");
  index.add(jack,sex,"male");
  index.add(jack,other,"ccc");
  index.add(eva,name,"Eva");
  index.add(eva,title,"Secretary");
  index.add(eva,sex,"female");
  index.add(eva,other,"ddd");
  assertOrderedCollection(index.query(new QueryContext("name:*").sort(name,title)),adam2,adam,eva,jack);
  assertOrderedCollection(index.query(new QueryContext("name:*").sort(name,other)),adam,adam2,eva,jack);
  assertOrderedCollection(index.query(new QueryContext("name:*").sort(sex,title)),eva,jack,adam2,adam);
  restartTx();
  assertOrderedCollection(index.query(new QueryContext("name:*").sort(name,title)),adam2,adam,eva,jack);
  assertOrderedCollection(index.query(new QueryContext("name:*").sort(name,other)),adam,adam2,eva,jack);
  assertOrderedCollection(index.query(new QueryContext("name:*").sort(sex,title)),eva,jack,adam2,adam);
}
