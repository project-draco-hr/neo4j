{
  Index<Node> index=provider.nodeIndex("index",LuceneIndexProvider.EXACT_CONFIG);
  Node neo=graphDb.createNode();
  Node trinity=graphDb.createNode();
  index.add(neo,"username","neo@matrix");
  index.add(neo,"sex","male");
  index.add(trinity,"username","trinity@matrix");
  index.add(trinity,"sex","female");
  assertQueryNotPossible(index);
  restartTx();
  assertCollection(index.query("username:*@matrix AND sex:male"),neo);
  assertCollection(index.query(new QueryContext("username:*@matrix sex:male").defaultOperator(Operator.AND)),neo);
  assertCollection(index.query("username:*@matrix OR sex:male"),neo,trinity);
  assertCollection(index.query(new QueryContext("username:*@matrix sex:male").defaultOperator(Operator.OR)),neo,trinity);
  index.delete();
}
