{
  commitTx();
  Index<Node> index=nodeIndex("open-files",LuceneIndexProvider.EXACT_CONFIG);
  long time=System.currentTimeMillis();
  for (int i=0; System.currentTimeMillis() - time < 100 * 1000; i++) {
    if (i % 10 == 0) {
      if (i % 100 == 0) {
        IndexHits<Node> itr=index.get("key","value5");
        try {
          itr.getSingle();
        }
 catch (        NoSuchElementException e) {
        }
        int size=99;
        System.out.println("C iterated " + size + " only");
      }
 else {
        int size=IteratorUtil.count((Iterator)index.get("key","value5"));
        System.out.println("hit size:" + size);
      }
    }
 else {
      Transaction tx=graphDb.beginTx();
      try {
        for (int ii=0; ii < 20; ii++) {
          Node node=graphDb.createNode();
          index.add(node,"key","value" + ii);
        }
        tx.success();
      }
  finally {
        tx.finish();
      }
    }
    if (i % 1000 == 0)     System.out.println(i);
  }
}
