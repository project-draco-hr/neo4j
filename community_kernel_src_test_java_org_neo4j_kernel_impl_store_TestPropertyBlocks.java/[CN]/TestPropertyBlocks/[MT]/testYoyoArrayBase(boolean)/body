{
  Relationship rel=getGraphDb().createNode().createRelationshipTo(getGraphDb().createNode(),DynamicRelationshipType.withName("LOCKS"));
  long recordsInUseAtStart=propertyRecordsInUse();
  long valueRecordsInUseAtStart=dynamicArrayRecordsInUse();
  List<Long> theYoyoData=new ArrayList<Long>();
  for (int i=0; i < PropertyType.getPayloadSizeLongs() - 1; i++) {
    theYoyoData.add(1l << 63);
    Long[] value=theYoyoData.toArray(new Long[]{});
    rel.setProperty("yoyo",value);
    if (withNewTx) {
      newTransaction();
      assertEquals(recordsInUseAtStart + 1,propertyRecordsInUse());
      assertEquals(valueRecordsInUseAtStart,dynamicArrayRecordsInUse());
      clearCache();
    }
  }
  theYoyoData.add(1l << 63);
  Long[] value=theYoyoData.toArray(new Long[]{});
  rel.setProperty("yoyo",value);
  newTransaction();
  assertEquals(recordsInUseAtStart + 1,propertyRecordsInUse());
  assertEquals(valueRecordsInUseAtStart + 1,dynamicArrayRecordsInUse());
  clearCache();
  rel.setProperty("filler",new long[]{1 << 63,1 << 63,1 << 63});
  newTransaction();
  assertEquals(recordsInUseAtStart + 2,propertyRecordsInUse());
}
