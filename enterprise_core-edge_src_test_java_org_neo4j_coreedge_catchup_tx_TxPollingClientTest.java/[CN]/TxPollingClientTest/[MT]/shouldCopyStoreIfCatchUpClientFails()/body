{
  when(catchUpClient.makeBlockingRequest(any(MemberId.class),any(TxPullRequest.class),any(CatchUpResponseCallback.class))).thenReturn(CatchupResult.E_TRANSACTION_PRUNED);
  timeoutService.invokeTimeout(TX_PULLER_TIMEOUT);
  verify(timeoutService.getTimeout(TX_PULLER_TIMEOUT)).cancel();
  verify(localDatabase).stop();
  verify(storeFetcher).copyStore(any(MemberId.class),eq(storeId),any(File.class));
  verify(localDatabase).start();
  verify(txApplier).refreshLastAppliedTx();
  verify(timeoutService.getTimeout(TX_PULLER_TIMEOUT),times(2)).renew();
}
