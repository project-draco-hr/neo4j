{
  Iterator<Rule> rules=schemaRules(cast(type),type,new Predicate<Rule>(){
    @Override public boolean test(    Rule item){
      return item.getRelationshipType() == relationshipTypeId && item.containsPropertyKeyId(propertyKeyId);
    }
  }
);
  if (!rules.hasNext()) {
    throw new EntitySchemaRuleNotFoundException(EntityType.RELATIONSHIP,relationshipTypeId,propertyKeyId);
  }
  Rule rule=rules.next();
  if (rules.hasNext()) {
    throw new DuplicateEntitySchemaRuleException(EntityType.RELATIONSHIP,relationshipTypeId,propertyKeyId);
  }
  return rule;
}
