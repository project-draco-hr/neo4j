{
  long newPosition=beginningOfLastCompleteEntry(storeFile);
  if (newPosition < 0) {
    return newPosition;
  }
  ByteBuffer buffer=ByteBuffer.allocate(NUMBER_OF_BYTES_PER_WRITE);
  StoreChannel channel=fileSystem.open(storeFile,"r");
  channel.position(newPosition);
  channel.read(buffer);
  buffer.flip();
  InMemoryIdAllocationState inMemoryIdAllocationState=new InMemoryIdAllocationState.Serializer().deserialize(buffer);
  channel.close();
  return inMemoryIdAllocationState.logIndex();
}
