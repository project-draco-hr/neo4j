{
  final Collection<Pair<CountsKey,Long>> records=new ArrayList<>();
  store.accept(new KeyValueRecordVisitor<CountsKey,Register.LongRegister>(){
    private final Register.LongRegister valueRegister=Registers.newLongRegister();
    @Override public void visit(    CountsKey key){
      records.add(Pair.of(key,valueRegister.read()));
    }
    @Override public Register.LongRegister valueRegister(){
      return valueRegister;
    }
  }
);
  return records;
}
