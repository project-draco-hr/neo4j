{
  long bytes=configuration.get(GraphDatabaseSettings.all_stores_total_mapped_memory_size);
  long pageCount=bytes / targetBytesPerPage;
  if (pageCount > Integer.MAX_VALUE) {
    throw new IllegalArgumentException(format("configured page size [%d bytes] and mapped memory [%d bytes]" + " implies too many pages",targetBytesPerPage,bytes));
  }
  return (int)pageCount;
}
