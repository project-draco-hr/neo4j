{
  updatePuller.pullUpdates();
  verify(lastUpdateTime,times(1)).setLastUpdateTime(anyLong());
  verify(availabilityGuard,times(1)).isAvailable(anyLong());
  verify(master,times(1)).pullUpdates(Matchers.<RequestContext>any());
  verify(monitor,times(1)).pulledUpdates(anyLong());
  updatePuller.shutdown();
  updatePuller.pullUpdates();
  verifyNoMoreInteractions(lastUpdateTime,availabilityGuard);
}
