{
  when(master.pullUpdates(any(RequestContext.class))).thenThrow(OutOfMemoryError.class).thenReturn(Response.EMPTY);
  updatePuller.pullUpdates();
  assertTrue(logging.hasSeenError(OutOfMemoryError.class));
  updatePuller.pullUpdates();
}
