{
  CallableProcedure proc=compile(ProcedureWithInjectedAPI.class).get(0);
  List<Object[]> out=Iterators.asList(proc.apply(new BasicContext(),new Object[0]));
  assertThat(out.get(0),equalTo((new Object[]{"Bonnie"})));
  assertThat(out.get(1),equalTo((new Object[]{"Clyde"})));
}
