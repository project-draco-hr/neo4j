{
  if (source.isDirectory()) {
    if (!path.isEmpty()) {
      path+='/';
      JarEntry entry=new JarEntry(path);
      entry.setTime(source.lastModified());
      target.putNextEntry(entry);
      target.closeEntry();
    }
    for (    String child : source.list()) {
      create(path + child,new File(source,child),target);
    }
  }
 else {
    JarEntry entry=new JarEntry(path);
    entry.setTime(source.lastModified());
    target.putNextEntry(entry);
    FileInputStream input=new FileInputStream(source);
    try {
      copy(input,target);
    }
  finally {
      input.close();
    }
    target.closeEntry();
  }
}
