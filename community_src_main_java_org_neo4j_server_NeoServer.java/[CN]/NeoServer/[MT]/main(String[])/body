{
  theServer=new NeoServer();
  Runtime.getRuntime().addShutdownHook(new Thread(){
    @Override public void run(){
      log.info("Neo Server shutdown initiated by kill signal");
      if (theServer != null) {
        theServer.stop();
      }
      shutdown();
    }
  }
);
  Integer startupCondition=theServer.start(args);
  if (startupCondition != null) {
    theServer.stop();
    throw new ServerStartupException("Neo Server failed to start.",startupCondition);
  }
}
