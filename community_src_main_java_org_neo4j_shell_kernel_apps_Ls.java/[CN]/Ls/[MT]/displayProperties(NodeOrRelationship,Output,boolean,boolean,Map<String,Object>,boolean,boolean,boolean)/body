{
  int longestKey=findLongestKey(thing);
  int count=0;
  for (  String key : sortKeys(thing.getPropertyKeys())) {
    Object value=thing.getProperty(key);
    if (!filterMatches(filterMap,caseInsensitiveFilters,looseFilters,key,value)) {
      continue;
    }
    count++;
    if (!brief) {
      StringBuilder builder=new StringBuilder();
      builder.append("*" + key);
      if (!quiet) {
        builder.append(multiply(" ",longestKey - key.length() + 1));
        builder.append("=" + format(value,true));
        if (verbose) {
          builder.append(" (" + getNiceType(value) + ")");
        }
      }
      out.println(builder.toString());
    }
  }
  if (brief) {
    out.println("Property count: " + count);
  }
}
