{
  int size=readInt(channel,buffer);
  Map<String,String> map=new HashMap<String,String>();
  for (int i=0; i < size; i++) {
    String key=readLengthAndString(channel,buffer);
    String value=readLengthAndString(channel,buffer);
    if (key == null || value == null) {
      return null;
    }
    map.put(key,value);
  }
  return map;
}
