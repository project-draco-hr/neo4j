{
  CommunityServerBuilder builder=EnterpriseServerBuilder.server();
  for (  Map.Entry<String,String> entry : config.entrySet()) {
    builder=builder.withProperty(entry.getKey(),entry.getValue());
  }
  this.server=builder.withProperty(boltConnector("0").enabled.name(),"true").withProperty(boltConnector("0").encryption_level.name(),OPTIONAL.name()).withProperty(BoltKernelExtension.Settings.tls_key_file.name(),NeoInteractionLevel.tempPath("key",".key")).withProperty(BoltKernelExtension.Settings.tls_certificate_file.name(),NeoInteractionLevel.tempPath("cert",".cert")).withProperty(GraphDatabaseSettings.auth_enabled.name(),Boolean.toString(true)).withProperty(GraphDatabaseSettings.auth_manager.name(),"enterprise-auth-manager").build();
  this.server.start();
  authManager=this.server.getDependencyResolver().resolveDependency(EnterpriseAuthManager.class);
}
