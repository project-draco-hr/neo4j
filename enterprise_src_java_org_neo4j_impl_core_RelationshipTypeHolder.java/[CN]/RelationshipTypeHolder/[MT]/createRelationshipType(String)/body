{
  Integer id=relTypes.get(name);
  if (id != null) {
    return id;
  }
  RelTypeCreater createrThread=new RelTypeCreater(name);
synchronized (createrThread) {
    createrThread.start();
    while (createrThread.isAlive()) {
      try {
        createrThread.wait(50);
      }
 catch (      InterruptedException e) {
        Thread.interrupted();
      }
    }
  }
  if (createrThread.succeded()) {
    addRelType(name,createrThread.getRelTypeId());
    return createrThread.getRelTypeId();
  }
  throw new TransactionFailureException("Unable to create relationship type " + name);
}
