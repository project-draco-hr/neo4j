{
  this.fileSystem=fileSystem;
  this.directory=directory;
  this.rotateAtSize=rotateAtSize;
  this.contentMarshal=contentMarshal;
  this.fileNames=new FileNames(directory);
  this.logProvider=logProvider;
  this.entryCache=entryCacheSize >= 1 ? new LruCache<>("raft-log-entry-cache",entryCacheSize) : null;
  this.segmentedRaftLogPruner=new SegmentedRaftLogPruner(pruningStrategyConfig,logProvider);
}
