{
  if (!directory.exists() && !directory.mkdirs()) {
    throw new IOException("Could not create: " + directory);
  }
  RecoveryProtocol recoveryProtocol=new RecoveryProtocol(fileSystem,fileNames,readerPool,contentMarshal,logProvider,scanStats);
  state=recoveryProtocol.run();
}
