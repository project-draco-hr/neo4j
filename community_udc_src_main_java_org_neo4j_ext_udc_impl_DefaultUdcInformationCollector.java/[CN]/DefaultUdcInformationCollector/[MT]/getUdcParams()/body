{
  String classPath=getClassPath();
  Map<String,String> udcFields=new HashMap<>();
  add(udcFields,ID,storeId);
  add(udcFields,VERSION,filterVersionForUDC(usageData.get(UsageDataKeys.version)));
  add(udcFields,REVISION,filterVersionForUDC(usageData.get(UsageDataKeys.revision)));
  add(udcFields,EDITION,usageData.get(UsageDataKeys.edition).name().toLowerCase());
  add(udcFields,SOURCE,config.get(UdcSettings.udc_source));
  add(udcFields,REGISTRATION,config.get(UdcSettings.udc_registration_key));
  add(udcFields,DATABASE_MODE,usageData.get(UsageDataKeys.operationalMode).name());
  add(udcFields,SERVER_ID,usageData.get(UsageDataKeys.serverId));
  add(udcFields,USER_AGENTS,toCommaString(usageData.get(UsageDataKeys.clientNames)));
  add(udcFields,TAGS,determineTags(jarNamesForTags,classPath));
  add(udcFields,CLUSTER_HASH,determineClusterNameHash());
  add(udcFields,MAC,determineMacAddress());
  add(udcFields,DISTRIBUTION,determineOsDistribution());
  add(udcFields,NUM_PROCESSORS,determineNumberOfProcessors());
  add(udcFields,TOTAL_MEMORY,determineTotalMemory());
  add(udcFields,HEAP_SIZE,determineHeapSize());
  add(udcFields,NODE_IDS_IN_USE,determineNodesIdsInUse());
  add(udcFields,RELATIONSHIP_IDS_IN_USE,determineRelationshipIdsInUse());
  add(udcFields,LABEL_IDS_IN_USE,determineLabelIdsInUse());
  add(udcFields,PROPERTY_IDS_IN_USE,determinePropertyIdsInUse());
  add(udcFields,FEATURES,usageData.get(UsageDataKeys.features).asHex());
  addStoreFileSizes(udcFields);
  udcFields.putAll(determineSystemProperties());
  return udcFields;
}
