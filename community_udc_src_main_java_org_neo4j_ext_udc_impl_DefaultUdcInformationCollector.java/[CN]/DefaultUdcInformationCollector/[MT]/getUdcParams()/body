{
  String classPath=getClassPath();
  Map<String,String> udcFields=new HashMap<String,String>();
  add(udcFields,ID,storeId);
  add(udcFields,VERSION,kernel.version().getReleaseVersion());
  add(udcFields,REVISION,kernel.version().getRevision());
  add(udcFields,EDITION,determineEdition(classPath));
  add(udcFields,TAGS,determineTags(jarNamesForTags,classPath));
  add(udcFields,CLUSTER_HASH,determineClusterNameHash());
  add(udcFields,SOURCE,config.<String>get(UdcSettings.udc_source));
  add(udcFields,REGISTRATION,config.<String>get(UdcSettings.udc_registration_key));
  add(udcFields,MAC,determineMacAddress());
  add(udcFields,DISTRIBUTION,determineOsDistribution());
  add(udcFields,USER_AGENTS,determineUserAgents());
  udcFields.putAll(determineSystemProperties());
  return udcFields;
}
