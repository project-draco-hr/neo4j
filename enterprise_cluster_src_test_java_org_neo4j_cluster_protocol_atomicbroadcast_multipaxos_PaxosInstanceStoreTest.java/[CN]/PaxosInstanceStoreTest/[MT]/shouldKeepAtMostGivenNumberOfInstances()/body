{
  final int instancesToKeep=10;
  PaxosInstanceStore theStore=new PaxosInstanceStore(instancesToKeep);
  PaxosInstance firstInstance=null;
  for (int i=0; i < instancesToKeep + 1; i++) {
    InstanceId currentInstanceId=new InstanceId(i);
    PaxosInstance currentInstance=theStore.getPaxosInstance(currentInstanceId);
    theStore.delivered(currentInstance.id);
    if (firstInstance == null) {
      firstInstance=currentInstance;
    }
  }
  PaxosInstance toTest=theStore.getPaxosInstance(firstInstance.id);
  assertNotSame(firstInstance,toTest);
}
