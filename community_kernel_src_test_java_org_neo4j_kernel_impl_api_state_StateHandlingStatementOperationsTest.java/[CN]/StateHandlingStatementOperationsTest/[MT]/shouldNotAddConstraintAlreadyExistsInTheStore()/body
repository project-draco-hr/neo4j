{
  UniquenessConstraint constraint=new UniquenessConstraint(10,66);
  StatementOperations delegate=mock(StatementOperations.class);
  TxState txState=mock(TxState.class);
  when(txState.nodesWithLabelChanged(anyInt())).thenReturn(DiffSets.<Long>emptyDiffSets());
  when(txState.nodesWithChangedProperty(anyInt())).thenReturn(Collections.<Long,Object>emptyMap());
  KernelStatement state=mockedState(txState);
  when(delegate.constraintsGetForLabelAndPropertyKey(state,10,66)).thenAnswer(asAnswer(asList(constraint)));
  StateHandlingStatementOperations context=new StateHandlingStatementOperations(delegate,delegate,mock(AuxiliaryStoreOperations.class),mock(ConstraintIndexCreator.class));
  context.uniquenessConstraintCreate(state,10,66);
  verify(txState).constraintDoUnRemove(any(UniquenessConstraint.class));
}
