{
  PropertyConstraint constraint=new UniquenessConstraint(10,66);
  TransactionState txState=mock(TransactionState.class);
  when(txState.nodesWithLabelChanged(anyInt())).thenReturn(new DiffSets());
  KernelStatement state=mockedState(txState);
  when(inner.constraintsGetForLabelAndPropertyKey(10,66)).thenAnswer(asAnswer(asList(constraint)));
  StateHandlingStatementOperations context=newTxStateOps(inner);
  context.uniquePropertyConstraintCreate(state,10,66);
  verify(txState).constraintIndexDoUnRemove(any(IndexDescriptor.class));
}
