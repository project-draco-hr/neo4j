{
  long nodeId=42;
  KernelStatement statement=mock(KernelStatement.class);
  when(statement.hasTxStateWithChanges()).thenReturn(true);
  when(statement.txState()).thenReturn(new TxState());
  StoreStatement storeStatement=mock(StoreStatement.class);
  when(statement.getStoreStatement()).thenReturn(storeStatement);
  when(storeStatement.acquireSingleNodeCursor(nodeId)).thenReturn(asNodeCursor(nodeId,PropertyCursor.EMPTY,LabelCursor.EMPTY));
  StateHandlingStatementOperations context=newTxStateOps(mock(StoreReadLayer.class));
  context.nodeDelete(statement,nodeId);
  context.nodeDelete(statement,nodeId);
}
