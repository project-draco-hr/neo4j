{
  long nodeId=42;
  TransactionState txState=mock(TransactionState.class);
  when(txState.nodeIsDeletedInThisTx(nodeId)).thenReturn(true);
  KernelStatement statement=mock(KernelStatement.class);
  when(statement.hasTxStateWithChanges()).thenReturn(true);
  when(statement.txState()).thenReturn(txState);
  StateHandlingStatementOperations context=newTxStateOps(mock(StoreReadLayer.class));
  context.nodeDelete(statement,nodeId);
}
