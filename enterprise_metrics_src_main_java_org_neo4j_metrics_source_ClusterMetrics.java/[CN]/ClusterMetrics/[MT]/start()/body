{
  monitors.addMonitorListener(monitor);
  registry.register(IS_MASTER,new RoleGauge(Predicates.equalTo(MASTER)));
  registry.register(IS_AVAILABLE,new RoleGauge(Predicates.not(Predicates.equalTo(UNKNOWN))));
  registry.register(SLAVE_PULL_UPDATES,new Gauge<Long>(){
    @Override public Long getValue(){
      return monitor.events.get();
    }
  }
);
  registry.register(SLAVE_PULL_UPDATE_UP_TO_TX,new Gauge<Long>(){
    @Override public Long getValue(){
      return monitor.lastAppliedTxId;
    }
  }
);
}
