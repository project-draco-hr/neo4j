{
  if (!open) {
    throw new ClosedChannelException();
  }
  if (bytesLeftInCurrentPage == 0) {
    if (!cursor.next()) {
      throw new IOException("Could not advance write cursor");
    }
    bytesLeftInCurrentPage=cursor.getCurrentPageSize();
  }
  int remaining=Math.min(src.remaining(),bytesLeftInCurrentPage);
  for (int i=0; i < remaining; i++) {
    cursor.putByte(src.get());
  }
  bytesLeftInCurrentPage-=remaining;
  return remaining;
}
