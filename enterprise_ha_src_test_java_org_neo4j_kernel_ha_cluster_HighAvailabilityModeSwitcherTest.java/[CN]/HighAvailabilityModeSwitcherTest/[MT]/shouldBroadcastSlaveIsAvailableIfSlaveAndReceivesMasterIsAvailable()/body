{
  ClusterMemberAvailability availability=mock(ClusterMemberAvailability.class);
  HighAvailabilityModeSwitcher toTest=new HighAvailabilityModeSwitcher(mock(SwitchToSlave.class),mock(SwitchToMaster.class),mock(Election.class),availability,StringLogger.DEV_NULL);
  toTest.masterIsAvailable(new HighAvailabilityMemberChangeEvent(HighAvailabilityMemberState.SLAVE,HighAvailabilityMemberState.SLAVE,new InstanceId(2),URI.create("ha://someone")));
  verify(availability,times(1)).memberIsAvailable(HighAvailabilityModeSwitcher.SLAVE,null);
}
