{
  super(logging,"Relationships",config);
  input(new ProducerStep<InputRelationship>(control(),"INPUT",config.batchSize()),input.iterator());
  RelationshipStore relationshipStore=neoStore.getRelationshipStore();
  PropertyStore propertyStore=neoStore.getPropertyStore();
  add(new RelationshipEncoderStep(control(),"ENCODER",config.workAheadSize(),1,neoStore.getPropertyKeyRepository(),neoStore.getRelationshipTypeRepository(),relationshipStore,propertyStore,nodeRelationshipLink));
  add(new EntityStoreUpdaterStep<>(control(),"WRITER",relationshipStore,propertyStore,writeMonitor));
}
