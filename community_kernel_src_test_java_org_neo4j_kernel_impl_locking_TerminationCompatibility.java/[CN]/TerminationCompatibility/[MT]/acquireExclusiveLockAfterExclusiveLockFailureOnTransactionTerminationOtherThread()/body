{
  acquireExclusiveLockInThisThread();
  LockAcquisition exclusiveLockAcquisition1=acquireExclusiveLockInAnotherThread();
  assertThreadIsWaitingForLock(exclusiveLockAcquisition1);
  exclusiveLockAcquisition1.terminate();
  assertLockAcquisitionFailed(exclusiveLockAcquisition1);
  releaseAllLocksInThisThread();
  LockAcquisition exclusiveLockAcquisition2=acquireExclusiveLockInAnotherThread();
  assertLockAcquisitionSucceeded(exclusiveLockAcquisition2);
}
