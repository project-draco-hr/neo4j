{
  if (indexService == null) {
    if (graph instanceof EmbeddedGraphDatabase) {
      indexService=new LuceneIndexService(graph);
      fulltextIndexService=new LuceneFulltextIndexService(graph);
      indicies=instantiateSomeIndicies();
    }
 else {
      throw new UnsupportedOperationException("Indexing is not yet available in neo4j-rest for remote databases.");
    }
  }
}
