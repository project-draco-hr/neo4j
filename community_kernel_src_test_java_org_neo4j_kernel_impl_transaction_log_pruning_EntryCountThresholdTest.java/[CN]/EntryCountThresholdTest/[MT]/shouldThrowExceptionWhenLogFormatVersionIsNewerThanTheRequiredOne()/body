{
  long version=10L;
  when(info.getFirstEntryId(version + 1)).thenThrow(new IllegalLogFormatException(9L,11L));
  EntryCountThreshold threshold=new EntryCountThreshold(2);
  try {
    threshold.reached(file,version,info);
    fail("should have thrown IllegalLogFormatException");
  }
 catch (  RuntimeException e) {
    assertTrue(e.getCause() instanceof IllegalLogFormatException);
    assertTrue(((IllegalLogFormatException)e.getCause()).wasNewerLogVersion());
  }
}
