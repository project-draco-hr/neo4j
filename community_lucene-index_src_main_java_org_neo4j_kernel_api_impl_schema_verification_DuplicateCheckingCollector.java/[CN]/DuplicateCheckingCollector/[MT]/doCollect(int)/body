{
  Document document=reader.document(doc);
  long nodeId=LuceneDocumentStructure.getNodeId(document);
  Property property=accessor.getProperty(nodeId,propertyKeyId);
  EntrySet current=actualValues;
  scan:   do {
    for (int i=0; i < EntrySet.INCREMENT; i++) {
      Object value=current.value[i];
      if (current.nodeId[i] == StatementConstants.NO_SUCH_NODE) {
        current.value[i]=property.value();
        current.nodeId[i]=nodeId;
        if (i == EntrySet.INCREMENT - 1) {
          current.next=new EntrySet();
        }
        break scan;
      }
 else       if (property.valueEquals(value)) {
        throw new PreexistingIndexEntryConflictException(value,current.nodeId[i],nodeId);
      }
    }
    current=current.next;
  }
 while (current != null);
}
