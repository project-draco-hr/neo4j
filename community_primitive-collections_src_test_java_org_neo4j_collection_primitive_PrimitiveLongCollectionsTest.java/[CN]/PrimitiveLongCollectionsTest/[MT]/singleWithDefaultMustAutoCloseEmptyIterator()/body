{
  AtomicInteger counter=new AtomicInteger();
  CountingPrimitiveLongIteratorResource itr=new CountingPrimitiveLongIteratorResource(PrimitiveLongCollections.emptyIterator(),counter);
  assertEquals(PrimitiveLongCollections.single(itr,2),2);
  assertEquals(1,counter.get());
}
