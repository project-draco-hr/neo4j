{
  if (inShutdown)   return;
  inShutdown=true;
  try {
    if (graphDbInstance.started()) {
      try {
        sendShutdownEvent();
      }
  finally {
        extensions.shutdown(msgLog);
      }
    }
    graphDbInstance.shutdown();
  }
  finally {
    inShutdown=false;
  }
}
