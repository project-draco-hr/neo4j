{
  Thread thread=new Thread(){
    @Override public void run(){
      File path=dbPath(machineId);
      while (true) {
        int size=directorySizeMb(path);
        if (size >= atLeastDbSizeMb) {
          called.set(true);
          shutdownDb(machineId);
          break;
        }
        sleeep(10);
      }
    }
    private int directorySizeMb(    File path){
      if (!path.exists()) {
        return 0;
      }
      int totalBytes=0;
      for (      File file : path.listFiles()) {
        totalBytes+=file.length();
      }
      return totalBytes / (1024 * 1024);
    }
  }
;
  thread.start();
  return thread;
}
