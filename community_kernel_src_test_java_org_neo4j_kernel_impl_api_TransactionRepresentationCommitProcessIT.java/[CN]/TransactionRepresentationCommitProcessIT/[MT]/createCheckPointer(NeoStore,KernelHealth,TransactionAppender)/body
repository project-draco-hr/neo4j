{
  CountCommittedTransactionThreshold committedTransactionThreshold=new CountCommittedTransactionThreshold(1);
  final StoreFlusher storeFlusher=new StoreFlusher(neoStore,mock(IndexingService.class),mock(LabelScanStore.class),Iterables.<IndexImplementation>empty());
  LogProvider logProvider=mock(LogProvider.class);
  when(logProvider.getLog(any(Class.class))).thenReturn(mock(Log.class));
  return new CheckPointerImpl(neoStore,committedTransactionThreshold,storeFlusher,mock(LogPruning.class),appender,kernelHealth,logProvider,mock(CheckPointTracer.class));
}
