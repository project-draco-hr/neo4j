{
  StorageEngine storageEngine=mock(StorageEngine.class);
  when(storageEngine.neoStores()).thenReturn(neoStores);
  when(storageEngine.kernelHealth()).thenReturn(kernelHealth);
  when(storageEngine.legacyIndexApplierLookup()).thenReturn(legacyIndexApplierLookup);
  when(storageEngine.cacheAccess()).thenReturn(mock(CacheAccessBackDoor.class));
  return new TransactionRepresentationStoreApplier(mock(Supplier.class),mock(LockService.class),indexStore,legacyIndexTransactionOrdering,legacyIndexApplierLookup,neoStores,mock(CacheAccessBackDoor.class),mock(IndexingService.class),kernelHealth);
}
