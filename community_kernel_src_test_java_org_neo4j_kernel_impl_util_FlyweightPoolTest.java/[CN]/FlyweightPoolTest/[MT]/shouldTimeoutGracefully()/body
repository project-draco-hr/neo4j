{
  FakeClock clock=new FakeClock();
  FlyweightPool.CheckStrategy timeStrategy=new FlyweightPool.CheckStrategy.TimeoutCheckStrategy(100,clock);
  while (clock.currentTimeMillis() <= 100) {
    assertFalse(timeStrategy.shouldCheck());
    clock.forward(10,TimeUnit.MILLISECONDS);
  }
  assertTrue(timeStrategy.shouldCheck());
  clock.forward(1,TimeUnit.MILLISECONDS);
  assertFalse(timeStrategy.shouldCheck());
}
