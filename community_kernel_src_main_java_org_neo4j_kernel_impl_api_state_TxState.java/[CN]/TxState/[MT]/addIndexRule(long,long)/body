{
  SchemaIndexProvider.Descriptor providerDescriptor=providerMap.getDefaultProvider().getProviderDescriptor();
  IndexRule rule=new IndexRule(idGeneration.newSchemaRuleId(),labelId,providerDescriptor,propertyKey);
  persistenceManager.createSchemaRule(rule);
  ruleDiffSets.add(rule);
  LabelState labelState=getOrCreateLabelState(rule.getLabel());
  labelState.getIndexRuleDiffSets().add(rule);
  return rule;
}
