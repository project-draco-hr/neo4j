{
  for (  NodeState node : nodeStates.values()) {
    DiffSets<Long> labelDiff=node.getLabelDiffSets();
    visitor.visitNodeLabelChanges(node.getId(),labelDiff.getAdded(),labelDiff.getRemoved());
  }
  indexChanges.accept(new DiffSets.Visitor<IndexDescriptor>(){
    @Override public void visitAdded(    IndexDescriptor element){
      visitor.visitAddedIndex(element);
    }
    @Override public void visitRemoved(    IndexDescriptor element){
      visitor.visitRemovedIndex(element);
    }
  }
);
  constraintsChanges.accept(new DiffSets.Visitor<UniquenessConstraint>(){
    @Override public void visitAdded(    UniquenessConstraint element){
      visitor.visitAddedConstraint(element);
    }
    @Override public void visitRemoved(    UniquenessConstraint element){
      visitor.visitRemovedConstraint(element);
    }
  }
);
}
