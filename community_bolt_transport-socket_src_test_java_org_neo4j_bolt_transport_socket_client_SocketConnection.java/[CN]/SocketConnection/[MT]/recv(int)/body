{
  byte[] bytes=new byte[length];
  int left=length, read;
  while ((read=in.read(bytes,length - left,left)) != -1 && left > 0) {
    left-=read;
  }
  return bytes;
}
