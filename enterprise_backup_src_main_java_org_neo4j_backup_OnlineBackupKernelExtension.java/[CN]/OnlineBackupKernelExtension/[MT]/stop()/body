{
  if (server != null) {
    server.stop();
    server.shutdown();
    server=null;
    try {
      graphDatabaseAPI.getDependencyResolver().resolveDependency(ClusterMemberEvents.class).removeClusterMemberListener((ClusterMemberListener)startBindingListener);
      graphDatabaseAPI.getDependencyResolver().resolveDependency(BindingNotifier.class).removeBindingListener((BindingListener)bindingListener);
      ClusterMemberAvailability client=getClusterMemberAvailability();
      client.memberIsUnavailable(BACKUP);
    }
 catch (    NoClassDefFoundError|IllegalArgumentException e) {
    }
  }
}
