{
  this(config,graphDatabaseAPI,new BackupProvider(){
    @Override public TheBackupInterface newBackup(){
      TransactionIdStore transactionIdStore=transactionIdStoreSupplier.get();
      StoreCopyServer copier=new StoreCopyServer(transactionIdStore,neoStoreDataSource,storeFlusherSupplier.get(),fileSystemAbstraction,new File(graphDatabaseAPI.getStoreDir()),monitors.newMonitor(StoreCopyServer.Monitor.class));
      LogicalTransactionStore logicalTransactionStore=logicalTransactionStoreSupplier.get();
      LogFileInformation logFileInformation=logFileInformationSupplier.get();
      return new BackupImpl(copier,monitors,logicalTransactionStore,transactionIdStore,logFileInformation,new Supplier<StoreId>(){
        @Override public StoreId get(){
          return graphDatabaseAPI.storeId();
        }
      }
);
    }
  }
,monitors,logProvider);
}
