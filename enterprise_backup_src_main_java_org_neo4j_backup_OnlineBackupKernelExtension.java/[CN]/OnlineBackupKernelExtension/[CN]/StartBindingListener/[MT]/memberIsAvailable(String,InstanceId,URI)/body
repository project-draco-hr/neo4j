{
  if (graphDatabaseAPI.getDependencyResolver().resolveDependency(ClusterClient.class).getServerId().equals(available) && "master".equals(role)) {
{
      try {
        ClusterMemberAvailability ha=graphDatabaseAPI.getDependencyResolver().resolveDependency(ClusterMemberAvailability.class);
        backupUri=URI.create("backup://" + (ServerUtil.getHostString(server.getSocketAddress()).contains("0.0.0.0") ? me.getHost() : ServerUtil.getHostString(server.getSocketAddress())) + ":"+ server.getSocketAddress().getPort());
        ha.memberIsAvailable(BACKUP,backupUri);
      }
 catch (      Throwable t) {
        throw new RuntimeException(t);
      }
    }
  }
}
