{
  Collection<DynamicRecord> records=store.allocateFrom(rule);
  for (  DynamicRecord record : records) {
    store.updateRecord(record);
  }
  return first(records).getId();
}
