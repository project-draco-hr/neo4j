{
  LifeSupport life=new LifeSupport();
  try {
    stopServicesAndHandleBranchedStore(BranchedDataPolicy.keep_none,true);
    MasterClient18 copyMaster=new MasterClient18(masterUri,graphDb.getMessageLog(),null,config);
    life.add(copyMaster);
    life.start();
    msgLog.logMessage("Copying store from master");
    new SlaveStoreWriter(config).copyStore(copyMaster);
    startServicesAgain();
    msgLog.logMessage("Finished copying store from master");
    return true;
  }
 catch (  Throwable e) {
    msgLog.logMessage("Failed to copy store from master",e);
  }
 finally {
    life.stop();
  }
  return false;
}
