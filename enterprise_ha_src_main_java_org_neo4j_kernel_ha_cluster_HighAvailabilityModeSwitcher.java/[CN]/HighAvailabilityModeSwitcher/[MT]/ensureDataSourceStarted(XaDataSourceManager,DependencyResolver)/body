{
  NeoStoreXaDataSource nioneoDataSource=(NeoStoreXaDataSource)xaDataSourceManager.getXaDataSource(Config.DEFAULT_DATA_SOURCE_NAME);
  if (nioneoDataSource == null) {
    try {
      nioneoDataSource=new NeoStoreXaDataSource(config,resolver.resolveDependency(StoreFactory.class),resolver.resolveDependency(LockManager.class),resolver.resolveDependency(StringLogger.class),resolver.resolveDependency(XaFactory.class),resolver.resolveDependency(TransactionStateFactory.class),resolver.resolveDependency(CacheAccessBackDoor.class),resolver.resolveDependency(TransactionInterceptorProviders.class),resolver.resolveDependency(JobScheduler.class),logging,updateableSchemaState,resolver);
      xaDataSourceManager.registerDataSource(nioneoDataSource);
    }
 catch (    IOException e) {
      msgLog.logMessage("Failed while trying to create datasource",e);
      throw e;
    }
  }
  return nioneoDataSource;
}
