{
  WebServer webServer=mock(WebServer.class);
  NeoEmbeddedJettyServer neoServer=mock(NeoEmbeddedJettyServer.class);
  when(neoServer.baseUri()).thenReturn(new URI("http://localhost:7575"));
  when(neoServer.getWebServer()).thenReturn(webServer);
  Database db=mock(Database.class);
  db.graph=(mock(AbstractGraphDatabase.class));
  Kernel mockKernel=mock(Kernel.class);
  ObjectName mockObjectName=mock(ObjectName.class);
  when(mockKernel.getMBeanQuery()).thenReturn(mockObjectName);
  when(db.graph.getManagementBean(Kernel.class)).thenReturn(mockKernel);
  when(neoServer.getDatabase()).thenReturn(db);
  WebAdminModule module=new WebAdminModule();
  Set<URI> uris=module.start(neoServer);
  assertEquals(1,uris.size());
  assertEquals("/webadmin",uris.iterator().next().getPath());
}
