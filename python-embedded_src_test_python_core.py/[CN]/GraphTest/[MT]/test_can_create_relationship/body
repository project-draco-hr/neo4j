def test_can_create_relationship(self):
    db = self.graphdb
    with self.graphdb.transaction:
        steven = self.graphdb.node(name='Steven Brookreson')
        poplar_bluff = self.graphdb.node(name='Poplar Bluff')
        relationship = steven.mayor_of(poplar_bluff, since='12th of July 2012')
        secondrel = poplar_bluff.likes(steven, message='buh')
    message = ''
    for rel in steven.mayor_of:
        message += ('%s %s %s' % (rel.start['name'], rel['since'], rel.end['name']))
    self.assertEquals(message, 'Steven Brookreson 12th of July 2012 Poplar Bluff')
    a_node = steven
    for rel in a_node.rels:
        pass
    for rel in a_node.rels.incoming:
        pass
    for rel in a_node.rels.outgoing:
        pass
    for rel in a_node.mayor_of:
        pass
    for rel in a_node.mayor_of.incoming:
        pass
    for rel in a_node.mayor_of.outgoing:
        pass
    self.assertEquals(len(steven.rels), 2)
    self.assertEquals(len(steven.rels.incoming), 1)
    self.assertEquals(len(steven.rels.outgoing), 1)
    self.assertEquals(len(steven.likes), 1)
    self.assertEquals(len(steven.likes.incoming), 1)
    self.assertEquals(len(steven.likes.outgoing), 0)
