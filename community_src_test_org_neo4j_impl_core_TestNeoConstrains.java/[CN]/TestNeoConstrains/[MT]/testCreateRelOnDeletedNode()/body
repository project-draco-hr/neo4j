{
  Node node1=getNeo().createNode();
  Node node2=getNeo().createNode();
  Transaction tx=getTransaction();
  tx.success();
  tx.finish();
  tx=getNeo().beginTx();
  node1.delete();
  try {
    node1.createRelationshipTo(node2,MyRelTypes.TEST);
  }
 catch (  Exception e) {
  }
  try {
    tx.success();
    tx.finish();
    fail("Transaction should be marked rollback");
  }
 catch (  Exception e) {
  }
  setTransaction(getNeo().beginTx());
  node2.delete();
  node1.delete();
}
