{
  ClassHandle handle;
  try (ClassGenerator simple=generateClass("SimpleClass")){
    FieldReference value=simple.field(String.class,"value");
    try (CodeBlock ctor=simple.generateConstructor(param(String.class,"value"))){
      ctor.put(ctor.self(),value,ctor.load("value"));
    }
     simple.generate(MethodTemplate.method(String.class,"value").returns(ExpressionTemplate.get(self(),String.class,"value")).build());
    handle=simple.handle();
  }
   Object instance=constructor(handle.loadClass(),String.class).invoke("Hello World");
  assertEquals("Hello World",instanceMethod(instance,"value").invoke());
}
