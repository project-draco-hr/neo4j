{
  createGenerator();
  ClassHandle handle;
  try (ClassGenerator simple=generateClass("SimpleClass")){
    FieldReference value=simple.field(clazz,"value");
    try (CodeBlock ctor=simple.generateConstructor(param(clazz,"value"))){
      ctor.put(ctor.self(),value,ctor.load("value"));
    }
     simple.generate(MethodTemplate.method(clazz,"value").returns(ExpressionTemplate.get(self(),clazz,"value")).build());
    handle=simple.handle();
  }
   Object instance=constructor(handle.loadClass(),clazz).invoke(argument);
  assertEquals(argument,instanceMethod(instance,"value").invoke());
}
