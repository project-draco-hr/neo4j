{
  this.query=query;
  text=result.dumpToString();
  try (Transaction tx=database.beginTx()){
    extract(result);
  }
   String profileText;
  try {
    if (query.startsWith("PROFILE")) {
      profileText=result.getExecutionPlanDescription().toString();
    }
 else {
      profileText="Query wasn't profiled";
    }
  }
 catch (  Exception ex) {
    profileText=ex.getMessage();
  }
  profile=profileText;
}
