{
  final File logsDirectory=new File(testDirectory.graphDbDir(),"logs");
  final File logFilename=new File(logsDirectory,"query.log");
  GraphDatabaseService database=databaseBuilder.setConfig(GraphDatabaseSettings.log_queries,Settings.TRUE).setConfig(GraphDatabaseSettings.logs_directory,logsDirectory.getPath()).setConfig(GraphDatabaseSettings.log_queries_parameter_logging_enabled,Settings.FALSE).newGraphDatabase();
  executeQueryAndShutdown(database);
  List<String> logLines=readAllLines(logFilename);
  assertEquals(1,logLines.size());
  assertThat(logLines.get(0),endsWith(String.format(" ms: %s - %s",embeddedSession(new FakeTransactionalContext(FULL)),QUERY)));
  assertThat(logLines.get(0),containsString(FULL.name()));
}
