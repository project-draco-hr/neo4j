{
  final File logsDirectory=new File(testDirectory.graphDbDir(),"logs");
  final File logFilename=new File(logsDirectory,"query.log");
  GraphDatabaseService database=databaseBuilder.setConfig(GraphDatabaseSettings.log_queries,Settings.TRUE).setConfig(GraphDatabaseSettings.logs_directory,logsDirectory.getPath()).newGraphDatabase();
  Map<String,Object> params=new HashMap<>();
  params.put("ids",Arrays.asList(0,1,2));
  String query="MATCH (n) WHERE id(n) in {ids} RETURN n.name";
  executeQueryAndShutdown(database,query,params);
  List<String> logLines=readAllLines(logFilename);
  assertEquals(1,logLines.size());
  assertThat(logLines.get(0),endsWith(String.format(" ms: %s - %s - {ids: [0, 1, 2]}",embeddedSession(new FakeTransactionalContext(FULL)),query)));
  assertThat(logLines.get(0),containsString(FULL.name()));
}
