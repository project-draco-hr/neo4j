{
  NeoStoreTransactionContextSupplier supplier=new NeoStoreTransactionContextSupplier(mock(NeoStore.class));
  NeoStoreTransactionContext firstRetrieved=supplier.acquire();
  NeoStoreTransactionContext secondRetrieved=supplier.acquire();
  firstRetrieved.close();
  NeoStoreTransactionContext thirdRetrieved=supplier.acquire();
  assertEquals(firstRetrieved,thirdRetrieved);
  assertNotEquals(firstRetrieved,secondRetrieved);
}
