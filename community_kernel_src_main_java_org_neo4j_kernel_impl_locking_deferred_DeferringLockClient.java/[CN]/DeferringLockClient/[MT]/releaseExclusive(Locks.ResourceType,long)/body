{
  final LockUnit unit=new LockUnit(resourceType,resourceId,true);
  if (!locks.remove(unit)) {
    throw new IllegalStateException("Cannot release lock that it does not hold: " + resourceType + "["+ resourceId+ "].");
  }
}
