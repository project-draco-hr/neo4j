{
  ManagedCluster cluster=clusterRule.startCluster();
  assertEquals(3,ha(cluster.getAnySlave()).getInstancesInCluster().length);
  RepairKit repair=cluster.shutdown(cluster.getAnySlave());
  try {
    cluster.await(masterSeesMembers(2));
    HighAvailability haMaster=ha(cluster.getMaster());
    assertEquals(2,haMaster.getInstancesInCluster().length);
  }
  finally {
    repair.repair();
  }
}
