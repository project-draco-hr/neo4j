{
  ClusterMemberInfo master=member(instancesInCluster,5001);
  assertTrue(master.getClusterId().endsWith(":5001"));
  assertEquals(HighAvailabilityModeSwitcher.MASTER,master.getHaRole());
  assertTrue("Unexpected start of HA URI " + uri("ha",master.getUris()),uri("ha",master.getUris()).startsWith("ha://" + InetAddress.getLocalHost().getHostAddress() + ":1137"));
  assertTrue("Master not available",master.isAvailable());
  ClusterMemberInfo slave=member(instancesInCluster,5002);
  assertTrue(slave.getClusterId().endsWith(":5002"));
  assertEquals(HighAvailabilityModeSwitcher.SLAVE,slave.getHaRole());
  assertTrue("Unexpected start of HA URI " + uri("ha",slave.getUris()),uri("ha",slave.getUris()).startsWith("ha://" + InetAddress.getLocalHost().getHostAddress() + ":1138"));
  assertTrue("Slave not available",slave.isAvailable());
}
