{
  long end=System.currentTimeMillis() + SECONDS.toMillis(300);
  boolean conditionMet=false;
  while (System.currentTimeMillis() < end) {
    conditionMet=predicate.test(member(ha.getInstancesInCluster(),2));
    if (conditionMet) {
      return;
    }
    Thread.sleep(500);
  }
  fail("Failed instance didn't show up as such in JMX");
}
