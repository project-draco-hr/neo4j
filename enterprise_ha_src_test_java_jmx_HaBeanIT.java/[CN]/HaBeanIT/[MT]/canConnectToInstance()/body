{
  startCluster(1);
  ClusterMemberInfo[] clusterMembers=ha(cluster.getMaster()).getInstancesInCluster();
  assertNotNull(clusterMembers);
  assertEquals(1,clusterMembers.length);
  ClusterMemberInfo clusterMember=clusterMembers[0];
  assertNotNull(clusterMember);
  Pair<Neo4jManager,HighAvailability> proc=clusterMember.connect();
  assertNotNull("could not connect",proc);
  Neo4jManager neo4j=proc.first();
  HighAvailability ha=proc.other();
  assertNotNull(neo4j);
  assertNotNull(ha);
  clusterMembers=ha.getInstancesInCluster();
  assertNotNull(clusterMembers);
  assertEquals(1,clusterMembers.length);
  assertEquals(clusterMember.getClusterId(),clusterMembers[0].getClusterId());
}
