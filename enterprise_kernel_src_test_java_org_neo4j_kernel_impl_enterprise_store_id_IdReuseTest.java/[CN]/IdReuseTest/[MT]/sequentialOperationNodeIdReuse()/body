{
  Label marker=DynamicLabel.label("marker");
  long node1=createNode(marker);
  long node2=createNode(marker);
  long node3=createNode(marker);
  assertEquals("Ids should be sequential",node1 + 1,node2);
  assertEquals("Ids should be sequential",node2 + 1,node3);
  NeoStoreDataSource.BufferedIdMaintenanceController idMaintenanceController=getIdMaintenanceController();
  deleteNodesByLabel(marker);
  idMaintenanceController.maintenance();
  assertEquals("Nodes have reused id",node1,createNode(marker));
  assertEquals("Nodes have reused id",node2,createNode(marker));
  assertEquals("Nodes have reused id",node3,createNode(marker));
}
