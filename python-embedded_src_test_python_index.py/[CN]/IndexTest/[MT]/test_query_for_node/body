def test_query_for_node(self):
    with self.graphdb.transaction:
        n = self.graphdb.node()
        idx = self.graphdb.node.indexes.create('test')
        idx['akey']['avalue'] = n
    ret = list(idx.query('akey:avalue'))[0]
    self.assertEqual(ret.id, n.id)
