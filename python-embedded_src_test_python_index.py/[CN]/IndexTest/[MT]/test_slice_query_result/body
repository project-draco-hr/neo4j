def test_slice_query_result(self):
    with self.graphdb.transaction:
        idx = self.graphdb.node.indexes.create('test')
        for x in range(50):
            idx['akey']['avalue'] = self.graphdb.node(name=x)
    hits = idx.query('akey:avalue')
    for item in hits:
        pass
    hits.close()
    hits = idx.query('akey:avalue')
    self.assertEqual(len(list(hits[:10])), 10)
    hits.close()
