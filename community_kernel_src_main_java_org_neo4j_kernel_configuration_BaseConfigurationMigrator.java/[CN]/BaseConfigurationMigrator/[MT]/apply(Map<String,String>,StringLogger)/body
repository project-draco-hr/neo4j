{
  boolean printedDeprecationMessage=false;
  for (  Migration migration : migrations) {
    if (migration.appliesTo(rawConfiguration)) {
      if (!printedDeprecationMessage) {
        printedDeprecationMessage=true;
        log.logMessage("WARNING! Deprecated configuration options used. See manual for details");
      }
      rawConfiguration=migration.apply(rawConfiguration);
      log.logMessage(migration.getDeprecationMessage());
    }
  }
  return rawConfiguration;
}
