{
  cluster=Cluster.start(dir.directory(),3,1,new TestOnlyDiscoveryServiceFactory());
  GraphDatabaseService edgeDB=cluster.findAnEdgeServer();
  boolean transactionFailed=false;
  try (Transaction tx=edgeDB.beginTx()){
    Node node=edgeDB.createNode();
    node.setProperty("foobar","baz_bat");
    node.addLabel(Label.label("Foo"));
    tx.success();
  }
 catch (  TransactionFailureException e) {
    transactionFailed=true;
  }
  assertTrue(transactionFailed);
}
