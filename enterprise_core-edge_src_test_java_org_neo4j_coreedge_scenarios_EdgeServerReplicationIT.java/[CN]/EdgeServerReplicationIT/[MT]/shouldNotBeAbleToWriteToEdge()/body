{
  Cluster cluster=clusterRule.startCluster();
  EdgeGraphDatabase edgeDB=cluster.findAnEdgeMember().database();
  boolean transactionFailed=false;
  try (Transaction tx=edgeDB.beginTx()){
    Node node=edgeDB.createNode();
    node.setProperty("foobar","baz_bat");
    node.addLabel(Label.label("Foo"));
    tx.success();
  }
 catch (  WriteOperationsNotAllowedException e) {
    transactionFailed=true;
  }
  assertTrue(transactionFailed);
}
