{
  while (true) {
    ExpansionSource next=current.next();
    if (next != null) {
      if (!visitedNodes.contains(next.node().getId())) {
        P newPriority=addPriority(next,currentAggregatedValue,calculateValue(next));
        queue.put(next,newPriority);
        System.out.println(">" + newPriority + " "+ next.node().getProperty(SimpleGraphBuilder.KEY_ID));
      }
    }
 else {
      break;
    }
  }
  Entry<ExpansionSource,P> entry=queue.pop();
  if (entry != null) {
    current=entry.getEntity();
    currentAggregatedValue=entry.getPriority();
    visitedNodes.add(current.node().getId());
    System.out.println("<" + currentAggregatedValue + " "+ current.node().getProperty(SimpleGraphBuilder.KEY_ID));
    return current;
  }
  return null;
}
