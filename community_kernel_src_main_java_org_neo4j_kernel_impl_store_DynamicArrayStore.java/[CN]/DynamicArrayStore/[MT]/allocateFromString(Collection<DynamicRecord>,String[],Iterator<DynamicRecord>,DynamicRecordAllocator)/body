{
  byte[][] stringsAsBytes=new byte[array.length][];
  int totalBytesRequired=STRING_HEADER_SIZE;
  for (int i=0; i < array.length; i++) {
    String string=array[i];
    byte[] bytes=PropertyStore.encodeString(string);
    stringsAsBytes[i]=bytes;
    totalBytesRequired+=4 + bytes.length;
  }
  ByteBuffer buf=ByteBuffer.allocate(totalBytesRequired);
  buf.put(PropertyType.STRING.byteValue());
  buf.putInt(array.length);
  for (  byte[] stringAsBytes : stringsAsBytes) {
    buf.putInt(stringAsBytes.length);
    buf.put(stringAsBytes);
  }
  allocateRecordsFromBytes(target,buf.array(),recordsToUseFirst,recordAllocator);
}
