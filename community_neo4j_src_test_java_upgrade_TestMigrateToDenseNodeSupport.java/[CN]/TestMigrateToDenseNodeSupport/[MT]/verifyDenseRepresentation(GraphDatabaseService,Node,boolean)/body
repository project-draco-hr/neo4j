{
  KernelAPI kernelAPI=((GraphDatabaseAPI)db).getDependencyResolver().resolveDependency(KernelAPI.class);
  try (KernelTransaction tx=kernelAPI.newTransaction(KernelTransaction.Type.implicit,AccessMode.READ);Statement statement=tx.acquireStatement()){
    Cursor<NodeItem> nodeCursor=statement.readOperations().nodeCursor(node.getId());
    assertTrue(nodeCursor.next());
    assertEquals(dense,nodeCursor.get().isDense());
  }
 catch (  TransactionFailureException|IllegalArgumentException e) {
    throw new RuntimeException(e);
  }
}
