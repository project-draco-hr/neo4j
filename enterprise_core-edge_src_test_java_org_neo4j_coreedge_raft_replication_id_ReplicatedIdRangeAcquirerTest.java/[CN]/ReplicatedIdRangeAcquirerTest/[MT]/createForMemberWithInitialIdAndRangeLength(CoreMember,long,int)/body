{
  ReplicatedIdAllocationStateMachine idAllocationStateMachine=new ReplicatedIdAllocationStateMachine(member,new InMemoryIdAllocationStateStore());
  replicator.subscribe(idAllocationStateMachine);
  ReplicatedIdRangeAcquirer acquirer=new ReplicatedIdRangeAcquirer(replicator,idAllocationStateMachine,idRangeLength,1,member,NullLogProvider.getInstance());
  ReplicatedIdGenerator generator=new ReplicatedIdGenerator(IdType.ARRAY_BLOCK,initialHighId,acquirer,NullLogProvider.getInstance());
  return generator;
}
