{
  localDatabase.start();
  MemberId source=findCoreMemberToCopyFrom();
  if (localDatabase.isEmpty()) {
    log.info("Local database is empty, attempting to replace with copy from core server %s",source);
    log.info("Stopping local database before copy.");
    localDatabase.stop();
    log.info("Finding store id of core server %s",source);
    StoreId storeId=storeFetcher.getStoreIdOf(source);
    log.info("Copying store from core server %s",source);
    localDatabase.delete();
    copyWholeStoreFrom(source,storeId,storeFetcher);
    log.info("Restarting local database after copy.",source);
    localDatabase.start();
  }
 else {
    ensureSameStoreIdAs(source);
  }
  txPulling.start();
}
