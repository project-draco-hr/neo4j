{
  Context context;
switch (kind) {
case ARRAY:
    context=Context.ARRAY_CONTENT;
  break;
case ITERABLE:
context=Context.ITERABLE_CONTENT;
break;
default :
throw new IllegalArgumentException("Not a sequence type: " + kind);
}
TypeBase base=bases.get(signature.charAt(start + 1));
if (base == null) {
throw illegal(signature);
}
if (!base.validIn.contains(context)) {
throw illegal(signature,context);
}
return new SequenceType(kind,base.parse(signature,start + 1));
}
