{
  PropertyContainerState.Mutable state=new PropertyContainerState.Mutable(1,EntityType.NODE);
  state.addProperty(stringProperty(1,"Hello"));
  state.addProperty(stringProperty(2,"Hello"));
  state.removeProperty(stringProperty(1,"Hello"));
  Iterator<DefinedProperty> added=state.addedProperties();
  assertThat(IteratorUtil.asList(added),equalTo(asList(stringProperty(2,"Hello"))));
}
