{
  PropertyContainerState.Mutable state=new PropertyContainerState.Mutable(1);
  state.addProperty(stringProperty(1,"Hello"));
  state.addProperty(stringProperty(1,"WAT"));
  state.addProperty(stringProperty(2,"Hello"));
  Iterator<DefinedProperty> added=state.addedProperties();
  assertThat(IteratorUtil.asList(added),equalTo(asList(stringProperty(1,"WAT"),stringProperty(2,"Hello"))));
}
