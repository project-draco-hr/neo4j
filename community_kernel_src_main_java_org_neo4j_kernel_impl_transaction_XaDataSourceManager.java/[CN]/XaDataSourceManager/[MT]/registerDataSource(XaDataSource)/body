{
  dataSources.put(dataSource.getName(),dataSource);
  branchIdMapping.put(UTF8.decode(dataSource.getBranchId()),dataSource);
  sourceIdMapping.put(dataSource.getName(),dataSource.getBranchId());
  life.add(dataSource);
  if (life.getStatus().equals(LifecycleStatus.STARTED)) {
    Listeners.notifyListeners(dsRegistrationListeners,new Listeners.Notification<DataSourceRegistrationListener>(){
      @Override public void notify(      DataSourceRegistrationListener listener){
        listener.registeredDataSource(dataSource);
      }
    }
);
  }
}
