{
  final Visitor<NodePropertyUpdates,IndexPopulationFailedKernelException> visitor=visitor(invocation.getArguments()[2]);
  return new StoreScan<IndexPopulationFailedKernelException>(){
    NodePropertyUpdates propertyUpdates=new NodePropertyUpdates();
    @Override public void run() throws IndexPopulationFailedKernelException {
      for (      NodePropertyUpdate update : updates) {
        propertyUpdates.initForNodeId(update.getNodeId());
        propertyUpdates.add(update);
        visitor.visit(propertyUpdates);
        propertyUpdates.reset();
      }
    }
    @Override public void stop(){
      throw new UnsupportedOperationException();
    }
    @Override public PopulationProgress getProgress(){
      return new PopulationProgress(42,100);
    }
  }
;
}
