{
  if (!monitoredInterfaces.containsKey(monitorClass)) {
    monitoredInterfaces.put(monitorClass,new AtomicBoolean(false));
    for (    Method method : monitorClass.getMethods()) {
      recalculateMethodListeners(method);
    }
  }
  ClassLoader classLoader=monitorClass.getClassLoader();
  MonitorInvocationHandler monitorInvocationHandler=new MonitorInvocationHandler(tags);
  try {
    return monitorClass.cast(Proxy.newProxyInstance(classLoader,new Class<?>[]{monitorClass},monitorInvocationHandler));
  }
  finally {
    if (monitorsMonitor != null) {
      monitorsMonitor.monitorCreated(monitorClass,tags);
    }
  }
}
