{
  long current;
  do {
    current=lastPageId.get();
  }
 while (current < newLastPageId && !lastPageId.compareAndSet(current,newLastPageId));
  return lastPageId.get();
}
