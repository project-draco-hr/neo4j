{
  try {
    LogPositionMarker positionMarker=new LogPositionMarker();
    channel.getCurrentPosition(positionMarker);
    byte version=channel.get();
    byte type=channel.get();
switch (type) {
case LogEntry.TX_START:
      return readTxStartEntry(version,channel,positionMarker.newPosition());
case LogEntry.TX_1P_COMMIT:
    return readTxOnePhaseCommitEntry(version,channel);
case LogEntry.COMMAND:
  return readTxCommandEntry(version,channel);
case LogEntry.EMPTY:
return null;
default :
throw new IOException("Unknown entry[" + type + "] at position "+ positionMarker.newPosition());
}
}
 catch (ReadPastEndException e) {
return null;
}
}
