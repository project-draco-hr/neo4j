{
  final InMemoryRaftLog log=new InMemoryRaftLog();
  RaftMembershipManager<RaftTestMember> membershipManager=new RaftMembershipManager<>(null,RaftTestMemberSetBuilder.INSTANCE,log,NullLogProvider.getInstance(),3,1000,new FakeClock(),1000,new InMemoryStateStorage<>(new RaftMembershipState<>()));
  membershipManager.processLog(asList(new AppendLogEntry(0,new RaftLogEntry(0,new RaftTestGroup(1,2,3,4))),new CommitCommand(0),new AppendLogEntry(1,new RaftLogEntry(0,new RaftTestGroup(1,2,3,5)))));
  assertEquals(new RaftTestGroup(1,2,3,5).getMembers(),membershipManager.votingMembers());
}
