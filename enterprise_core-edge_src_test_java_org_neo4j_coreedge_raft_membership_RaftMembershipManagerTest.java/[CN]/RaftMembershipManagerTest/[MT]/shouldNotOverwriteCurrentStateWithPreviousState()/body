{
  final InMemoryRaftLog log=new InMemoryRaftLog();
  RaftMembershipState<RaftTestMember> state=new RaftMembershipState<>();
  state.logIndex(42L);
  final StateStorage<RaftMembershipState<RaftTestMember>> stateStorage=mock(StateStorage.class);
  when(stateStorage.getInitialState()).thenReturn(state);
  RaftMembershipManager<RaftTestMember> membershipManager=new RaftMembershipManager<>(null,RaftTestMemberSetBuilder.INSTANCE,log,NullLogProvider.getInstance(),3,1000,new FakeClock(),1000,stateStorage);
  membershipManager.processLog(0,Collections.singletonList(new AppendLogEntry(0,new RaftLogEntry(0,new RaftTestGroup(1,2,3,4)))));
  verify(stateStorage,times(0)).persistStoreData(any());
}
