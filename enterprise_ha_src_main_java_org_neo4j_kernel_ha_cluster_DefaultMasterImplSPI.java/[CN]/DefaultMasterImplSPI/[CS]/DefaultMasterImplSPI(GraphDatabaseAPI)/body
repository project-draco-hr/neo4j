{
  this.graphDb=graphDb;
  this.dependencyResolver=graphDb.getDependencyResolver();
  this.transactionIdStore=dependencyResolver.resolveDependency(TransactionIdStore.class);
  this.fileSystem=dependencyResolver.resolveDependency(FileSystemAbstraction.class);
  this.storeDir=new File(graphDb.getStoreDir());
  this.txStore=dependencyResolver.resolveDependency(LogicalTransactionStore.class);
  this.txChecksumLookup=new TransactionChecksumLookup(transactionIdStore,txStore);
  this.responsePacker=new ResponsePacker(txStore,transactionIdStore,new Supplier<StoreId>(){
    @Override public StoreId get(){
      return graphDb.storeId();
    }
  }
);
  this.monitors=dependencyResolver.resolveDependency(Monitors.class);
}
