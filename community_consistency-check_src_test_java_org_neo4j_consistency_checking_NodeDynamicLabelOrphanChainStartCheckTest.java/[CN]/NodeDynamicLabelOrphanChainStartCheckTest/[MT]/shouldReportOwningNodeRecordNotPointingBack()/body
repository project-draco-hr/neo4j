{
  long nodeId=12L;
  Collection<DynamicRecord> validLabelRecords=new ArrayList<>();
  DynamicRecord dynamicRecord=inUse(new DynamicRecord(0));
  allocateFromNumbers(validLabelRecords,new long[]{nodeId},new ReusableRecordsAllocator(66,dynamicRecord));
  Collection<DynamicRecord> fakePointedToRecords=new ArrayList<>();
  DynamicRecord dynamicRecord1=inUse(new DynamicRecord(1));
  allocateFromNumbers(fakePointedToRecords,new long[]{nodeId},new ReusableRecordsAllocator(66,dynamicRecord1));
  NodeRecord nodeRecord=inUse(new NodeRecord(nodeId,false,-1,-1));
  nodeRecord.setLabelField(dynamicPointer(fakePointedToRecords),fakePointedToRecords);
  add(nodeRecord);
  DynamicLabelConsistencyReport report=check(Iterators.single(validLabelRecords.iterator()));
  verify(report).orphanDynamicLabelRecordDueToInvalidOwner(nodeRecord);
}
