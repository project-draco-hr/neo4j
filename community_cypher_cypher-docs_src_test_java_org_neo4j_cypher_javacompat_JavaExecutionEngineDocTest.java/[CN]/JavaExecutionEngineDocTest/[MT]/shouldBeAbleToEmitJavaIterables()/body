{
  makeFriends(michaelaNode,andreasNode);
  makeFriends(michaelaNode,johanNode);
  ExecutionEngine engine=new ExecutionEngine(db);
  ExecutionResult result=engine.execute("START n=node(0) MATCH n-->friend RETURN collect(friend)");
  Iterable<Node> friends=(Iterable<Node>)result.columnAs("collect(friend)").next();
  assertThat(friends,hasItems(andreasNode,johanNode));
  assertThat(friends,instanceOf(Iterable.class));
}
