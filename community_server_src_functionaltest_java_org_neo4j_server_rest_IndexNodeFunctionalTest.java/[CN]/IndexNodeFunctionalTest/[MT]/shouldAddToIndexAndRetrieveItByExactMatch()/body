{
  String indexName="favorites";
  String key="key";
  String value="the value";
  value=URIHelper.encode(value);
  DocsGenerator.create("Add node to index","Associates a node with the given key/value pair in the given index. " + "NOTE: Spaces in the URI have to be escaped.\n" + "[CAUTION]\n"+ "----\n"+ "This does *not* overwrite previous entries.\n"+ "If you index the same key/value/item combination twice,"+ "two index entries are created.\n"+ "To do update-type operations,"+ "you need to delete the old entry before adding a new one.\n"+ "----\n").expectedStatus(Response.Status.CREATED).payload(JsonHelper.createJsonFrom(functionalTestHelper.nodeUri(0))).post(functionalTestHelper.indexNodeUri(indexName,key,value));
  String entity=DocsGenerator.create("Find node by exact match","NOTE: Spaces in the URI have to be escaped.").get(functionalTestHelper.indexNodeUri(indexName,key,value)).entity();
  Collection<?> hits=(Collection<?>)JsonHelper.jsonToSingleValue(entity);
  assertEquals(1,hits.size());
}
