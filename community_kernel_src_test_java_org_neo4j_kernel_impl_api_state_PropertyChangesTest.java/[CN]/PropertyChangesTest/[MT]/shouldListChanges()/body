{
  PropertyChanges changes=new PropertyChanges();
  changes.changeProperty(1l,2,"from","to");
  changes.addProperty(1l,3,"from");
  changes.removeProperty(2l,2,"to");
  assertThat(changes.changesForProperty(2,"to"),equalTo(new DiffSets<>(asSet(1l),asSet(2l))));
  assertThat(changes.changesForProperty(3,"from"),equalTo(new DiffSets<>(asSet(1l),null)));
  assertThat(changes.changesForProperty(2,"from"),equalTo(new DiffSets<>(null,asSet(1l))));
}
