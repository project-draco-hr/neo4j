{
  TypeReference owner=typeReference(ByteCodeUtilsTest.class);
  MethodDeclaration declaration=MethodDeclaration.method(void.class,"fail",param(TypeReference.parameterizedType(CodeGenerationTest.Thrower.class,typeParameter("E")),"thrower")).parameterizedWith("E",extending(Exception.class)).throwsException(typeParameter("E")).build(owner);
  String description=signature(declaration);
  String[] exceptions=exceptions(declaration);
  assertThat(description,equalTo("<E:Ljava/lang/Exception;>(Lorg/neo4j/codegen/CodeGenerationTest.Thrower<TE;>;)V^TE;"));
  assertThat(exceptions,equalTo(new String[]{"java/lang/Exception"}));
}
