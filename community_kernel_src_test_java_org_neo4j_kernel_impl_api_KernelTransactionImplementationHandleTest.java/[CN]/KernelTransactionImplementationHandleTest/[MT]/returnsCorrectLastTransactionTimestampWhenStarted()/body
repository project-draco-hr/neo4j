{
  long lastCommittedTxTimestamp=42;
  KernelTransactionImplementation tx=mock(KernelTransactionImplementation.class);
  when(tx.lastTransactionTimestampWhenStarted()).thenReturn(lastCommittedTxTimestamp);
  when(tx.isOpen()).thenReturn(true);
  KernelTransactionImplementationHandle handle=new KernelTransactionImplementationHandle(tx);
  assertEquals(lastCommittedTxTimestamp,handle.lastTransactionTimestampWhenStarted());
}
