{
  if (generation == this.generation) {
    if (classes != 0) {
      throw new IllegalStateException("Compilation has not completed.");
    }
    this.generation++;
    loader.addSources(compile(loader.getParent()),byteCodeVisitor);
  }
  try {
    return loader.loadClass(name);
  }
 catch (  ClassNotFoundException e) {
    throw new IllegalStateException("Could not find defined class.",e);
  }
}
