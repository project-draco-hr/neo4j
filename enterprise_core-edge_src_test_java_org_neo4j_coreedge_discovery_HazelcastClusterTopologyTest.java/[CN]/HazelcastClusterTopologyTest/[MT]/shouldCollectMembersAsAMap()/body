{
  Set<Member> hazelcastMembers=new HashSet<>();
  List<MemberId> coreMembers=new ArrayList<>();
  for (int i=0; i < 5; i++) {
    MemberId memberId=new MemberId(UUID.randomUUID());
    coreMembers.add(memberId);
    Config config=Config.defaults();
    HashMap<String,String> settings=new HashMap<>();
    settings.put(CoreEdgeClusterSettings.transaction_advertised_address.name(),"tx:" + (i + 1));
    settings.put(CoreEdgeClusterSettings.raft_advertised_address.name(),"raft:" + (i + 1));
    settings.put(new GraphDatabaseSettings.BoltConnector("bolt").type.name(),"BOLT");
    settings.put(new GraphDatabaseSettings.BoltConnector("bolt").enabled.name(),"true");
    settings.put(new GraphDatabaseSettings.BoltConnector("bolt").advertised_address.name(),"bolt:" + (i + 1));
    config.augment(settings);
    Map<String,Object> attributes=buildMemberAttributes(memberId,config).getAttributes();
    hazelcastMembers.add(new MemberImpl(new Address("localhost",i),null,attributes,false));
  }
  Map<MemberId,CoreAddresses> coreMemberMap=HazelcastClusterTopology.toCoreMemberMap(hazelcastMembers,NullLog.getInstance());
  for (int i=0; i < 5; i++) {
    CoreAddresses coreAddresses=coreMemberMap.get(coreMembers.get(i));
    assertEquals(new AdvertisedSocketAddress("tx",(i + 1)),coreAddresses.getCatchupServer());
    assertEquals(new AdvertisedSocketAddress("raft",(i + 1)),coreAddresses.getRaftServer());
    assertEquals(new AdvertisedSocketAddress("bolt",(i + 1)),coreAddresses.getBoltServer());
  }
}
