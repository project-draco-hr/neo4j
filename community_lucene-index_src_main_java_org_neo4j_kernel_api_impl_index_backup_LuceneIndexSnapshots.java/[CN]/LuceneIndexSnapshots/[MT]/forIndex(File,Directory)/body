{
  if (!hasCommits(directory)) {
    return emptyIterator();
  }
  Collection<IndexCommit> indexCommits=DirectoryReader.listCommits(directory);
  IndexCommit indexCommit=Iterables.last(indexCommits);
  return new ReadOnlyIndexSnapshotFileIterator(indexFolder,indexCommit);
}
