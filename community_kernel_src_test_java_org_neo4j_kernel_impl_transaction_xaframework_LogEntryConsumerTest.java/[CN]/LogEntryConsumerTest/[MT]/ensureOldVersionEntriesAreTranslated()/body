{
  Function translator=Functions.identity();
  LogEntryConsumer consumer=new LogEntryConsumer(translator);
  LogHandler handler=mock(LogHandler.class);
  consumer.bind(0,handler);
  LogEntry.Start start=new LogEntry.Start(mock(Xid.class),1,(byte)(LogEntry.CURRENT_LOG_VERSION + 1),2,3,4,5,6);
  consumer.accept(start);
  LogEntry.Command command=new LogEntry.Command(1,(byte)(LogEntry.CURRENT_LOG_VERSION + 1),null);
  consumer.accept(command);
  LogEntry.OnePhaseCommit onePC=new LogEntry.OnePhaseCommit(1,(byte)(LogEntry.CURRENT_LOG_VERSION + 1),2,3);
  consumer.accept(onePC);
  LogEntry.TwoPhaseCommit twoPC=new LogEntry.TwoPhaseCommit(1,(byte)(LogEntry.CURRENT_LOG_VERSION + 1),2,3);
  consumer.accept(twoPC);
  LogEntry.Prepare prepare=new LogEntry.Prepare(1,(byte)(LogEntry.CURRENT_LOG_VERSION + 1),2);
  consumer.accept(prepare);
  verifyZeroInteractions(handler);
  LogEntry.Done done=new LogEntry.Done(1,(byte)(LogEntry.CURRENT_LOG_VERSION + 1));
  consumer.accept(done);
  verify(handler,times(1)).startEntry(start);
  verify(handler,times(1)).commandEntry(command);
  verify(handler,times(1)).onePhaseCommitEntry(onePC);
  verify(handler,times(1)).twoPhaseCommitEntry(twoPC);
  verify(handler,times(1)).prepareEntry(prepare);
  verify(handler,times(1)).doneEntry(done);
}
