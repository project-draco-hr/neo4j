{
  GraphDatabaseAPI db=new FakeHaDatabase();
  KernelAPI kernelAPI=db.getDependencyResolver().resolveDependency(KernelAPI.class);
  ThreadToStatementContextBridge ctxProvider=db.getDependencyResolver().resolveDependency(ThreadToStatementContextBridge.class);
  db.beginTx();
  KernelTransaction tx=kernelAPI.newTransaction();
  StatementOperationParts ctx=tx.newStatementOperations();
  try {
    ctx.schemaWriteOperations().uniquenessConstraintCreate(ctxProvider.statementForWriting(),1,1);
    fail("expected exception here");
  }
 catch (  UnsupportedSchemaModificationException e) {
  }
  db.shutdown();
}
