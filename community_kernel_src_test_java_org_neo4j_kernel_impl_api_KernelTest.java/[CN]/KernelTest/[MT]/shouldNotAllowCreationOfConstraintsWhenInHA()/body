{
  GraphDatabaseAPI db=new FakeHaDatabase();
  KernelAPI kernelAPI=db.getDependencyResolver().resolveDependency(KernelAPI.class);
  db.beginTx();
  TransactionContext tx=kernelAPI.newTransactionContext();
  StatementContext ctx=tx.newStatementContext();
  try {
    ctx.addUniquenessConstraint(1,1);
    fail("expected exception here");
  }
 catch (  UnsupportedSchemaModificationException e) {
  }
  db.shutdown();
}
