{
  new CommunityFacadeFactory(){
    @Override protected PlatformModule createPlatform(    File storeDir,    Map<String,String> params,    Dependencies dependencies,    GraphDatabaseFacade graphDatabaseFacade){
      return new ImpermanentPlatformModule(storeDir,params,dependencies,graphDatabaseFacade);
    }
    @Override protected EditionModule createEdition(    PlatformModule platformModule){
      return new CommunityEditionModule(platformModule){
        @Override protected SchemaWriteGuard createSchemaWriteGuard(){
          return new SchemaWriteGuard(){
            @Override public void assertSchemaWritesAllowed() throws InvalidTransactionTypeKernelException {
              throw new InvalidTransactionTypeKernelException("Creation or deletion of constraints is not possible while running in a HA cluster. " + "In order to do that, please restart in non-HA mode and propagate the database copy to " + "all slaves");
            }
          }
;
        }
      }
;
    }
  }
.newFacade(storeDir,params,dependencies,this);
}
