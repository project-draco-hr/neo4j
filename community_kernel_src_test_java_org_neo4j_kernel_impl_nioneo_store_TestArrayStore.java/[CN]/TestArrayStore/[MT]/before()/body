{
  dir=TargetDirectory.forTest(getClass()).directory("db",true);
  Map<String,String> configParams=MapUtil.stringMap();
  Config config=new Config(configParams);
  DefaultIdGeneratorFactory idGeneratorFactory=new DefaultIdGeneratorFactory();
  DefaultFileSystemAbstraction fs=new DefaultFileSystemAbstraction();
  StoreFactory factory=new StoreFactory(config,idGeneratorFactory,new DefaultWindowPoolFactory(),fs,new DefaultLastCommittedTxIdSetter(),StringLogger.DEV_NULL,new DefaultTxHook());
  String fileName=new File(dir,"arraystore").getAbsolutePath();
  factory.createDynamicArrayStore(fileName,120);
  arrayStore=new DynamicArrayStore(fileName,config,IdType.ARRAY_BLOCK,idGeneratorFactory,new DefaultWindowPoolFactory(),fs,StringLogger.DEV_NULL);
}
