{
  for (  Map.Entry<String,List<String>> header : httpHeaders.getRequestHeaders().entrySet()) {
    final List<String> value=header.getValue();
    if (value == null)     continue;
    if (value.size() != 1)     throw new IllegalArgumentException("expecting one value per header");
    res.addHeader(header.getKey(),header.getValue().get(0));
  }
}
