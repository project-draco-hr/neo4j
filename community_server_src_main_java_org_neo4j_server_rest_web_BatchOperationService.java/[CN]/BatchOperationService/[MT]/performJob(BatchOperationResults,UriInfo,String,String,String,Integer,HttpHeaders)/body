{
  Map<Integer,String> locations=results.getLocations();
  path=replaceLocationPlaceholders(path,locations);
  body=replaceLocationPlaceholders(body,locations);
  URI targetUri=calculateTargetUri(uriInfo,path);
  InternalJettyServletRequest req=new InternalJettyServletRequest(method,targetUri.toString(),body);
  InternalJettyServletResponse res=new InternalJettyServletResponse();
  addHeaders(req,httpHeaders);
  webServer.invokeDirectly(targetUri.getPath(),req,res);
  if (is2XXStatusCode(res.getStatus())) {
    results.addOperationResult(path,id,res.getOutputStream().toString(),res.getHeader("Location"));
  }
 else {
    throw new BatchOperationFailedException(res.getStatus(),res.getOutputStream().toString());
  }
}
