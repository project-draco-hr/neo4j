{
  TestLogger log=new TestLogger();
  TimeoutEvictingTransactionRegistry registry=new TimeoutEvictingTransactionRegistry(new FakeClock(),log);
  TransitionalTxManagementTransactionContext ctx=mock(TransitionalTxManagementTransactionContext.class);
  long txId=registry.begin();
  registry.suspend(txId,ctx);
  registry.resume(txId);
  verify(ctx).suspendSinceTransactionsAreStillThreadBound();
  verify(ctx).resumeSinceTransactionsAreStillThreadBound();
}
