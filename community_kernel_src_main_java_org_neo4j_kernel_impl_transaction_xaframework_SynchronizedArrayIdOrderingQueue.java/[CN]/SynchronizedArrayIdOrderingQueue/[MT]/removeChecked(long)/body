{
  if (queue[headIndex % queue.length] != expectedValue) {
    throw new IllegalStateException("Was about to remove head and expected it to be " + expectedValue + ", but it was "+ queue[headIndex]);
  }
  headIndex++;
  notifyAll();
}
