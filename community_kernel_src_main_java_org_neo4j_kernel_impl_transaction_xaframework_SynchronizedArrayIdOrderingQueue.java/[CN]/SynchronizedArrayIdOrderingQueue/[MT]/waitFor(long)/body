{
  while (offerIndex == headIndex || queue[headIndex % queue.length] != value) {
    wait();
  }
}
