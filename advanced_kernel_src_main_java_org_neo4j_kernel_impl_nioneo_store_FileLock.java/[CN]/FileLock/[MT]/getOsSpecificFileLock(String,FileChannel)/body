{
  if (Config.osIsWindows()) {
    if (fileName.endsWith("neostore")) {
      return getWindowsFileLock(new File(fileName).getParentFile());
    }
    return new PlaceboFileLock();
  }
 else {
    return wrapOrNull(channel.tryLock());
  }
}
