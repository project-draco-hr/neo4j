{
  return new StoreWriter(){
    private int totalFiles;
    @Override public void write(    String path,    ReadableByteChannel data,    ByteBuffer temporaryBuffer,    boolean hasData) throws IOException {
      console.log("Copying " + path);
      actual.write(path,data,temporaryBuffer,hasData);
      console.log("Copied " + path);
      totalFiles++;
    }
    @Override public void done(){
      actual.done();
      console.log("Done, copied " + totalFiles + " files");
    }
  }
;
}
