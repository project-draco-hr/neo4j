{
  if (!buffer.readable())   return -1;
  int size=Math.min(buffer.readableBytes(),dst.limit() - dst.position());
  ByteBufferBackedChannelBuffer wrapper=new ByteBufferBackedChannelBuffer(dst);
  wrapper.clear();
  buffer.readBytes(wrapper,size);
  dst.position(dst.position() + size);
  return size;
}
