{
  SingleVersionReader versionReader=mock(SingleVersionReader.class,RETURNS_MOCKS);
  VersionIndexRanges ranges=new VersionIndexRanges();
  int currentVersion=4;
  ranges.add(currentVersion,9);
  RaftLogMetadataCache raftLogMetadataCache=new RaftLogMetadataCache(3);
  LogPosition thePosition=new LogPosition(currentVersion,128);
  int cachedIndex=10;
  raftLogMetadataCache.cacheMetadata(cachedIndex,30,thePosition);
  VersionBridgingRaftEntryStore store=new VersionBridgingRaftEntryStore(ranges,versionReader,raftLogMetadataCache);
  IOCursor<RaftLogAppendRecord> entriesFrom=store.getEntriesFrom(cachedIndex);
  entriesFrom.next();
  verify(versionReader,times(1)).readEntriesFrom(thePosition);
}
