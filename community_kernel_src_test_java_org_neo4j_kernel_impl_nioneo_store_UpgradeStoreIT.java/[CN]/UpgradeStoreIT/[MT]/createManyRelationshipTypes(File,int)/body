{
  File fileName=new File(path,"neostore.relationshiptypestore.db");
  Monitors monitors=new Monitors();
  Config config=new Config();
  DefaultFileSystemAbstraction fs=new DefaultFileSystemAbstraction();
  StandardPageCache pageCache=new StandardPageCache(fs,1024,4096);
  DynamicStringStore stringStore=new DynamicStringStore(new File(fileName.getPath() + ".names"),config,IdType.RELATIONSHIP_TYPE_TOKEN_NAME,new DefaultIdGeneratorFactory(),pageCache,fs,StringLogger.DEV_NULL,StoreVersionMismatchHandler.THROW_EXCEPTION,monitors);
  RelationshipTypeTokenStore store=new RelationshipTypeTokenStoreWithOneOlderVersion(fileName,stringStore,monitors,fs,pageCache);
  for (int i=0; i < numberOfTypes; i++) {
    String name="type" + i;
    RelationshipTypeTokenRecord record=new RelationshipTypeTokenRecord(i);
    record.setCreated();
    record.setInUse(true);
    Collection<DynamicRecord> typeRecords=store.allocateNameRecords(PropertyStore.encodeString(name));
    record.setNameId((int)first(typeRecords).getId());
    record.addNameRecords(typeRecords);
    store.setHighId(store.getHighId() + 1);
    store.updateRecord(record);
  }
  store.close();
}
