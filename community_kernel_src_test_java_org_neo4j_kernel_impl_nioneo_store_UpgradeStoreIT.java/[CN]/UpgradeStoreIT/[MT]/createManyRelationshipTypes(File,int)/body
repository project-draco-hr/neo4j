{
  File fileName=new File(path,"neostore.relationshiptypestore.db");
  DynamicStringStore stringStore=new DynamicStringStore(new File(fileName.getPath() + ".names"),null,IdType.RELATIONSHIP_TYPE_TOKEN_NAME,new DefaultIdGeneratorFactory(),new DefaultWindowPoolFactory(),new DefaultFileSystemAbstraction(),StringLogger.DEV_NULL,StoreVersionMismatchHandler.THROW_EXCEPTION);
  RelationshipTypeTokenStore store=new RelationshipTypeTokenStoreWithOneOlderVersion(fileName,stringStore);
  for (int i=0; i < numberOfTypes; i++) {
    String name="type" + i;
    RelationshipTypeTokenRecord record=new RelationshipTypeTokenRecord(i);
    record.setCreated();
    record.setInUse(true);
    Collection<DynamicRecord> typeRecords=store.allocateNameRecords(PropertyStore.encodeString(name));
    record.setNameId((int)first(typeRecords).getId());
    record.addNameRecords(typeRecords);
    store.setHighId(store.getHighId() + 1);
    store.updateRecord(record);
  }
  store.close();
}
