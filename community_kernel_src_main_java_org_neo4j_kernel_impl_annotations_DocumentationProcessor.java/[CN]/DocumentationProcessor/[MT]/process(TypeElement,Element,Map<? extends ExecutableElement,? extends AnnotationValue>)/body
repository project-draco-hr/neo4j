{
  Element enclosing=annotated.getEnclosingElement();
  if (enclosing instanceof TypeElement) {
    TypeElement type=(TypeElement)enclosing;
    System.out.println(Arrays.toString(annotated.getClass().getInterfaces()));
    System.out.println("CLASS DOC: " + processingEnv.getElementUtils().getDocComment(type));
    String javadoc=processingEnv.getElementUtils().getDocComment(annotated);
    if (javadoc == null)     throw new IllegalStateException("The field \"" + annotated + "\" should be documented.");
    Properties props=new Properties();
    props.setProperty(annotated.getSimpleName().toString(),javadoc);
    Writer writer=append("META-INF","documentation",type.getQualifiedName().toString());
    try {
      props.store(writer,null);
    }
  finally {
      writer.close();
    }
  }
}
