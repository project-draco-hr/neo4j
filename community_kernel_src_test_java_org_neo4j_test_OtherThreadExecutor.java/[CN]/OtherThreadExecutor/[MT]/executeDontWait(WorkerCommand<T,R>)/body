{
  return commandExecutor.submit(new Callable<R>(){
    @Override public R call(){
      executingCommand=true;
      try {
        return cmd.doWork(state);
      }
  finally {
        executingCommand=false;
      }
    }
  }
);
}
