{
  Config mockConfig=mock(Config.class);
  URI browserUri=new URI("/browser");
  when(mockConfig.get(ServerInternalSettings.browser_path)).thenReturn(browserUri);
  String baseUri="http://www.example.com:5435";
  DiscoveryService ds=new DiscoveryService(mockConfig,new EntityOutputFormat(new JsonFormat(),new URI(baseUri),null),new SecurityCentral(Clock.SYSTEM_CLOCK,new InMemoryUserRepository()));
  Response response=ds.redirectToBrowser();
  assertThat(response.getMetadata().getFirst("Location"),is((Object)new URI("http://www.example" + ".com:5435/browser")));
}
