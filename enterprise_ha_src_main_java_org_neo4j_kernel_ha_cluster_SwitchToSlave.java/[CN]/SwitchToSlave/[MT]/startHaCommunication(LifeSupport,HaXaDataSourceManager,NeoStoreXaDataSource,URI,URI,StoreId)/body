{
  MasterClient master=haCommunicationLife.add(newMasterClient(masterUri,nioneoDataSource.getStoreId()));
  Slave slaveImpl=new SlaveImpl(nioneoDataSource.getStoreId(),master,new RequestContextFactory(getServerId(masterUri).toIntegerIndex(),xaDataSourceManager,resolver),xaDataSourceManager);
  SlaveServer server=new SlaveServer(slaveImpl,serverConfig(),logging,resolver.resolveDependency(Monitors.class));
  masterDelegateHandler.setDelegate(master);
  haCommunicationLife.add(slaveImpl);
  haCommunicationLife.add(server);
  haCommunicationLife.start();
  URI slaveHaURI=createHaURI(me,server);
  clusterMemberAvailability.memberIsAvailable(HighAvailabilityModeSwitcher.SLAVE,slaveHaURI,storeId);
  return slaveHaURI;
}
