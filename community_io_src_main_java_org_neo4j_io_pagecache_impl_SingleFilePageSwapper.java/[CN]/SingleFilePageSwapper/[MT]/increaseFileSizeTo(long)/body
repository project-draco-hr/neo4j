{
  long currentFileSize;
  do {
    currentFileSize=getCurrentFileSize();
  }
 while (currentFileSize < newFileSize && !UnsafeUtil.compareAndSwapLong(this,fileSizeOffset,currentFileSize,newFileSize));
}
