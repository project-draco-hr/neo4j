{
  long fileOffset=pageIdToPosition(filePageId);
  increaseFileSizeTo(fileOffset + filePageSize);
  try {
    StoreChannel channel=channel(filePageId);
    return swapOut(page,fileOffset,channel);
  }
 catch (  ClosedChannelException e) {
    tryReopen(filePageId,e);
    boolean interrupted=Thread.interrupted();
    long bytesWritten=write(filePageId,page);
    if (interrupted) {
      Thread.currentThread().interrupt();
    }
    return bytesWritten;
  }
}
