{
  Thread currentThread=Thread.currentThread();
  while (lockCount > 0 && lockingThread != currentThread) {
    waitingThreadList.addFirst(currentThread);
    try {
      wait();
    }
 catch (    InterruptedException e) {
      Thread.interrupted();
    }
  }
  lockCount++;
  lockingThread=currentThread;
  marked--;
}
