{
  return new Predicate<ClusterManager.ManagedCluster>(){
    @Override public boolean accept(    ManagedCluster cluster){
      Neo4jManager jmx=new Neo4jManager(cluster.getMaster().getDependencyResolver().resolveDependency(JmxKernelExtension.class).getSingleManagementBean(Kernel.class));
      return jmx.getHighAvailabilityBean().getInstancesInCluster().length >= count;
    }
    @Override public String toString(){
      return "Master should see " + count + " members";
    }
  }
;
}
