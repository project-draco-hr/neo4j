{
  return new Predicate<ManagedCluster>(){
    @Override public boolean accept(    ManagedCluster cluster){
      for (      HighlyAvailableGraphDatabase database : cluster.getAllMembers()) {
        Neo4jManager jmx=new Neo4jManager(database.getDependencyResolver().resolveDependency(JmxKernelExtension.class).getSingleManagementBean(Kernel.class));
        for (        ClusterMemberInfo clusterMemberInfo : jmx.getHighAvailabilityBean().getInstancesInCluster()) {
          if (!clusterMemberInfo.isAvailable())           return false;
        }
      }
      return true;
    }
    @Override public String toString(){
      return "All instances should see all others as available";
    }
  }
;
}
