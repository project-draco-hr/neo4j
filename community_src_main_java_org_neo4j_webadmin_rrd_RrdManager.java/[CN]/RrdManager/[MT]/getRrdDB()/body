{
  if (INSTANCE == null) {
    try {
      if (!new File(getDbFilePath()).exists()) {
        RrdDef rrdDef=new RrdDef(getDbFilePath(),STEP_SIZE);
        rrdDef.setVersion(2);
        rrdDef.addDatasource(NODE_CACHE_SIZE,DsType.GAUGE,STEP_SIZE,0,Long.MAX_VALUE);
        rrdDef.addDatasource(NODE_COUNT,DsType.GAUGE,STEP_SIZE,0,Long.MAX_VALUE);
        rrdDef.addDatasource(RELATIONSHIP_COUNT,DsType.GAUGE,STEP_SIZE,0,Long.MAX_VALUE);
        rrdDef.addDatasource(PROPERTY_COUNT,DsType.GAUGE,STEP_SIZE,0,Long.MAX_VALUE);
        rrdDef.addDatasource(MEMORY_PERCENT,DsType.GAUGE,STEP_SIZE,0,Long.MAX_VALUE);
        rrdDef.addArchive(ConsolFun.AVERAGE,0.5,1,STEPS_PER_ARCHIVE);
        rrdDef.addArchive(ConsolFun.AVERAGE,0.2,10,STEPS_PER_ARCHIVE);
        rrdDef.addArchive(ConsolFun.AVERAGE,0.2,50,STEPS_PER_ARCHIVE);
        rrdDef.addArchive(ConsolFun.AVERAGE,0.2,300,STEPS_PER_ARCHIVE);
        rrdDef.addArchive(ConsolFun.AVERAGE,0.2,1300,STEPS_PER_ARCHIVE);
        rrdDef.addArchive(ConsolFun.AVERAGE,0.2,15000,STEPS_PER_ARCHIVE * 5);
        INSTANCE=new RrdDb(rrdDef);
      }
 else {
        INSTANCE=new RrdDb(getDbFilePath());
      }
    }
 catch (    IOException e) {
      throw new RuntimeException("IO Error trying to access round robin database path. See nested exception.",e);
    }
  }
  return INSTANCE;
}
