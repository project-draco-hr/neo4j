{
  int timeLimit=guard.getTimeLimit();
  String headerValue=request.getHeader("max-execution-time");
  if (headerValue != null) {
    int maxHeader=Integer.parseInt(headerValue);
    if (timeLimit < 0 || (maxHeader > 0 && maxHeader < timeLimit)) {
      return maxHeader;
    }
  }
  return timeLimit;
}
