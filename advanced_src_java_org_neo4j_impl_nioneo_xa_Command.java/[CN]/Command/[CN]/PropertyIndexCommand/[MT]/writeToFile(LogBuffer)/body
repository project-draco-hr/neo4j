{
  byte inUse=record.inUse() ? Record.IN_USE.byteValue() : Record.NOT_IN_USE.byteValue();
  buffer.put(PROP_INDEX_COMMAND);
  buffer.putInt(record.getId());
  record.setTransferStartPosition(buffer.getFileChannel(),buffer.getFileChannelPosition());
  buffer.put(inUse);
  buffer.putInt(record.getPropertyCount()).putInt(record.getKeyBlockId());
  record.setTransferCount(9);
  if (record.isLight()) {
    buffer.putInt(0);
  }
 else {
    Collection<DynamicRecord> keyRecords=record.getKeyRecords();
    buffer.putInt(keyRecords.size());
    for (    DynamicRecord keyRecord : keyRecords) {
      writeDynamicRecord(buffer,keyRecord);
    }
  }
}
