{
  CachedPageList list1=new CachedPageList();
  CachedPageList list2=new CachedPageList();
  Page page1=new BasicPage();
  Page page2=new BasicPage();
  Page page3=new BasicPage();
  Page page4=new BasicPage();
  Page page5=new BasicPage();
  page1.moveToTailOf(list1);
  page2.moveToTailOf(list1);
  page3.moveToTailOf(list1);
  page4.moveToTailOf(list1);
  page5.moveToTailOf(list1);
  Page page6=new BasicPage();
  Page page7=new BasicPage();
  page6.moveToTailOf(list2);
  page7.moveToTailOf(list2);
  page3.moveToTailOf(list2);
  assertEquals(4,list1.size());
  assertSame(page1,list1.head);
  assertSame(page5,list1.tail);
  assertSame(list1,page1.currentList);
  assertSame(list1,page2.currentList);
  assertSame(list1,page4.currentList);
  assertSame(list1,page5.currentList);
  assertNull(page1.prevPage);
  assertSame(page1,page2.prevPage);
  assertSame(page2,page4.prevPage);
  assertSame(page4,page5.prevPage);
  assertSame(page2,page1.nextPage);
  assertSame(page4,page2.nextPage);
  assertSame(page5,page4.nextPage);
  assertNull(page5.nextPage);
  assertEquals(3,list2.size());
  assertSame(page6,list2.head);
  assertSame(page3,list2.tail);
  assertSame(list2,page6.currentList);
  assertSame(list2,page7.currentList);
  assertSame(list2,page3.currentList);
  assertNull(page6.prevPage);
  assertSame(page6,page7.prevPage);
  assertSame(page7,page3.prevPage);
  assertSame(page7,page6.nextPage);
  assertSame(page3,page7.nextPage);
  assertNull(page3.nextPage);
}
