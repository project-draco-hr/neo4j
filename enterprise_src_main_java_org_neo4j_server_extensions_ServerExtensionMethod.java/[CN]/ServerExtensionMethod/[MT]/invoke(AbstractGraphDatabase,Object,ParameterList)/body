{
  Object[] arguments=new Object[extractors.length];
  for (int i=0; i < arguments.length; i++) {
    arguments[i]=extractors[i].extract(graphDb,source,params);
  }
  try {
    return result.convert(method.invoke(extension,arguments));
  }
 catch (  InvocationTargetException exc) {
    Throwable targetExc=exc.getTargetException();
    for (    Class<?> excType : method.getExceptionTypes()) {
      if (excType.isInstance(targetExc))       throw new BadExtensionInvocationException(targetExc);
    }
    throw new ExtensionInvocationFailureException(targetExc);
  }
catch (  IllegalArgumentException e) {
    throw new ExtensionInvocationFailureException(e);
  }
catch (  IllegalAccessException e) {
    throw new ExtensionInvocationFailureException(e);
  }
}
