{
  log.info((now ? "Forcefully shutting" : "Shutting") + " down executor." + EOL+ this);
  if (now) {
    executor.shutdownNow();
  }
 else {
    executor.shutdown();
  }
  try {
    boolean tasksCompleted=executor.awaitTermination(AWAIT_TIMEOUT_MINUTES,TimeUnit.MINUTES);
    if (!tasksCompleted) {
      handleTimeout();
    }
  }
 catch (  InterruptedException e) {
    handleInterrupt();
  }
}
