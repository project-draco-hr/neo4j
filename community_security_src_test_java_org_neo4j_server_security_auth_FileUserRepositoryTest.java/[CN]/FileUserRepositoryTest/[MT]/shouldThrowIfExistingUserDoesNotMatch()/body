{
  FileUserRepository users=new FileUserRepository(authFile,NullLogProvider.getInstance());
  User user=new User("jake","admin",Credential.INACCESSIBLE,true);
  users.create(user);
  User modifiedUser=new User("jake","admin",Credential.forPassword("foo"),false);
  User updatedUser=new User("jake","admin",Credential.forPassword("bar"),false);
  try {
    users.update(modifiedUser,updatedUser);
    fail("expected exception not thrown");
  }
 catch (  ConcurrentModificationException e) {
  }
}
