{
  LifeSupport lifeSupport=new LifeSupport();
  Exception stopThrowable=new Exception();
  LifecycleMock instance1=new LifecycleMock(null,null,stopThrowable,null);
  lifeSupport.add(instance1);
  Exception startThrowable=new Exception();
  LifecycleMock instance2=new LifecycleMock(null,startThrowable,null,null);
  lifeSupport.add(instance2);
  LifecycleMock instance3=new LifecycleMock(null,null,null,null);
  lifeSupport.add(instance3);
  try {
    lifeSupport.start();
    Assert.fail();
  }
 catch (  LifecycleException throwable) {
    assertEquals(stopThrowable,throwable.getCause());
    assertEquals(startThrowable,throwable.getCause().getCause().getCause());
  }
  assertEquals(LifecycleStatus.STOPPED,lifeSupport.getStatus());
  assertEquals(LifecycleStatus.STOPPED,instance1.getStatus());
  assertEquals(LifecycleStatus.STOPPED,instance2.getStatus());
  assertEquals(LifecycleStatus.STOPPED,instance3.getStatus());
}
