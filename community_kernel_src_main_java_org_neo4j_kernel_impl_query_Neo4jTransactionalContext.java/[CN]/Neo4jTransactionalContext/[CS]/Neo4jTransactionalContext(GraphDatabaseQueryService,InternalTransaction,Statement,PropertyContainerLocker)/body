{
  this.graph=graph;
  this.transaction=initialTransaction;
  this.transactionType=initialTransaction.transactionType();
  this.mode=initialTransaction.mode();
  this.statement=initialStatement;
  this.locker=locker;
  DependencyResolver dependencyResolver=graph.getDependencyResolver();
  this.txBridge=dependencyResolver.resolveDependency(ThreadToStatementContextBridge.class);
  this.dbmsOperations=dependencyResolver.resolveDependency(DbmsOperations.class);
  this.guard=dependencyResolver.resolveDependency(Guard.class);
}
