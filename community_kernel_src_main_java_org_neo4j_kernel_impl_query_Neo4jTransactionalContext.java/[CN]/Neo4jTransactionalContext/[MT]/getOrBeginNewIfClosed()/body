{
  if (isOpen) {
    return this;
  }
 else {
    InternalTransaction transaction=graph.beginTransaction(transactionType,mode);
    Statement statement=txBridge.get();
    statement.queryRegistration().registerExecutingQuery(executingQuery);
    return new Neo4jTransactionalContext(graph,transaction,transaction.transactionType(),transaction.mode(),statement,executingQuery,locker,graph.getDependencyResolver().resolveDependency(ThreadToStatementContextBridge.class),graph.getDependencyResolver().resolveDependency(DbmsOperations.Factory.class),guard);
  }
}
