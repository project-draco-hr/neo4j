{
  ByteBuffer duplicate=buffer.duplicate();
  duplicate.position(0);
  duplicate.limit(length);
  channel.writeAll(duplicate,offset);
}
