{
  Collection<Node> nodesToIterate=new ArrayList<>(this.nextNodes);
  this.nextNodes.clear();
  this.lastPath.setLength(currentDepth);
  this.nextRelationships=new NestingIterator<Relationship,Node>(nodesToIterate.iterator()){
    @Override protected Iterator<Relationship> createNestedIterator(    Node node){
      lastPath.setEndNode(node);
      return expander.expand(lastPath,BranchState.NO_STATE).iterator();
    }
  }
;
  this.currentDepth++;
  this.sharedCurrentDepth.value++;
}
