{
  ForsetiLockManager locks=new ForsetiLockManager(ResourceTypes.NODE);
  ExecutorService pool=Executors.newFixedThreadPool(4);
  for (int i=0; i < 5; i++) {
    List<Future<Long>> futures=pool.invokeAll(asList(worker(locks.newClient()),worker(locks.newClient()),worker(locks.newClient())));
    long deadlocks=0;
    for (    Future<Long> future : futures) {
      deadlocks+=future.get();
    }
    System.out.println("Round[" + i + "]: "+ deadlocks);
  }
  pool.shutdown();
}
