{
  File featuresDirectory=createTargetDirectory("features");
  File graphsDirectory=createTargetDirectory("graphs");
  URI uri;
  try {
    uri=TCKCucumberTemplate.class.getResource("").toURI();
  }
 catch (  URISyntaxException e) {
    throw new IllegalStateException("Failed to find resources for TCK feature files in JAR!",e);
  }
  try (FileSystem fileSystem=FileSystems.newFileSystem(uri,Collections.emptyMap())){
    findAndUnpackTo(fileSystem,"glob:**/*.feature",featuresDirectory);
    findAndUnpackTo(fileSystem,"glob:**/*.cyp",graphsDirectory);
    findAndUnpackTo(fileSystem,"glob:**/*.json",graphsDirectory);
  }
 catch (  IOException e) {
    throw new IllegalStateException("Unexpected error while unpacking Cypher TCK feature files",e);
  }
}
