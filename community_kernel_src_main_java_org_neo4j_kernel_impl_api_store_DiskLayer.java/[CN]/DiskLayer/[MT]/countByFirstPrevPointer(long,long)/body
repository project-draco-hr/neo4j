{
  if (relationshipId == Record.NO_NEXT_RELATIONSHIP.intValue()) {
    return 0;
  }
  RelationshipRecord record=relationshipStore.getRecord(relationshipId);
  if (record.getFirstNode() == nodeId) {
    return record.getFirstPrevRel();
  }
  if (record.getSecondNode() == nodeId) {
    return record.getSecondPrevRel();
  }
  throw new InvalidRecordException("Node " + nodeId + " neither start nor end node of "+ record);
}
