{
  while (!current.compareAndSet(ResourceTask.IDLE,new ResourceTask(resource,task))) {
    if (current.get().resource == null)     continue;
    throw new RuntimeException("Previous task not completed");
  }
}
