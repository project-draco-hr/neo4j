{
  ReadOnlyTransactionImpl tx=txThreadMap.get();
  return tx != null ? tx.getTransactionState() : TransactionState.NO_STATE;
}
