{
  Map<TxLockElement,LockingTransaction> transactions=new HashMap<TxLockElement,LockingTransaction>();
  for (  TxLockElement tle : txLockElementMap.values()) {
    transactions.put(tle,new LockingTransaction(tle.tx.toString(),tle.readCount,tle.writeCount));
  }
  for (  WaitElement thread : waitingThreadList) {
    transactions.put(thread.element,WaitingThread.create(thread.element.tx.toString(),thread.element.readCount,thread.element.writeCount,thread.waitingThread,thread.since,thread.lockType == LockType.WRITE));
  }
  return new LockInfo(resource.toString(),readCount,writeCount,transactions.values());
}
