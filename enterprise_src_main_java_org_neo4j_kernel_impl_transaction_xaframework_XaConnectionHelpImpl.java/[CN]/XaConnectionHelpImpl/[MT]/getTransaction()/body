{
  XAResource xar=getXaResource();
  XaTransaction xat=null;
  if (xar instanceof XaResourceHelpImpl) {
    xat=((XaResourceHelpImpl)xar).getCompletedTx();
  }
  if (xat != null) {
    return xat;
  }
  return xaRm.getXaTransaction(xar);
}
