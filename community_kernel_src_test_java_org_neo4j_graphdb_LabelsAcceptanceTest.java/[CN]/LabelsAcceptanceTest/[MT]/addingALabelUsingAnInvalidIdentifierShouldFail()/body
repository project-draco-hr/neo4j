{
  GraphDatabaseService beansAPI=dbRule.getGraphDatabaseService();
  Exception caught=null;
  Transaction tx=beansAPI.beginTx();
  try {
    beansAPI.createNode().addLabel(label(""));
  }
 catch (  ConstraintViolationException ex) {
    caught=ex;
  }
 finally {
    tx.finish();
  }
  assertThat("Correct exception should have been thrown.",caught,is(ConstraintViolationException.class));
  Transaction tx2=beansAPI.beginTx();
  try {
    beansAPI.createNode().addLabel(label(null));
  }
 catch (  ConstraintViolationException ex) {
    caught=ex;
  }
 finally {
    tx2.finish();
  }
  assertThat("Correct exception should have been thrown.",caught,is(ConstraintViolationException.class));
}
