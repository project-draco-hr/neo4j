{
  Constraint constraint=newConstraintObject(typeId,propertyKeyId);
{
    SchemaWriteOperations statement=schemaWriteOperationsInNewTransaction();
    try {
      dropConstraint(statement,constraint);
      fail("Should not have dropped constraint");
    }
 catch (    DropConstraintFailureException e) {
      assertThat(e.getCause(),instanceOf(NoSuchConstraintException.class));
    }
    commit();
  }
{
    ReadOperations statement=readOperationsInNewTransaction();
    assertEquals(emptySetOf(IndexDescriptor.class),asSet(statement.uniqueIndexesGetAll()));
    commit();
  }
}
