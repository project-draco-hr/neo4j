{
  boolean botherToBrowseFurtherDown=false;
  if (lookInThesePackages != null) {
    for (    String packageName : lookInThesePackages) {
      if (packageName.startsWith(prefix)) {
        botherToBrowseFurtherDown=true;
        break;
      }
    }
  }
 else {
    botherToBrowseFurtherDown=true;
  }
  if (!botherToBrowseFurtherDown) {
    return;
  }
  File[] files=directory.listFiles();
  if (files == null) {
    return;
  }
  for (  File file : files) {
    if (file.isDirectory()) {
      collectFromDirectory(classes,superClass,lookInThesePackages,addToPrefix(prefix,file.getName()),file);
    }
 else {
      String className=addToPrefix(prefix,file.getName());
      className=trimFromClassEnding(className);
      tryCollectClass(classes,superClass,lookInThesePackages,className);
    }
  }
}
