{
  File directory=new File(classPathToken);
  if (!directory.exists()) {
    return;
  }
  try {
    if (directory.isDirectory()) {
      collectFromDirectory(classes,superClass,lookInThesePackages,"",directory);
    }
 else {
      JarFile jarFile=new JarFile(directory);
      Enumeration<JarEntry> entries=jarFile.entries();
      while (entries.hasMoreElements()) {
        JarEntry entry=entries.nextElement();
        String entryName=fixJarEntryClassName(entry.getName());
        tryCollectClass(classes,superClass,lookInThesePackages,entryName);
      }
    }
  }
 catch (  IOException e) {
    throw new RuntimeException("Error collecting classes from " + classPathToken,e);
  }
}
