{
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  Configuration config=buildProperties();
  PerformRecoveryIfNecessary task=new PerformRecoveryIfNecessary(config,new HashMap<String,String>(),new PrintStream(outputStream));
  assertThat("Recovery task runs successfully.",task.run(),is(true));
  assertThat("No database should have been created.",new File(STORE_DIRECTORY).exists(),is(false));
  assertThat("Recovery task should not print anything.",outputStream.toString(),is(""));
}
