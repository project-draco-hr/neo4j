{
  map=new ConcurrentHashMap<>(snapshot.getMap());
  lastTxId=new ArrayQueueOutOfOrderSequence(0L,100,EMPTY_METADATA);
  lastTxId.set(snapshot.getTxId(),EMPTY_METADATA);
  lock=new ReentrantReadWriteLock();
}
