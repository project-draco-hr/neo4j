{
  Process process=getRuntime().exec(new String[]{"java","-cp",getProperty("java.class.path"),DumpableProcess.class.getName(),SIGNAL});
  awaitSignal(process);
  Pair<Long,String> pid=single(DumpProcessInformation.getJPids(stringContains(DumpableProcess.class.getSimpleName())));
  File threaddumpFile=DumpProcessInformation.doThreadDump(pid,directory);
  process.destroy();
  assertTrue(fileContains(threaddumpFile,"traceableMethod",DumpableProcess.class.getName()));
}
