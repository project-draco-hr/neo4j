{
  Transaction tx=db.beginTx();
  DependencyResolver dependencyResolver=db.getDependencyResolver();
  TransactionManager transactionManager=dependencyResolver.resolveDependency(TransactionManager.class);
  additionalDs.getXaConnection().enlistResource(transactionManager.getTransaction());
  node.delete();
  tx.success();
  try {
    tx.finish();
    fail("This transaction shouldn't be successful");
  }
 catch (  TransactionFailureException e) {
  }
}
