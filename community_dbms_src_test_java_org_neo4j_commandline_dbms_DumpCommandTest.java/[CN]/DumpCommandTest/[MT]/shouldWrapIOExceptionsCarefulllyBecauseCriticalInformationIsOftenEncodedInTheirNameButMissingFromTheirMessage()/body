{
  doThrow(new IOException("the-message")).when(dumper).dump(any(),any(),any());
  try {
    execute(null);
    fail("expected exception");
  }
 catch (  CommandFailed e) {
    assertThat(e.getMessage(),equalTo("unable to dump database: IOException: the-message"));
  }
}
