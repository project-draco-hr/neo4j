{
  try {
    cleanupChildren();
    String root=getRoot();
    String path=root + "/" + machineId+ "_";
    byte[] data=new byte[8];
    ByteBuffer buf=ByteBuffer.wrap(data);
    buf.putLong(committedTx);
    String created=zooKeeper.create(path,data,ZooDefs.Ids.OPEN_ACL_UNSAFE,CreateMode.EPHEMERAL_SEQUENTIAL);
    System.out.println("wrote " + committedTx + " to zookeeper");
    return created.substring(created.lastIndexOf("_") + 1);
  }
 catch (  KeeperException e) {
    throw new ZooKeeperException("Unable to setup",e);
  }
catch (  InterruptedException e) {
    Thread.interrupted();
    throw new ZooKeeperException("Setup got interrupted",e);
  }
}
