{
  Object result=productOrFactory;
  if (result instanceof Factory) {
synchronized (this) {
      if ((result=productOrFactory) instanceof Factory) {
        productOrFactory=result=((Factory)result).create(producer,create);
      }
    }
  }
  return (T)result;
}
