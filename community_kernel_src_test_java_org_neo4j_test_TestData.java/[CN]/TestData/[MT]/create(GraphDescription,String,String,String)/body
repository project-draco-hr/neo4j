{
  if (doc != null) {
    String[] lines=doc.split("\n");
    int indent=Integer.MAX_VALUE;
    int start=0, end=0;
    for (int i=0; i < lines.length; i++) {
      if (EMPTY.equals(lines[i].trim())) {
        lines[i]=EMPTY;
        if (start == i)         end=++start;
      }
 else {
        for (int j=0; j < lines[i].length(); j++) {
          if (!Character.isWhitespace(lines[i].charAt(j))) {
            indent=Math.min(indent,j);
            break;
          }
        }
        end=i;
      }
    }
    if (title == null && start < end && lines[start + 1] == EMPTY) {
      title=lines[start].trim();
      start+=2;
    }
    StringBuilder documentation=new StringBuilder();
    for (int i=start; i <= end; i++) {
      documentation.append(lines[i] == EMPTY ? lines[i] : lines[i].substring(indent)).append("\n");
    }
    doc=documentation.toString();
  }
 else {
    doc=EMPTY;
  }
  if (title == null) {
    title=methodName;
  }
  return transformation.create(graph,title,doc);
}
