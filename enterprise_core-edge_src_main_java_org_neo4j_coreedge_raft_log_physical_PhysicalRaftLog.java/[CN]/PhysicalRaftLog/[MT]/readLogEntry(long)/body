{
  RaftLogEntry entry=entryCache.get(logIndex);
  if (entry != null) {
    return entry;
  }
  try (IOCursor<RaftLogAppendRecord> entriesFrom=entryStore.getEntriesFrom(logIndex)){
    while (entriesFrom.next()) {
      RaftLogAppendRecord raftLogAppendRecord=entriesFrom.get();
      if (raftLogAppendRecord.logIndex() == logIndex) {
        RaftLogEntry toReturn=raftLogAppendRecord.logEntry();
        entryCache.put(logIndex,toReturn);
        return toReturn;
      }
 else       if (raftLogAppendRecord.logIndex() > logIndex) {
        throw new IllegalStateException(format("Asked for index %d but got up to %d without " + "finding it.",logIndex,raftLogAppendRecord.logIndex()));
      }
    }
  }
   return null;
}
