{
  nodeStore.ensureHeavy(node,firstDynamicLabelRecordId(labelField));
  Collection<DynamicRecord> existingRecords=node.getDynamicLabelRecords();
  long[] existingLabelIds=nodeStore.getDynamicLabelsArray(existingRecords);
  long[] newLabelIds=LabelIdArray.concatAndSort(existingLabelIds,labelId);
  Collection<DynamicRecord> changedDynamicRecords=NodeStore.allocateRecordsForDynamicLabels(node.getId(),newLabelIds,existingRecords.iterator(),allocator);
  node.setLabelField(dynamicPointer(changedDynamicRecords),changedDynamicRecords);
  return changedDynamicRecords;
}
