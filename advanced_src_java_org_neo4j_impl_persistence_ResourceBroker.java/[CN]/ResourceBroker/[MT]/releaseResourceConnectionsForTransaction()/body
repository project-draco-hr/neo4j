{
  Transaction tx=getCurrentTransaction();
  ConnectionBundle bundle=txConnectionMap.remove(tx);
  if (bundle != null) {
    Iterator connections=bundle.getAllConnections();
    while (connections.hasNext()) {
      try {
        this.destroyCon((ResourceConnection)connections.next());
      }
 catch (      ConnectionDestructionFailedException cdfe) {
        cdfe.printStackTrace();
        log.severe("Unable to close connection. Will continue " + "anyway.");
      }
    }
  }
}
