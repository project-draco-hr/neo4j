{
  if (relationships == null) {
    if (((TraversalRulesImpl)rules).uniquness.type == PrimitiveTypeFetcher.RELATIONSHIP || rules.okToProceed(this)) {
      expandRelationships(rules,false);
      return this;
    }
 else {
      return null;
    }
  }
  while (relationships.hasNext()) {
    Relationship relationship=relationships.next();
    if (relationship.equals(howIGotHere)) {
      continue;
    }
    Node node=relationship.getOtherNode(source);
    ExpansionSource next=new ExpansionSourceImpl(rules,this,node,expander,relationship);
    if (rules.okToProceed(next)) {
      return next;
    }
  }
  return null;
}
