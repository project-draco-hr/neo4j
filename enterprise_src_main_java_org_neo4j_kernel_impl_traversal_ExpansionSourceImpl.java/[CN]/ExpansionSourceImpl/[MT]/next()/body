{
  if (relationships == null) {
    if (traverser.uniquness.type == PrimitiveTypeFetcher.RELATIONSHIP || traverser.okToProceed(this)) {
      expandRelationships(false);
      return this;
    }
 else {
      return null;
    }
  }
  while (relationships.hasNext()) {
    Relationship relationship=relationships.next();
    if (relationship.equals(howIGotHere)) {
      continue;
    }
    Node node=relationship.getOtherNode(source);
    ExpansionSource next=new ExpansionSourceImpl(traverser,this,node,expander,relationship);
    if (traverser.okToProceed(next)) {
      return next;
    }
  }
  return null;
}
