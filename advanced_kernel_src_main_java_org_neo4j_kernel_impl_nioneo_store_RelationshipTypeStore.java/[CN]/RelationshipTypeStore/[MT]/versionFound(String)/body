{
  if (!version.startsWith("RelationshipTypeStore")) {
    return false;
  }
  if (version.equals("RelationshipTypeStore v0.9.5")) {
    try {
      long fileSize=getFileChannel().size();
      long recordCount=fileSize / getRecordSize();
      if (recordCount > 0xFFFF) {
        throw new IllegalStoreVersionException("Store version[" + version + "] has "+ recordCount+ " different relationship types "+ "(limit is "+ 0xFFFF+ ") and can not be upgraded to a newer version.");
      }
    }
 catch (    IOException e) {
      throw new IllegalStoreVersionException("Unable to verify relationship type count, can not upgrade " + "store from version[" + version + "]");
    }
    return true;
  }
  throw new IllegalStoreVersionException("Store version [" + version + "]. Please make sure you are not running old Neo4j kernel "+ " towards a store that has been created by newer version "+ " of Neo4j.");
}
