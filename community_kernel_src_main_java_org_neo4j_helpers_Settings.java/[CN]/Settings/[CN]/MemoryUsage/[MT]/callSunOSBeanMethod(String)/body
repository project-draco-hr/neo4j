{
  OperatingSystemMXBean osBean=ManagementFactory.getOperatingSystemMXBean();
  long mem;
  try {
    Class<?> beanClass=Thread.currentThread().getContextClassLoader().loadClass("com.sun.management.OperatingSystemMXBean");
    Method method=beanClass.getMethod(methodName);
    mem=(Long)method.invoke(osBean);
  }
 catch (  Exception|LinkageError e) {
    mem=-1;
  }
  return mem;
}
