{
  WebServer webServer=mock(WebServer.class);
  CommunityNeoServer neoServer=mock(CommunityNeoServer.class);
  when(neoServer.baseUri()).thenReturn(new URI("http://localhost:7575"));
  when(neoServer.getWebServer()).thenReturn(webServer);
  when(neoServer.getDatabase()).thenReturn(mock(Database.class));
  ConfigurationBuilder configurator=mock(ConfigurationBuilder.class);
  when(neoServer.getConfigurationBuilder()).thenReturn(configurator);
  Config config=mock(Config.class);
  List<ThirdPartyJaxRsPackage> jaxRsPackages=new ArrayList<ThirdPartyJaxRsPackage>();
  String path="/third/party/package";
  jaxRsPackages.add(new ThirdPartyJaxRsPackage("org.example.neo4j",path));
  when(config.get(ServerSettings.third_party_packages)).thenReturn(jaxRsPackages);
  when(neoServer.getConfigurationBuilder().configuration()).thenReturn(config);
  ThirdPartyJAXRSModule module=new ThirdPartyJAXRSModule(webServer,config,DevNullLoggingService.DEV_NULL,neoServer);
  module.start();
  verify(webServer).addJAXRSPackages(any(List.class),anyString(),anyCollection());
}
