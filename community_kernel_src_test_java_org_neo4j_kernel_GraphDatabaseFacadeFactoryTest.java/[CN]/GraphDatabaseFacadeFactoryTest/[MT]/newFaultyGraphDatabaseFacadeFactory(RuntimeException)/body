{
  return new GraphDatabaseFacadeFactory(){
    @Override protected PlatformModule createPlatform(    Map<String,String> params,    Dependencies dependencies,    GraphDatabaseFacade graphDatabaseFacade){
      PlatformModule module=new PlatformModule(mock(Map.class),mock(Dependencies.class,RETURNS_MOCKS),mock(GraphDatabaseFacade.class)){
        @Override public LifeSupport createLife(){
          return mock(LifeSupport.class);
        }
        @Override public File getStoreDir(){
          return mock(File.class);
        }
      }
;
      doThrow(startupError).when(module.life).start();
      return module;
    }
    @Override protected EditionModule createEdition(    PlatformModule platformModule){
      return null;
    }
    @Override protected DataSourceModule createDataSource(    Dependencies dependencies,    PlatformModule platformModule,    EditionModule editionModule){
      return null;
    }
  }
;
}
