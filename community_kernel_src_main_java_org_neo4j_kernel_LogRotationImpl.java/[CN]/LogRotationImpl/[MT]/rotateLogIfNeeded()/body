{
  if (logFile.rotationNeeded()) {
    boolean rotate;
synchronized (logFile) {
      if (rotate=logFile.rotationNeeded()) {
        logRotationControl.awaitAllTransactionsClosed();
        logRotationControl.forceEverything();
        logFile.rotate();
      }
    }
    if (rotate) {
      monitor.rotatedLog();
    }
    return rotate;
  }
 else {
    return false;
  }
}
