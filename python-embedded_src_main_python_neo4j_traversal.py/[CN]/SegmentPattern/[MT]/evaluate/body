def evaluate(self, path):
    rel = path.last_relationship
    if ((self.type == rel.getType().name()) and matches_properties(rel, self.relprops) and matches_properties(path.end, self.nodeprops)):
        return True
    return False
