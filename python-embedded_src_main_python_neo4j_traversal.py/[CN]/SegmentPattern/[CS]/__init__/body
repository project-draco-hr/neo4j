def __init__(self, typedef, direction, **relprops):
    self.direction = direction
    self.relprops = relprops
    self.nodeprops = {}
    self._set_types(typedef)
    self._pattern = (self,)
