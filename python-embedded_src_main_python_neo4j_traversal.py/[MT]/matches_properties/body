def matches_properties(e, properties):
    for (key, value) in properties.items():
        if ((not e.hasProperty(key)) or (e.getProperty(key) != value)):
            return False
    return True
