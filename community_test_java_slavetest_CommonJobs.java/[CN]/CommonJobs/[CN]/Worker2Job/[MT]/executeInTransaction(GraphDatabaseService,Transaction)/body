{
  boolean success=false;
  boolean deadlock=false;
  try {
    DoubleLatch latch=fetcher.fetch();
    db.getNodeById(node2).setProperty("2","T2 2");
    latch.countDownFirst();
    latch.awaitSecond();
    db.getNodeById(node1).setProperty("1","T2 2");
    tx.success();
    success=true;
  }
 catch (  DeadlockDetectedException e) {
    deadlock=true;
  }
catch (  Exception e) {
    throw new RuntimeException(e);
  }
  return new Boolean[]{success,deadlock};
}
