{
  if (thread != Thread.currentThread()) {
    throw new IllegalStateException("Updater of " + AbstractKeyValueStore.this + " is not available.");
  }
  state.apply(update);
}
