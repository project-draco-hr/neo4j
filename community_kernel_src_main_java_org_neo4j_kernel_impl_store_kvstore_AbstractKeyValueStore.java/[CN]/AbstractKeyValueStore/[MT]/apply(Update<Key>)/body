{
  try (LockWrapper ignored=readLock(updateLock)){
    state.apply(update);
  }
 }
