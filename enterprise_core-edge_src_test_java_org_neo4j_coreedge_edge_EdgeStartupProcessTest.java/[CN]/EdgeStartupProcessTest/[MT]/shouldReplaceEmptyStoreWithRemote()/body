{
  when(localDatabase.isEmpty()).thenReturn(true);
  when(storeFetcher.getStoreIdOf(any())).thenReturn(otherStoreId);
  EdgeStartupProcess edgeStartupProcess=new EdgeStartupProcess(fs,storeFetcher,localDatabase,txPulling,new AlwaysChooseFirstMember(hazelcastTopology),new ConstantTimeRetryStrategy(1,MILLISECONDS),NullLogProvider.getInstance(),copiedStoreRecovery);
  edgeStartupProcess.start();
  verify(storeFetcher).copyStore(any(),any(),any());
  verify(localDatabase).start();
  verify(txPulling).start();
}
