{
  when(localDatabase.isEmpty()).thenReturn(false);
  when(storeFetcher.getStoreIdOf(any())).thenReturn(otherStoreId);
  EdgeStartupProcess edgeStartupProcess=new EdgeStartupProcess(storeFetcher,localDatabase,txPulling,new AlwaysChooseFirstMember(hazelcastTopology),new ConstantTimeRetryStrategy(1,MILLISECONDS),NullLogProvider.getInstance(),copiedStoreRecovery);
  try {
    edgeStartupProcess.start();
    fail("should have thrown");
  }
 catch (  IllegalStateException ex) {
  }
  verify(txPulling,never()).start();
}
