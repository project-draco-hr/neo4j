{
  int labelId1=1, labelId2=2;
  long nodeId1=10, nodeId2=1280;
  start(asList(labelChanges(nodeId1,NO_LABELS,new long[]{labelId1}),labelChanges(nodeId2,NO_LABELS,new long[]{labelId1,labelId2})));
  BoundedIterable<NodeLabelRange> reader=store.allNodeLabelRanges();
  Iterator<NodeLabelRange> iterator=reader.iterator();
  NodeLabelRange range1=iterator.next();
  NodeLabelRange range2=iterator.next();
  assertFalse(iterator.hasNext());
  assertArrayEquals(new long[]{nodeId1},sorted(range1.nodes()));
  assertArrayEquals(new long[]{nodeId2},sorted(range2.nodes()));
  assertArrayEquals(new long[]{labelId1},sorted(range1.labels(nodeId1)));
  assertArrayEquals(new long[]{labelId1,labelId2},sorted(range2.labels(nodeId2)));
}
