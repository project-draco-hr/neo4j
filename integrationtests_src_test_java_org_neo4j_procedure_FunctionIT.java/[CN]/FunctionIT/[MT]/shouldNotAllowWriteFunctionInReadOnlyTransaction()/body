{
  exception.expect(AuthorizationViolationException.class);
  exception.expectMessage("Write operations are not allowed");
  GraphDatabaseAPI gdapi=(GraphDatabaseAPI)db;
  try (Transaction tx=gdapi.beginTransaction(KernelTransaction.Type.explicit,AccessMode.Static.READ)){
    db.execute("RETURN org.neo4j.procedure.writingFunction()").next();
    tx.success();
  }
 }
