{
  SecurityManager securityManager=context.resolveSecurityManager();
  Session session=context.resolveSession();
  boolean sessionCreationEnabled=context.isSessionCreationEnabled();
  PrincipalCollection principals=context.resolvePrincipals();
  boolean authenticated=context.resolveAuthenticated();
  String host=context.resolveHost();
  ShiroAuthenticationInfo authcInfo=(ShiroAuthenticationInfo)context.getAuthenticationInfo();
  return new ShiroSubject(principals,authenticated,host,session,sessionCreationEnabled,securityManager,authcInfo.getAuthenticationResult());
}
