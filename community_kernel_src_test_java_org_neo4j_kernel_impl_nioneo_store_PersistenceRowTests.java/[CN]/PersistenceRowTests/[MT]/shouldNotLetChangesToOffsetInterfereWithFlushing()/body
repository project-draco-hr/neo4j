{
  new Thread(new Runnable(){
    @Override public void run(){
      while (true) {
        window.getBuffer().setOffset(RANDOM.nextInt(window.getBuffer().getBuffer().limit()));
      }
    }
  }
).start();
  try {
    for (int i=1; i < 10000; i++) {
      window.force();
    }
  }
 catch (  BufferOverflowException e) {
    fail("Changing the state of the buffer's flags should not affect flushing");
  }
}
