{
  EmbeddedGraphDatabase db=new EmbeddedGraphDatabase(args[0]);
  List<Node> nodes=new ArrayList<Node>();
  Transaction tx=db.beginTx();
  try {
    Node previous=null;
    for (int i=0; i < 20; i++) {
      Node node=db.createNode();
      node.setProperty("name","a looooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooong string");
      nodes.add(node);
      if (previous != null)       previous.createRelationshipTo(node,MyRelTypes.TEST);
      previous=node;
    }
    tx.success();
  }
  finally {
    tx.finish();
  }
  tx=db.beginTx();
  try {
    delete(nodes.get(5));
    delete(nodes.get(7));
    delete(nodes.get(8));
    delete(nodes.get(10));
    tx.success();
  }
  finally {
    tx.finish();
  }
  System.exit(0);
}
