{
  try {
    System.out.println("Kernel: attempting to load extensions of type " + type.getName());
    ServiceReference[] services=bc.getServiceReferences(type.getName(),null);
    if (services != null) {
      Collection<T> serviceCollection=new LinkedList<T>();
      for (      ServiceReference sr : services) {
        @SuppressWarnings("unchecked") T service=(T)bc.getService(sr);
        serviceCollection.add(service);
      }
      return serviceCollection;
    }
 else {
      return null;
    }
  }
 catch (  InvalidSyntaxException e) {
    System.out.println("Failed to load extensions of type: " + type);
    e.printStackTrace();
  }
  return null;
}
