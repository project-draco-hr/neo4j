{
  boolean rmi=true;
  try {
    LocateRegistry.createRegistry(Registry.REGISTRY_PORT);
  }
 catch (  RemoteException e) {
    e.printStackTrace();
    rmi=false;
  }
  Exception onRegister=null;
  try {
    RmiSite.register(new LocalSite("target/neo"),RMI_RESOURCE);
  }
 catch (  Exception ex) {
    onRegister=ex;
  }
  try {
    neo=new RemoteNeo(new RmiSite(new URI(RMI_RESOURCE)));
  }
 catch (  Exception ex) {
    if (rmi) {
      if (onRegister != null) {
        throw onRegister;
      }
 else {
        throw ex;
      }
    }
 else {
      neo=null;
    }
  }
}
