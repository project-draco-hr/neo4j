{
  this.fsa=fsa;
  this.name=name;
  this.marshal=marshal;
  this.numberOfEntriesBeforeRotation=numberOfEntriesBeforeRotation;
  this.log=logProvider.getLog(getClass());
  this.recoveryManager=new StateRecoveryManager<>(fsa,marshal);
  File parent=stateDir(baseDir,name);
  this.fileA=new File(parent,name + ".a");
  this.fileB=new File(parent,name + ".b");
}
