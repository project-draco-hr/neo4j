{
  this.fsa=fsa;
  this.name=name;
  this.marshal=marshal;
  this.numberOfEntriesBeforeRotation=numberOfEntriesBeforeRotation;
  this.databaseHealthSupplier=databaseHealthSupplier;
  this.log=logProvider.getLog(getClass());
  this.recoveryManager=new StateRecoveryManager<>(fsa,marshal);
  this.fileA=new File(stateDir(baseDir,name),name + ".a");
  this.fileB=new File(stateDir(baseDir,name),name + ".b");
  create();
  recover();
}
