{
  Transaction tx=graphDb.beginTx();
  try {
    System.out.println("All groups:");
    Node referenceNode=graphDb.getReferenceNode();
    Traverser traverser=referenceNode.traverse(Traverser.Order.BREADTH_FIRST,StopEvaluator.END_OF_GRAPH,ReturnableEvaluator.ALL_BUT_START_NODE,RoleRels.ROOT,Direction.INCOMING,RoleRels.PART_OF,Direction.INCOMING);
    for (    Node group : traverser) {
      System.out.println(group.getProperty(NAME));
    }
    tx.success();
  }
  finally {
    tx.finish();
  }
}
