{
  Transaction tx=graphDb.beginTx();
  try {
    System.out.println("Jale's memberships:");
    Node jale=getUserByName("Jale");
    Traverser traverser=jale.traverse(Traverser.Order.DEPTH_FIRST,StopEvaluator.END_OF_GRAPH,ReturnableEvaluator.ALL_BUT_START_NODE,RoleRels.MEMBER_OF,Direction.OUTGOING,RoleRels.PART_OF,Direction.OUTGOING);
    for (    Node membership : traverser) {
      System.out.println(membership.getProperty(NAME) + " " + (traverser.currentPosition().depth() - 1));
    }
    tx.success();
  }
  finally {
    tx.finish();
  }
}
