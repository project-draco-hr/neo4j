{
  long[] arrayPropertyValue={42,23,87};
  Transaction tx=db.beginTx();
  Node node1=createNode(label,propertyKey,arrayPropertyValue);
  tx.success();
  tx.finish();
  IndexDefinition index=createIndex(label,propertyKey);
  restart();
  assertEquals(IndexState.ONLINE,db.schema().getIndexState(index));
  assertEquals(asSet(node1),asUniqueSet(db.findNodesByLabelAndProperty(label,propertyKey,arrayPropertyValue)));
  assertEquals(emptySet(),asUniqueSet(db.findNodesByLabelAndProperty(label,propertyKey,new long[]{42,23})));
  assertEquals(emptySet(),asUniqueSet(db.findNodesByLabelAndProperty(label,propertyKey,Arrays.toString(arrayPropertyValue))));
}
