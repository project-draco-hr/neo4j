{
  final Map<String,Object> description;
  final long endNode;
  try {
    description=input.readMap(body);
    endNode=extractNodeId((String)description.get("to"));
  }
 catch (  BadInputException e) {
    return output.badRequest(e);
  }
catch (  ClassCastException e) {
    return output.badRequest(e);
  }
  return output.ok(server.findSinglePath(startNode,endNode,description));
}
