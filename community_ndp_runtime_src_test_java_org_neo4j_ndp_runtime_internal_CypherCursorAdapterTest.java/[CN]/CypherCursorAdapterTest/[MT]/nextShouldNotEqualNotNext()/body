{
  Result result=mock(Result.class);
  when(result.columns()).thenReturn(asList("name"));
  when(result.hasNext()).thenReturn(true,true,false);
  when(result.next()).thenReturn(MapUtil.map("name","bob"),MapUtil.map("name","Steve Brook"),null);
  CypherAdapterStream cursor=new CypherAdapterStream(result);
  assertThat(cursor,equalsStream(new String[]{"name"},record(equalTo("bob")),record(equalTo("Steve Brook"))));
}
