{
  String script="" + "import org.neo4j.graphdb.index.*;" + "import org.neo4j.index.lucene.*;"+ "import org.apache.lucene.search.*;"+ "neo4j = g.getRawGraph();"+ "tx = neo4j.beginTx();"+ "meVertex = g.addVertex([name:'me']);"+ "meNode = meVertex.getRawVertex();"+ "youNode = neo4j.createNode();"+ "youNode.setProperty('name','you');"+ "idxManager = neo4j.index();"+ "personIndex = idxManager.forNodes('persons');"+ "personIndex.add(meNode,'name',meVertex.name);"+ "personIndex.add(youNode,'name',youNode.getProperty('name'));"+ "tx.success();"+ "tx.finish();"+ "query = new QueryContext( 'name:*' ).sort( new Sort(new SortField( 'name',SortField.STRING, true ) ) );"+ "results = personIndex.query( query );";
  String response=doRestCall(script,OK);
  assertTrue(response.contains("me"));
}
