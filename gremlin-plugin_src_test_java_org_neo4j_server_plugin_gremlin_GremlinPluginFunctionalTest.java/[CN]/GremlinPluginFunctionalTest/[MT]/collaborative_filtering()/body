{
  String script="x=[];fof=[:];" + "g.v(" + data.get().get("Joe").getId() + ").out('knows').aggregate(x).out('knows').except(x).groupCount(fof)>>-1;fof.sort{a,b -> b.value <=> a.value}";
  gen().expectedStatus(Status.OK.getStatusCode()).description(formatGroovy(script));
  String response=gen().payload("script=" + URLEncoder.encode(script,"UTF-8")).payloadType(MediaType.APPLICATION_FORM_URLENCODED_TYPE).post(ENDPOINT).entity();
  assertFalse(response.contains("v[" + data.get().get("Bill").getId()));
  assertFalse(response.contains("v[" + data.get().get("Sara").getId()));
  assertTrue(response.contains("v[" + data.get().get("Ian").getId()));
  assertTrue(response.contains("v[" + data.get().get("Jill").getId()));
  assertTrue(response.contains("v[" + data.get().get("Derrick").getId()));
}
