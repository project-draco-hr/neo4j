{
  byte groupMode=channel.get();
switch (groupMode) {
case SAME_GROUP:
    return previousGroups[slot];
case NEW_GROUP:
  return previousGroups[slot]=new Group.Adapter(channel.getInt(),(String)readToken(GROUP_TOKEN));
default :
throw new IllegalArgumentException("Unknown group mode " + groupMode);
}
}
