{
  int bytesPerRecord=10;
  int targetBytesPerPage=1000;
  FileMapper fileMapper=mock(FileMapper.class);
  MappedWindow window0=mock(MappedWindow.class);
  when(fileMapper.mapWindow(0,100,10)).thenReturn(window0);
  MappedWindow window1=mock(MappedWindow.class);
  when(fileMapper.mapWindow(100,100,10)).thenReturn(window1);
  ScanResistantWindowPool pool=new ScanResistantWindowPool(new File("storeFileName"),bytesPerRecord,targetBytesPerPage,fileMapper,new StubPageReplacementStrategy(),100000,mock(MappingStatisticsListener.class));
  pool.acquire(0,OperationType.READ);
  pool.acquire(100,OperationType.READ);
  pool.close();
  verify(window0).close();
  verify(window1).close();
}
