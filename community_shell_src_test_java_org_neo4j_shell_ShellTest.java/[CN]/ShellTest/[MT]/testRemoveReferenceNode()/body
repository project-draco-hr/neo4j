{
  GraphDatabaseService db=new ImpermanentGraphDatabase();
  final GraphDatabaseShellServer server=new GraphDatabaseShellServer(db,false);
  Documenter doc=new Documenter("sample session",server);
  doc.add("pwd","","where are we?");
  doc.add("set name \"Jon\"","","On the current node, set the key \"name\" to value \"Jon\"");
  doc.add("start n=node(0) return n;","Jon","send a cypher query");
  doc.add("mkrel -c -d i -t LIKES --np \"{'app':'foobar'}\"","","make an incoming relationship of type LIKES, create the end node with the node properties specified.");
  doc.add("ls","1","where are we?");
  doc.add("cd 1","","change to the newly created node");
  doc.add("ls -avr","LIKES","list relationships, including relationshship id");
  doc.add("mkrel -c -d i -t KNOWS --np \"{'name':'Bob'}\"","","create one more KNOWS relationship and the end node");
  doc.add("pwd","0","print current history stack");
  doc.add("ls -avr","KNOWS","verbose list relationships");
  doc.run();
  doc.add("rmnode -f 0","","delete node 0 (reference node)");
  doc.add("cd","","cd back to the reference node");
  doc.add("pwd","(?)","the reference node doesn't exist now");
  doc.add("mknode --cd --np \"{'name':'Neo'}\"","","create a new node and go to it");
  server.shutdown();
  db.shutdown();
}
