{
  List<Integer> ids=new LinkedList<Integer>();
  PropertyType type=record.getType();
  if (type == PropertyType.STRING) {
    int valueBlockId=nextValueBlockId();
    record.setPropBlock(valueBlockId);
    Collection<DynamicRecord> valueRecords=allocateValueRecords(valueBlockId,((String)value).getBytes());
    for (    DynamicRecord valueRecord : valueRecords) {
      record.addValueRecord(valueRecord);
      ids.add(valueRecord.getId());
    }
  }
 else   if (type == PropertyType.INT) {
    record.setPropBlock(((Integer)value).intValue());
  }
 else   if (type == PropertyType.BOOL) {
    record.setPropBlock((((Boolean)value).booleanValue() ? 1 : 0));
  }
 else   if (type == PropertyType.DOUBLE) {
    record.setPropBlock(Double.doubleToRawLongBits(((Double)value).doubleValue()));
  }
 else   if (type == PropertyType.FLOAT) {
    record.setPropBlock(Float.floatToRawIntBits(((Float)value).floatValue()));
  }
 else   if (type == PropertyType.LONG) {
    record.setPropBlock(((Long)value).longValue());
  }
 else   if (type == PropertyType.BYTE) {
    record.setPropBlock(((Byte)value).byteValue());
  }
 else {
    throw new RuntimeException("Unkown property type: " + type);
  }
  return ids;
}
