{
  final CoreTopologyService coreTopologyService=mock(CoreTopologyService.class);
  Map<MemberId,CoreAddresses> coreMembers=new HashMap<>();
  coreMembers.put(member(0),coreAddresses(0));
  coreMembers.put(member(1),coreAddresses(1));
  coreMembers.put(member(2),coreAddresses(2));
  final ClusterTopology clusterTopology=new ClusterTopology(false,coreMembers,addresses(3,4,5));
  when(coreTopologyService.currentTopology()).thenReturn(clusterTopology);
  final DiscoverCoreServersProcedure proc=new DiscoverCoreServersProcedure(coreTopologyService,NullLogProvider.getInstance());
  final List<Object[]> members=asList(proc.apply(null,new Object[]{"not numeric"}));
  assertEquals(3,members.size());
}
