{
  if (description instanceof ParameterizedType) {
    ParameterizedType paramType=(ParameterizedType)description;
    Class<?> raw=(Class<?>)paramType.getRawType();
    if (Set.class.isAssignableFrom(raw)) {
      TypeCaster caster=TYPES.get(raw);
      if (caster != null) {
        return new ListParameterExtractor(caster,raw,parameter,description);
      }
    }
 else     if (Iterable.class.isAssignableFrom(raw)) {
      TypeCaster caster=TYPES.get(raw);
      if (caster != null) {
        return new ListParameterExtractor(caster,raw,parameter,description);
      }
    }
  }
 else   if (type instanceof Class<?>) {
    Class<?> raw=(Class<?>)type;
    TypeCaster caster=TYPES.get(raw);
    if (caster != null) {
      return new ParameterExtractor(caster,raw,parameter,description);
    }
  }
  throw new IllegalStateException("Unsupported parameter type: " + type);
}
