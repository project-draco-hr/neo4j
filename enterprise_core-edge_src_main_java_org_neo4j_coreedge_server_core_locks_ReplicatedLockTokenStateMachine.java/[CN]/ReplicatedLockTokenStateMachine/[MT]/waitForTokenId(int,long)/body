{
  long endTime=System.currentTimeMillis() + waitTimeMillis;
  while (currentToken().id() != awaitedId) {
    long timeLeft=endTime - System.currentTimeMillis();
    if (timeLeft > 0) {
      wait(timeLeft);
    }
 else {
      return;
    }
  }
}
