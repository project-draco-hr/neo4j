{
  return new SwingWorker<Void,UpdateEvent>(){
    @Override protected Void doInBackground() throws Exception {
      Iterator<Widget> widget=widgets.iterator();
      for (int i=0; widget.hasNext(); i++) {
        setProgress((100 * i) / widgets.size());
        UpdateEvent[] updates=widget.next().update();
        if (updates != null)         publish(updates);
      }
      setProgress(100);
      return null;
    }
    @Override protected void process(    List<UpdateEvent> events){
      for (      UpdateEvent event : events) {
        event.apply();
      }
    }
  }
;
}
