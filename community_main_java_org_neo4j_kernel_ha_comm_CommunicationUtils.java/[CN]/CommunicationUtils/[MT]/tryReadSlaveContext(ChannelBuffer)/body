{
  if (buffer.readableBytes() < 10)   return null;
  int machineId=buffer.readInt();
  int eventIdentifier=buffer.readInt();
  int txsSize=buffer.readByte();
  @SuppressWarnings("unchecked") Pair<String,Long>[] lastTransactions=new Pair[txsSize];
  for (int i=0; i < txsSize; i++) {
    if (!buffer.readable())     return null;
    int size=buffer.readUnsignedByte();
    if (buffer.readableBytes() < (size * 2) + 8)     return null;
    String name=readString(buffer,size);
    long txId=buffer.readLong();
    lastTransactions[i]=new Pair<String,Long>(name,txId);
  }
  return new SlaveContext(machineId,eventIdentifier,lastTransactions);
}
