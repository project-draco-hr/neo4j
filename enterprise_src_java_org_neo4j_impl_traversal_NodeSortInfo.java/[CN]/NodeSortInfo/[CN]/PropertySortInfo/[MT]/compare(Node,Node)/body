{
  Object property1=null;
  Object property2=null;
  try {
    property1=node1.getProperty(key);
  }
 catch (  NotFoundException e) {
  }
  try {
    property2=node2.getProperty(key);
  }
 catch (  NotFoundException e) {
  }
  if (property1 == null) {
    return (property2 == null ? 0 : -1) * direction;
  }
  if (property2 == null) {
    return 1 * direction;
  }
  if (property1 instanceof Integer) {
    if (property2 instanceof Integer) {
      return ((Integer)property1).compareTo((Integer)property2) * direction;
    }
 else     if (property2 instanceof String) {
      String stringValue=property1.toString();
      return stringValue.compareTo((String)property2) * direction;
    }
 else {
      return 1 * direction;
    }
  }
  if (property1 instanceof String) {
    if (property2 instanceof String) {
      return ((String)property1).compareTo((String)property2) * direction;
    }
 else     if (property2 instanceof Integer) {
      return ((String)property1).compareTo(property2.toString()) * direction;
    }
 else {
      return 1 * direction;
    }
  }
  if ((property2 instanceof Integer) || (property2 instanceof String)) {
    return -1 * direction;
  }
  return 0;
}
