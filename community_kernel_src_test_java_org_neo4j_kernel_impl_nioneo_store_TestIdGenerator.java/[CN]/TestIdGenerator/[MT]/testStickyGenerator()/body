{
  try {
    IdGeneratorImpl.createGenerator(idGeneratorFile());
    IdGenerator idGen=new IdGeneratorImpl(idGeneratorFile(),3,1000);
    try {
      new IdGeneratorImpl(idGeneratorFile(),3,1000);
      fail("Opening sticky id generator should throw exception");
    }
 catch (    StoreFailureException e) {
    }
    idGen.close();
  }
  finally {
    File file=new File(idGeneratorFile());
    if (file.exists()) {
      assertTrue(file.delete());
    }
  }
}
