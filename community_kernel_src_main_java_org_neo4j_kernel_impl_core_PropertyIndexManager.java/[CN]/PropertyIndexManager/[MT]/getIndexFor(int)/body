{
  PropertyIndex index=idToIndexMap.get(keyId);
  if (index == null) {
    Transaction tx=getTransaction();
    if (tx != null) {
      TxCommitHook commitHook=txCommitHooks.get(getTransaction());
      if (commitHook != null) {
        index=commitHook.getIndex(keyId);
        if (index != null) {
          return index;
        }
      }
    }
    String indexString;
    indexString=persistenceManager.loadIndex(keyId);
    if (indexString == null) {
      throw new NotFoundException("Index not found [" + keyId + "]");
    }
    index=new PropertyIndex(indexString,keyId);
    addPropertyIndex(index);
  }
  return index;
}
