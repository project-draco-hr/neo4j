{
  return new StoreMigrationParticipant.Adapter(){
    @Override public boolean needsMigration(    FileSystemAbstraction fileSystem,    File storeDir) throws IOException {
      return true;
    }
    @Override public void migrate(    FileSystemAbstraction fileSystem,    File storeDir,    File migrationDir,    DependencyResolver dependencies) throws IOException, UnsatisfiedDependencyException {
      File dir=new File(migrationDir,directory);
      fileSystem.mkdirs(dir);
      for (      String file : files) {
        writeFile(fileSystem,new File(dir,file),file);
      }
    }
    @Override public void moveMigratedFiles(    FileSystemAbstraction fileSystem,    File migrationDir,    File storeDir,    File leftOversDir) throws IOException {
      for (      File file : fileSystem.listFiles(new File(migrationDir,directory))) {
        fileSystem.moveToDirectory(file,storeDir);
      }
    }
  }
;
}
