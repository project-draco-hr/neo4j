{
  long startTime=System.currentTimeMillis();
  while (System.currentTimeMillis() - startTime < getSessionTimeout()) {
    if (state == KeeperState.SyncConnected) {
      break;
    }
    try {
      Thread.sleep(100);
    }
 catch (    InterruptedException e) {
      Thread.interrupted();
    }
  }
}
