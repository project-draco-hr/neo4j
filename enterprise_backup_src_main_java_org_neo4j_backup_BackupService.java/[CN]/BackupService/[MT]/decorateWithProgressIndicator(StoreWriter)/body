{
  return new StoreWriter(){
    private final ProgressListener progress=ProgressMonitorFactory.textual(System.out).openEnded("Files copied",1);
    @Override public int write(    String path,    ReadableByteChannel data,    ByteBuffer temporaryBuffer,    boolean hasData) throws IOException {
      actual.write(path,data,temporaryBuffer,hasData);
      progress.add(1);
      int written=actual.write(path,data,temporaryBuffer,hasData);
      return written;
    }
    @Override public void done(){
      actual.done();
      progress.done();
    }
  }
;
}
