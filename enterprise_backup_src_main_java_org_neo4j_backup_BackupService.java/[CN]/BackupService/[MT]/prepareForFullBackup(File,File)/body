{
  if (oldBackupFile.exists()) {
    FileUtils.deleteRecursively(oldBackupFile);
  }
  if (targetDirFile.getUsableSpace() < FileUtils.directorySize(targetDirFile)) {
    throw new RuntimeException("Failed to run incremental backup because the existing backup is too " + "old. Fell back to full backup, but there is not enough disk space available. " + "You can mitigate this by removing the existing backup in '" + targetDirFile.getAbsolutePath() + "' and running the backup again.");
  }
  FileUtils.moveDirectoryContents(targetDirFile,oldBackupFile);
}
