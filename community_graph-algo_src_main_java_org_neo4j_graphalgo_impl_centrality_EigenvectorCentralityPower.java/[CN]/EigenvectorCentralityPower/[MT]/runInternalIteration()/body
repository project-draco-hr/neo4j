{
  Map<Node,Double> newValues=new HashMap<Node,Double>();
  incrementTotalIterations();
  for (  Relationship relationship : relationshipSet) {
    if (relationDirection.equals(Direction.BOTH) || relationDirection.equals(Direction.OUTGOING)) {
      processRelationship(newValues,relationship,false);
    }
    if (relationDirection.equals(Direction.BOTH) || relationDirection.equals(Direction.INCOMING)) {
      processRelationship(newValues,relationship,true);
    }
  }
  normalize(newValues);
  values=newValues;
  return 1;
}
