{
  buffer.clear();
  buffer.limit(1 + 12);
  buffer.put(TX_2P_COMMIT);
  if (fileChannel.read(buffer) != 12) {
    throw new IllegalStateException("Unable to read 2P commit entry");
  }
  buffer.flip();
  buffer.position(1);
  int identifier=buffer.getInt();
  FileChannel writeToLog=null;
  if (xidIdentMap.get(identifier) != null) {
    writeToLog=newLog;
  }
  buffer.position(0);
  if (writeToLog != null && writeToLog.write(buffer) != 13) {
    throw new TransactionFailureException("Unable to write 2P commit entry");
  }
}
