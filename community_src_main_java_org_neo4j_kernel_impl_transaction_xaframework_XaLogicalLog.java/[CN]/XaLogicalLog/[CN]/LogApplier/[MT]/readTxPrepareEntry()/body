{
  LogEntry.Prepare prepareEntry=LogIoUtils.readTxPrepareEntry(buffer,byteChannel);
  if (prepareEntry == null) {
    throw new IOException("Unable to read tx prepare entry");
  }
  int identifier=prepareEntry.getIdentifier();
  LogEntry.Start entry=xidIdentMap.get(identifier);
  if (entry == null) {
    throw new IOException("Unable to read tx prepeare entry");
  }
  Xid xid=entry.getXid();
  if (xaRm.injectPrepare(xid)) {
    xidIdentMap.remove(identifier);
    recoveredTxMap.remove(identifier);
  }
  return prepareEntry;
}
