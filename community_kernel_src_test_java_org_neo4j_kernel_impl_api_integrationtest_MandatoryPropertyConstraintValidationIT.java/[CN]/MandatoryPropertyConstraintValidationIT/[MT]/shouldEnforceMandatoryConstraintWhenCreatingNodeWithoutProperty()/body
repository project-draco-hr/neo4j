{
  createConstraint("Label1","key1");
  DataWriteOperations statement=dataWriteOperationsInNewTransaction();
  createLabeledNode(statement,"Label1");
  try {
    commit();
    fail("should have thrown exception");
  }
 catch (  ConstraintViolationTransactionFailureException e) {
    Status expected=Status.Schema.ConstraintViolation;
    assertThat(e.status(),is(expected));
  }
}
