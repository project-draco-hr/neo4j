{
  long node=constrainedNode("Label1","key1","value1");
  DataWriteOperations statement=dataWriteOperationsInNewTransaction();
  int key=statement.propertyKeyGetOrCreateForName("key1");
  statement.nodeRemoveProperty(node,key);
  try {
    commit();
    fail("should have thrown exception");
  }
 catch (  ConstraintViolationTransactionFailureException e) {
    Status expected=Status.Schema.ConstraintViolation;
    assertThat(e.status(),is(expected));
  }
}
