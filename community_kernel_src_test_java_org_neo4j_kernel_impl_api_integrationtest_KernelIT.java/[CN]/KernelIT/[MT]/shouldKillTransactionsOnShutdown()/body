{
  assumeThat(kernel,instanceOf(Kernel.class));
  KernelTransaction tx=kernel.newTransaction();
  ((Kernel)kernel).stop();
  try {
    tx.acquireStatement().readOperations().nodeExists(0l);
    fail("Should have been terminated.");
  }
 catch (  TransactionTerminatedException e) {
  }
 finally {
    tx.close();
  }
}
