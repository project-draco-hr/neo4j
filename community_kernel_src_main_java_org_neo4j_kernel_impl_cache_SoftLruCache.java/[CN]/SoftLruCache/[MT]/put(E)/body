{
  Long key=value.getId();
  SoftValue<Long,E> ref=new SoftValue<>(key,value,(ReferenceQueue)refQueue);
  SoftValue<Long,E> previous=cache.putIfAbsent(key,ref);
  pollClearedValues();
  return previous != null ? previous.get() : value;
}
