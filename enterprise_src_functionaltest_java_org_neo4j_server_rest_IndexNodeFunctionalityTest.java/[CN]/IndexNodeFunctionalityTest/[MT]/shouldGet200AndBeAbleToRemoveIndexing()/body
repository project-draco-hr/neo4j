{
  ClientResponse response=Client.create().resource(functionalTestHelper.nodeUri()).type(MediaType.APPLICATION_FORM_URLENCODED).accept(MediaType.APPLICATION_JSON).post(ClientResponse.class);
  String nodeUri=response.getHeaders().getFirst(HttpHeaders.LOCATION);
  String key="key_remove";
  String value="value";
  String indexUri=Client.create().resource(functionalTestHelper.indexUri() + "/node/" + key+ "/"+ value).entity(JsonHelper.createJsonFrom(nodeUri),MediaType.APPLICATION_JSON).post(ClientResponse.class).getHeaders().getFirst(HttpHeaders.LOCATION);
  assertEquals(1,helper.getIndexedNodes("node",key,value).size());
  response=Client.create().resource(indexUri).delete(ClientResponse.class);
  assertEquals(Status.NO_CONTENT.getStatusCode(),response.getStatus());
  assertEquals(0,helper.getIndexedNodes("node",key,value).size());
  response=Client.create().resource(indexUri).delete(ClientResponse.class);
  assertEquals(Status.NOT_FOUND.getStatusCode(),response.getStatus());
}
