{
  if (files.containsKey(directory))   return null;
  List<String> directoryPathItems=splitPath(directory);
  Set<File> found=new HashSet<>();
  Iterable<File> files=Iterables.concat(this.files.keySet(),directories);
  for (  File file : files) {
    List<String> fileNamePathItems=splitPath(file);
    if (directoryMatches(directoryPathItems,fileNamePathItems))     found.add(constructPath(fileNamePathItems,directoryPathItems.size() + 1));
  }
  return found.toArray(new File[found.size()]);
}
