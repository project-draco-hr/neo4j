{
  int positionBefore=from.position();
  int limitBefore=from.limit();
  byte[] scratchPad=new byte[8096];
  try {
    from.position(0);
    while (from.remaining() > 0) {
      int bytes=Math.min(scratchPad.length,from.remaining());
      from.get(scratchPad,0,bytes);
      to.put(scratchPad,0,bytes);
    }
  }
  finally {
    from.limit(limitBefore);
    from.position(positionBefore);
    to.limit(limitBefore);
    to.position(0);
  }
}
