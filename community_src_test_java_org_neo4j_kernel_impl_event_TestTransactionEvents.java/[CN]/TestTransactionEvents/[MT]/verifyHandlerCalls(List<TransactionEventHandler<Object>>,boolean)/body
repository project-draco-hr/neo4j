{
  for (  TransactionEventHandler<Object> handler : handlers) {
    DummyTransactionEventHandler<Object> realHandler=(DummyTransactionEventHandler<Object>)((FailingEventHandler<Object>)handler).source;
    if (txSuccess) {
      assertEquals(0,realHandler.beforeCommit);
      assertEquals(1,realHandler.afterCommit);
    }
 else {
      if (realHandler.counter > 0) {
        assertEquals(0,realHandler.beforeCommit);
        assertEquals(1,realHandler.afterRollback);
      }
    }
  }
}
