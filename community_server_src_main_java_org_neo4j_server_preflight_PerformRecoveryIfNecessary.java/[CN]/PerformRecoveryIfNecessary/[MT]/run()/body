{
  try {
    File dbLocation=new File(config.getString(Configurator.DATABASE_LOCATION_PROPERTY_KEY));
    if (dbLocation.exists()) {
      StoreRecoverer recoverer=new StoreRecoverer();
      if (recoverer.recoveryNeededAt(dbLocation,dbConfig)) {
        out.println("Detected incorrectly shut down database, performing recovery..");
        recoverer.recover(dbLocation,dbConfig);
      }
    }
    return true;
  }
 catch (  IOException e) {
    logger.error("Recovery startup task failed.",e);
    return false;
  }
}
