{
  int remaining=chars.length - position;
  int toRead=min(min(length,maxBytesPerRead),remaining);
  for (int i=0; i < toRead; i++) {
    buffer[offset + i]=chars[position++];
  }
  return toRead;
}
