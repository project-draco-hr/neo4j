{
  if (enlisted) {
    try {
      connection.delistResource(tx,XAResource.TMSUCCESS);
    }
 catch (    SystemException e) {
      throw new TransactionFailureException("Failed to delist resource '" + resource + "' from current transaction.",e);
    }
  }
}
