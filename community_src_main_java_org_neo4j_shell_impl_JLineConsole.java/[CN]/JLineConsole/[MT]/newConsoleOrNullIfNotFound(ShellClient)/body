{
  try {
    Object consoleReader=Class.forName("jline.ConsoleReader").newInstance();
    consoleReader.getClass().getMethod("setBellEnabled",Boolean.TYPE).invoke(consoleReader,false);
    ConsoleReader reader=(ConsoleReader)consoleReader;
    reader.setBellEnabled(false);
    reader.setUseHistory(true);
    try {
      History history=new History();
      history.setHistoryFile(new File(".shell_history"));
      reader.setHistory(history);
    }
 catch (    IOException e) {
    }
    return new JLineConsole(consoleReader,client);
  }
 catch (  Exception e) {
    return null;
  }
}
