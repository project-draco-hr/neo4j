{
  if (!(url.getAuthority() == null || url.getAuthority().equals(""))) {
    throw new URLAccessValidationError("file URL may not contain an authority section (i.e. it should be 'file:///')");
  }
  if (!(url.getQuery() == null || url.getQuery().equals(""))) {
    throw new URLAccessValidationError("file URL may not contain a query component");
  }
  final Config config=gdb.getDependencyResolver().resolveDependency(Config.class);
  if (!config.get(GraphDatabaseSettings.allow_file_urls)) {
    throw new URLAccessValidationError("configuration property '" + GraphDatabaseSettings.allow_file_urls.name() + "' is false");
  }
  return url;
}
