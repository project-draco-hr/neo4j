{
  try {
    if (mappedBuffer != null) {
      mappedBuffer.force();
      fileChannel.position(mappedStartPosition + mappedBuffer.position());
    }
    mappedBuffer=fileChannel.map(MapMode.READ_WRITE,fileChannel.position(),MAPPED_SIZE);
    mappedStartPosition=fileChannel.position();
  }
 catch (  Throwable t) {
    mappedBuffer=null;
    mappedStartPosition=-1;
    t.printStackTrace();
  }
}
