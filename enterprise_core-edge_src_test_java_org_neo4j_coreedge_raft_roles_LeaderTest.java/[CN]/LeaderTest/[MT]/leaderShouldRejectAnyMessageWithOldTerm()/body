{
  RaftState<RaftTestMember> state=raftState().build();
  Leader leader=new Leader();
  RaftMessages.Vote.Request<RaftTestMember> message=voteRequest().from(member1).term(state.term() - 1).lastLogIndex(0).lastLogTerm(-1).build();
  Outcome<RaftTestMember> outcome=leader.handle(message,state,log());
  assertFalse(((RaftMessages.Vote.Response<RaftTestMember>)messageFor(outcome,member1)).voteGranted());
  assertEquals(LEADER,outcome.getNewRole());
}
