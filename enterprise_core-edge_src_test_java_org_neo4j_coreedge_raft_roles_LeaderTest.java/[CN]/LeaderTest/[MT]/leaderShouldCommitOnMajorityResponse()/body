{
  InMemoryRaftLog raftLog=new InMemoryRaftLog();
  raftLog.append(new RaftLogEntry(0,new ReplicatedString("lalalala")));
  RaftState<RaftTestMember> state=raftState().votingMembers(member1,member2).term(0).lastLogIndexBeforeWeBecameLeader(-1).leader(myself).leaderCommit(-1).entryLog(raftLog).messagesSentToFollower(member1,raftLog.appendIndex() + 1).messagesSentToFollower(member2,raftLog.appendIndex() + 1).build();
  Leader leader=new Leader();
  Outcome<RaftTestMember> outcome=leader.handle(new RaftMessages.AppendEntries.Response<>(member1,0,true,0,0),state,log());
  assertThat(firstOrNull(outcome.getLogCommands()),instanceOf(CommitCommand.class));
  assertEquals(0,outcome.getLeaderCommit());
}
