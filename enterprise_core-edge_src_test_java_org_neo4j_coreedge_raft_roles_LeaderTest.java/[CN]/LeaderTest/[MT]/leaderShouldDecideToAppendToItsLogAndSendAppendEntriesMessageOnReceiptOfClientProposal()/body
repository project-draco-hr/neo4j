{
  RaftState<RaftTestMember> state=raftState().votingMembers(asSet(myself,member1,member2)).build();
  Leader leader=new Leader();
  RaftMessages.NewEntry.Request<RaftTestMember> newEntryRequest=new RaftMessages.NewEntry.Request<>(member(9),CONTENT);
  Outcome<RaftTestMember> outcome=leader.handle(newEntryRequest,state,log());
  AppendLogEntry logCommand=(AppendLogEntry)single(outcome.getLogCommands());
  assertEquals(0,logCommand.index);
  assertEquals(0,logCommand.entry.term());
  ShipCommand.NewEntry shipCommand=(ShipCommand.NewEntry)single(outcome.getShipCommands());
  assertEquals(shipCommand,new ShipCommand.NewEntry(-1,-1,new RaftLogEntry(0,CONTENT)));
}
