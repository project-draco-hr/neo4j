{
  Index<Node> index=provider.nodeIndex("fulltext",LuceneIndexProvider.FULLTEXT_CONFIG);
  Node node1=graphDb.createNode();
  Node node2=graphDb.createNode();
  String key="name";
  index.add(node1,key,"The quick brown fox");
  index.add(node2,key,"brown fox jumped over");
  assertCollection(index.get(key,"The quick brown fox"),node1);
  assertCollection(index.get(key,"brown fox jumped over"),node2);
  assertCollection(index.query(key,"quick"),node1);
  assertCollection(index.query(key,"brown"),node1,node2);
  assertCollection(index.query(key,"quick OR jumped"),node1,node2);
  assertCollection(index.query(key,"brown AND fox"),node1,node2);
  restartTx();
  assertCollection(index.get(key,"The quick brown fox"),node1);
  assertCollection(index.get(key,"brown fox jumped over"),node2);
  assertCollection(index.query(key,"quick"),node1);
  assertCollection(index.query(key,"brown"),node1,node2);
  assertCollection(index.query(key,"quick OR jumped"),node1,node2);
  assertCollection(index.query(key,"brown AND fox"),node1,node2);
  index.clear();
  node1.delete();
  node2.delete();
}
