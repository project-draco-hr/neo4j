{
  if (!sessionStarted) {
    if (!lockSession.isMine()) {
      try {
        requestLock();
      }
 catch (      InterruptedException e) {
        throw new AcquireLockTimeoutException(e,"Interrupted ");
      }
    }
    lockSession=replicatedLockStateMachine.currentLockSession();
    if (!lockSession.isMine()) {
      throw new AcquireLockTimeoutException("Did not manage to acquire valid lock session ID. " + lockSession);
    }
    sessionStarted=true;
  }
  if (!replicatedLockStateMachine.currentLockSession().isMine()) {
    throw new AcquireLockTimeoutException("Local instance lost lock session.");
  }
}
