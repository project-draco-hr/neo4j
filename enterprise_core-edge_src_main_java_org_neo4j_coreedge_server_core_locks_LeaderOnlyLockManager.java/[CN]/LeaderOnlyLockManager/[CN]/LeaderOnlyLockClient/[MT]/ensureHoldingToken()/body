{
  if (lockTokenId == LockToken.INVALID_LOCK_TOKEN_ID) {
    lockTokenId=acquireTokenOrThrow();
  }
 else   if (lockTokenId != lockTokenStateMachine.currentToken().id()) {
    throw new AcquireLockTimeoutException("Local instance lost lock token.");
  }
}
