{
  boolean needsRetry=optimisticLock && !page.validate(lockStamp);
  if (needsRetry) {
    setOffset(0);
    optimisticLock=false;
    lockStamp=page.readLock();
    if (!page.pin(pagedFile.swapper,currentPageId)) {
      page.unlockRead(lockStamp);
      pin(currentPageId);
    }
  }
  return needsRetry;
}
