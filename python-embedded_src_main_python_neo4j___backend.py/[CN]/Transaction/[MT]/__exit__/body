def __exit__(self, exc, *stuff):
    try:
        if exc:
            self.failure()
        else:
            self.success()
    finally:
        self.finish()
