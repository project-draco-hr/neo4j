{
  long latestTxId=txIdStore.getLastCommittedTransactionId();
  if (latestTxId == 0) {
    return new RequestContext(sessionId,machineId,eventIdentifier,0,-1,-1);
  }
  TransactionMetadataCache.TransactionMetadata txMetadata=null;
  try {
    txMetadata=txStore.getMetadataFor(latestTxId);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  if (txMetadata != null) {
    return new RequestContext(sessionId,machineId,eventIdentifier,latestTxId,txMetadata.getMasterId(),txMetadata.getChecksum());
  }
 else {
    return new RequestContext(sessionId,machineId,eventIdentifier,latestTxId,-1,-1);
  }
}
