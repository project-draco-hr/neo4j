{
  LogPruneStrategies.TransactionCountPruneStrategy pruner=new LogPruneStrategies.TransactionCountPruneStrategy(null,100);
  LogPruneStrategies.Threshold threshold=pruner.newThreshold();
  LogExtractor.LogLoader logLoader=mock(LogExtractor.LogLoader.class);
  when(logLoader.getFirstCommittedTxId(anyLong())).thenThrow(new RuntimeException(new IllegalLogFormatException(3,2)));
  boolean reached=threshold.reached(null,1,logLoader);
  assertTrue(reached);
}
