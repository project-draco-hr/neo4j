{
  String name="log";
  LogRotationControl logRotationControl=mock(LogRotationControl.class);
  LifeSupport life=new LifeSupport();
  PhysicalLogFiles logFiles=new PhysicalLogFiles(directory.directory(),name,fs);
  LogFile logFile=life.add(new PhysicalLogFile(fs,logFiles,1000,LogPruneStrategies.NO_PRUNING,transactionIdStore,logVersionRepository,mock(Monitor.class),logRotationControl,new TransactionMetadataCache(10,100),NO_RECOVERY_EXPECTED));
  life.start();
  life.shutdown();
  File file=new PhysicalLogFiles(directory.directory(),name,fs).getVersionFileName(1L);
  long[] header=VersionAwareLogEntryReader.readLogHeader(fs,file);
  assertEquals(1L,header[0]);
  assertEquals(5L,header[1]);
}
