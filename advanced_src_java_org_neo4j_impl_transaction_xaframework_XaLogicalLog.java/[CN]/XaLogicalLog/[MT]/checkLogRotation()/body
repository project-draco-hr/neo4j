{
  if (autoRotate && writeBuffer.getFileChannelPosition() >= rotateAtSize) {
    long currentPos=writeBuffer.getFileChannelPosition();
    long firstStartEntry=getFirstStartEntry(currentPos);
    if ((currentPos - firstStartEntry) < rotateAtSize / 2) {
      rotate();
    }
  }
}
