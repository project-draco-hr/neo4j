{
  DefaultFileSystemAbstraction fileSystem=new DefaultFileSystemAbstraction();
  Monitors monitors=new Monitors();
  compareLogStreams(LogExtractor.from(fileSystem,XaCommandReaderFactory.DEFAULT,new XaCommandWriterFactory(){
    @Override public XaCommandWriter newInstance(){
      return new PhysicalLogNeoXaCommandWriter();
    }
  }
,monitors.newMonitor(ByteCounterMonitor.class),new LogEntryWriterv1(),new File(args[0])),LogExtractor.from(fileSystem,XaCommandReaderFactory.DEFAULT,new XaCommandWriterFactory(){
    @Override public XaCommandWriter newInstance(){
      return new PhysicalLogNeoXaCommandWriter();
    }
  }
,monitors.newMonitor(ByteCounterMonitor.class),new LogEntryWriterv1(),new File(args[1])));
}
