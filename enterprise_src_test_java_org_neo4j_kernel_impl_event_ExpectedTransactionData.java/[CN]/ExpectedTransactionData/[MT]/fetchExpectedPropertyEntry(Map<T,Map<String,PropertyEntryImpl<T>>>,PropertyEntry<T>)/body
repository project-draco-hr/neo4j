{
  Map<String,PropertyEntryImpl<T>> innerMap=map.get(entry.entity());
  assertNotNull(innerMap);
  PropertyEntryImpl<T> expectedEntry=innerMap.remove(entry.key());
  assertNotNull(expectedEntry);
  if (innerMap.isEmpty()) {
    map.remove(entry.entity());
  }
  return expectedEntry;
}
