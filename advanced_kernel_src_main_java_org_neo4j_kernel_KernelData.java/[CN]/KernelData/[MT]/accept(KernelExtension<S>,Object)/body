{
  @SuppressWarnings("hiding") Object state=this.state.get(extension);
  if (state != null) {
    extension.agentVisit(this,(S)state,param);
  }
 else {
    state=extension.agentLoad(this,param);
    if (state != null) {
      setState(extension,state);
    }
  }
}
