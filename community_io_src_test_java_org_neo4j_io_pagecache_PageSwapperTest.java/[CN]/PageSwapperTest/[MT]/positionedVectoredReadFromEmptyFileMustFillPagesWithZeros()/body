{
  File file=file("file");
  PageSwapperFactory factory=swapperFactory();
  PageSwapper swapper=factory.createPageSwapper(file,4,NO_CALLBACK,true);
  ByteBufferPage page=createPage(4);
  page.putInt(1,0);
  assertThat(swapper.read(0,new Page[]{page},0,1),is(0L));
  assertThat(page.getInt(0),is(0));
}
