{
  long x=ThreadLocalRandom.current().nextLong();
  long y=ThreadLocalRandom.current().nextLong();
  int z=ThreadLocalRandom.current().nextInt();
  ByteBufferPage page=createPage(cachePageSize);
  page.putLong(x,0);
  page.putLong(y,8);
  page.putInt(z,16);
  File file=new File("a");
  fs.create(file).close();
  PageSwapperFactory swapperFactory=swapperFactory(fs);
  PageSwapper swapper=swapperFactory.createPageSwapper(file,cachePageSize,NO_CALLBACK);
  Thread.currentThread().interrupt();
  swapper.write(0,page);
  assertTrue(Thread.interrupted());
  swapper.force();
  ByteBuffer buf=ByteBuffer.allocate(cachePageSize);
  StoreChannel channel=fs.open(file,"r");
  int bytesRead=channel.read(buf);
  channel.close();
  assertThat(bytesRead,is(cachePageSize));
  buf.flip();
  assertThat(buf.getLong(),is(x));
  assertThat(buf.getLong(),is(y));
  assertThat(buf.getInt(),is(z));
}
