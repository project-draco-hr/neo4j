{
  AssertableLogProvider provider=new AssertableLogProvider();
  ErrorReporter reporter=new ErrorReporter(provider.getLog("userLog"),provider.getLog("internalLog"));
  Throwable cause=new StackOverflowError("some rewriter is probably not tail recursive");
  Neo4jError error=Neo4jError.from(cause);
  reporter.report(error);
  assertThat(error.status(),equalTo((Status)Status.General.StackOverFlowError));
  assertThat(error.message(),equalTo("There is not enough stack size to perform the current task. This is generally considered to be a " + "database error, so please contact Neo4j support. You could try increasing the stack size: " + "for example to set the stack size to 2M, add `dbms.jvm.additional=-Xss2M' to "+ "in the process wrapper configuration (normally in 'conf/neo4j-wrapper.conf' or, if you are "+ "using "+ "Neo4j Desktop, found through the user interface) or if you are running an embedded "+ "installation "+ "just add -Xss2M as command line flag."));
  provider.assertContainsMessageContaining(cause.getClass().getName());
}
