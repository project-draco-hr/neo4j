{
  AssertableLogProvider provider=new AssertableLogProvider();
  ErrorReporter reporter=new ErrorReporter(provider.getLog("userlog"),new UsageData(mock(JobScheduler.class)));
  Throwable cause=new Throwable("This is not an error we know how to handle.");
  Neo4jError error=Neo4jError.from(cause);
  reporter.report(error);
  assertThat(error.status(),equalTo((Status)Status.General.UnknownError));
  provider.assertExactly(inLog("userlog").error(CoreMatchers.both(CoreMatchers.containsString("START OF REPORT")).and(CoreMatchers.containsString("END OF REPORT"))));
  provider.assertExactly(inLog("userlog").error(CoreMatchers.containsString(error.reference().toString())));
}
