{
  UriInfo mockUri=mock(UriInfo.class);
  URI uri=new URI("http://peteriscool.com:6666/");
  when(mockUri.getBaseUri()).thenReturn(uri);
  Response resp=monitorService.getServiceDefinition(mockUri);
  assertEquals(200,resp.getStatus());
  Map<String,Object> resultAsMap=output.getResultAsMap();
  Map<String,Object> resources=(Map<String,Object>)resultAsMap.get("resources");
  assertThat((String)resources.get("data_from"),containsString("/fetch/{start}"));
  assertThat((String)resources.get("data_period"),containsString("/fetch/{start}/{stop}"));
  URI latest_data=(URI)resources.get("latest_data");
  assertThat(latest_data.toString(),containsString("/fetch"));
}
