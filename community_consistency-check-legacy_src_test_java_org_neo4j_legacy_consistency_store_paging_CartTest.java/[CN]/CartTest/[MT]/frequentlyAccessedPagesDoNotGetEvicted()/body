{
  int capacity=10;
  StorageSpy storage=new StorageSpy(capacity * 2);
  Cart cart=new Cart(capacity);
  for (int i=0; i < capacity * 2; i++) {
    cart.acquire(storage.page((i / 2) * 2),storage);
    cart.acquire(storage.page(i),storage);
  }
  assertThat(storage.events,not(hasItem("E0")));
  assertThat(storage.events,hasItem("E1"));
  assertThat(storage.events,not(hasItem("E2")));
  assertThat(storage.events,hasItem("E3"));
  assertThat(storage.events,not(hasItem("E4")));
  assertThat(storage.events,hasItem("E5"));
  assertThat(storage.events,not(hasItem("E6")));
  assertThat(storage.events,hasItem("E7"));
  assertThat(storage.events,not(hasItem("E8")));
  assertThat(storage.events,hasItem("E9"));
}
