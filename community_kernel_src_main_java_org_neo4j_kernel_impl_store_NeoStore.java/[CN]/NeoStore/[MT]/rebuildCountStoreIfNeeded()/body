{
  counts.start();
  if (counts.txId() == -1) {
    stringLogger.warn("Missing counts store, rebuilding it.");
    try {
      CountsComputer.computeCounts(this);
      counts.rotate(getLastCommittedTransactionId());
    }
 catch (    Throwable failure) {
      try {
        counts.shutdown();
      }
 catch (      Throwable err) {
        failure.addSuppressed(err);
      }
      throw failure;
    }
  }
}
