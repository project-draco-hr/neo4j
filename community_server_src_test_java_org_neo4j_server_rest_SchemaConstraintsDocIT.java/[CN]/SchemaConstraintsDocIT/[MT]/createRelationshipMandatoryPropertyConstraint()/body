{
  data.get();
  String relationshipTypeName=relationshipTypes.newInstance(), propertyKey=properties.newInstance();
  Map<String,Object> definition=map("property_keys",singletonList(propertyKey));
  String result=gen.get().noGraph().expectedStatus(200).payload(createJsonFrom(definition)).post(getSchemaRelationshipConstraintTypeExistenceUri(relationshipTypeName)).entity();
  Map<String,Object> serialized=jsonToMap(result);
  Map<String,Object> constraint=new HashMap<>();
  constraint.put("type",ConstraintType.MANDATORY_RELATIONSHIP_PROPERTY.name());
  constraint.put("relationshipType",relationshipTypeName);
  constraint.put("property_keys",singletonList(propertyKey));
  assertThat(serialized,equalTo(constraint));
}
