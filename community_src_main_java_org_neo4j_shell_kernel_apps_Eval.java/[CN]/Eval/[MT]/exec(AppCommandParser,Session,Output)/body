{
  if (scriptEngineManager == null) {
    out.println("Scripting not available, make sure javax.script.* is available on " + "the classpath in the JVM the shell server runs in");
    return null;
  }
  String javascriptCode=parser.getLineWithoutApp();
  javascriptCode=includeImports(javascriptCode);
  Object scriptEngine=scriptEngineManager.getClass().getMethod("getEngineByName",String.class).invoke(scriptEngineManager,"javascript");
  addToContext(scriptEngine,"db",getServer().getDb(),"out",out,"current",getCurrent(session).asPropertyContainer());
  Object result=scriptEngine.getClass().getMethod("eval",String.class).invoke(scriptEngine,javascriptCode);
  if (result != null) {
    out.println(result.toString());
  }
  return null;
}
