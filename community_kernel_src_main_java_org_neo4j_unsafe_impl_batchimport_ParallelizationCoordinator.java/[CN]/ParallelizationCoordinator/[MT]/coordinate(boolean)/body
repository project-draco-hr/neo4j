{
  if (!parallelizableWithPrevious) {
    lock.writeLock().lock();
  }
  final Lock readLock=lock.readLock();
  readLock.lock();
  if (!parallelizableWithPrevious) {
    lock.writeLock().unlock();
  }
  return new Resource(){
    @Override public void close(){
      readLock.unlock();
    }
  }
;
}
