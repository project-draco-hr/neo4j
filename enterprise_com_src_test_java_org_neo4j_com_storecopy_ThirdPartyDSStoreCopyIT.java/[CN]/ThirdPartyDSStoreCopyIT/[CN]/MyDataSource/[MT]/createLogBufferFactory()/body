{
  return new LogBufferFactory(){
    @Override public LogBuffer createActiveLogFile(    Config config,    long prevCommittedId) throws IllegalStateException, IOException {
      FileChannel channel=FileChannel.open(logWriterTarget.toPath(),CREATE,READ,WRITE);
      return new DirectLogBuffer(new StoreFileChannel(channel),ByteBuffer.allocate(512));
    }
  }
;
}
