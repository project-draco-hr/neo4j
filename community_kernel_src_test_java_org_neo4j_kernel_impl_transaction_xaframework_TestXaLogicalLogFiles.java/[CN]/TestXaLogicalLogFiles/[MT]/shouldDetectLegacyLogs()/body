{
  FileSystemAbstraction fs=mock(FileSystemAbstraction.class);
  when(fs.fileExists("logical_log.active")).thenReturn(false);
  when(fs.fileExists("logical_log")).thenReturn(true);
  when(fs.fileExists("logical_log.1")).thenReturn(false);
  when(fs.fileExists("logical_log.2")).thenReturn(false);
  XaLogicalLogFiles files=new XaLogicalLogFiles("logical_log",fs);
  assertThat(files.determineState(),is(XaLogicalLogFiles.State.LEGACY_WITHOUT_LOG_ROTATION));
}
