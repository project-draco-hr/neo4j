{
  final AtomicBoolean called=new AtomicBoolean(false);
  Callable<String> proc=new TestingProcess().start(MESSAGE,new SubProcessBreakPoint(TestingProcess.class,"call"){
    @Override protected void callback(    DebugInterface debug){
      called.set(true);
    }
  }
.enable());
  try {
    assertEquals(MESSAGE,proc.call());
    assertTrue("breakpoint callback never reached",called.get());
  }
  finally {
    SubProcess.stop(proc);
  }
}
