{
  StartupHealthCheck healthCheck=new StartupHealthCheck(new ConfigFileMustBePresentRule());
  if (!healthCheck.run()) {
    throw new StartupHealthCheckFailedException("Startup healthcheck failed, server is not properly configured. Check logs for details.");
  }
  Validator validator=new Validator(new DatabaseLocationMustBeSpecifiedRule());
  this.configurator=new Configurator(validator,getConfigFile());
  this.webServer=new Jetty6WebServer();
  this.database=new Database(configurator.configuration().getString(DATABASE_LOCATION));
}
