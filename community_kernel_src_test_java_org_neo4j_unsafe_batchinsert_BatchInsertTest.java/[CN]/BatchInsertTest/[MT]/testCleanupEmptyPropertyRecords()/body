{
  BatchInserter inserter=newBatchInserter();
  Map<String,Object> properties=new HashMap<>();
  properties.put("id",1099511659993l);
  properties.put("firstName","Edward");
  properties.put("lastName","Shevchenko");
  properties.put("gender","male");
  properties.put("birthday",new SimpleDateFormat("yyyy-MM-dd").parse("1987-11-08").getTime());
  properties.put("birthday_month",11);
  properties.put("birthday_day",8);
  properties.put("creationDate",new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSSZ").parse("2010-04-22T18:05:40.912+0000").getTime());
  properties.put("locationIP","46.151.255.205");
  properties.put("browserUsed","Firefox");
  properties.put("email",new String[0]);
  properties.put("languages",new String[0]);
  long personNodeId=inserter.createNode(properties);
  assertEquals("Shevchenko",inserter.getNodeProperties(personNodeId).get("lastName"));
  assertThat((String[])inserter.getNodeProperties(personNodeId).get("email"),is(emptyArray()));
  inserter.setNodeProperty(personNodeId,"email",new String[]{"Edward1099511659993@gmail.com"});
  assertThat((String[])inserter.getNodeProperties(personNodeId).get("email"),arrayContaining("Edward1099511659993@gmail.com"));
  inserter.setNodeProperty(personNodeId,"email",new String[]{"Edward1099511659993@gmail.com","backup@gmail.com"});
  assertThat((String[])inserter.getNodeProperties(personNodeId).get("email"),arrayContaining("Edward1099511659993@gmail.com","backup@gmail.com"));
}
