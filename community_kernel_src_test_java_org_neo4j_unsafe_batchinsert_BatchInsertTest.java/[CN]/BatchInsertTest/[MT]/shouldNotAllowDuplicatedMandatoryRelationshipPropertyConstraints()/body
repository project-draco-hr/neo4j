{
  RelationshipType type=DynamicRelationshipType.withName("KNOWS");
  String property="since";
  BatchInserter inserter=newBatchInserter();
  inserter.createDeferredConstraint(type).assertPropertyExists(property).create();
  try {
    inserter.createDeferredConstraint(type).assertPropertyExists(property).create();
    fail("Exception expected");
  }
 catch (  ConstraintViolationException e) {
    assertEquals("Mandatory relationship property constraint for given {type;property} already exists",e.getMessage());
  }
}
