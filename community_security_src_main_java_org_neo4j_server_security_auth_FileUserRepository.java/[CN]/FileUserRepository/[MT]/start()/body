{
  users.clear();
  usersByName.clear();
  if (fileSystem.fileExists(authFile)) {
    List<User> loadedUsers;
    try {
      lastLoaded=fileSystem.lastModifiedTime(authFile);
      loadedUsers=serialization.loadRecordsFromFile(fileSystem,authFile);
    }
 catch (    FormatException e) {
      log.error("Failed to read authentication file \"%s\" (%s)",authFile.getAbsolutePath(),e.getMessage());
      throw new IllegalStateException("Failed to read authentication file: " + authFile);
    }
    users=loadedUsers;
    for (    User user : users) {
      usersByName.put(user.name(),user);
    }
  }
}
