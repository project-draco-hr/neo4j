{
  byte[] fileBytes=Files.readAllBytes(authFile);
  List<User> loadedUsers;
  try {
    loadedUsers=serialization.deserializeUsers(fileBytes);
  }
 catch (  UserSerialization.FormatException e) {
    log.error("Failed to read authentication file \"%s\" (%s)",authFile.toAbsolutePath(),e.getMessage());
    throw new IllegalStateException("Failed to read authentication file: " + authFile);
  }
  users=loadedUsers;
  for (  User user : users) {
    usersByName.put(user.name(),user);
  }
}
