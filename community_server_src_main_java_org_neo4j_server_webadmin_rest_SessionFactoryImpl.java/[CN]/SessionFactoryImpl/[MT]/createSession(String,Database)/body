{
  if (engineName.equals("sunshine")) {
    return new SunshineSession(database.graph);
  }
 else {
    Object session=httpSession.getAttribute("consoleSession");
    if (session == null) {
      session=new GremlinSession(database);
      httpSession.setAttribute("consoleSession",session);
    }
    return (ScriptSession)session;
  }
}
