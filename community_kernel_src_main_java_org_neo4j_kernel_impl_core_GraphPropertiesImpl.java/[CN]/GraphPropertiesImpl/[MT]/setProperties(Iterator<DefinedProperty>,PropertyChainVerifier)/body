{
  if (loadedProperties != null && loadedProperties.hasNext()) {
    Collection<DefinedProperty> propertiesCollection=asCollection(loadedProperties);
    DefinedProperty[] propertiesArray=propertiesCollection.toArray(new DefinedProperty[propertiesCollection.size()]);
    sort(propertiesArray,ArrayBasedPrimitive.PROPERTY_DATA_COMPARATOR_FOR_SORTING);
    chainVerifier.verifySortedPropertyChain(propertiesArray,this);
    Map<Integer,DefinedProperty> newProperties=new HashMap<>();
    for (    DefinedProperty property : propertiesArray) {
      newProperties.put(property.propertyKeyId(),property);
    }
    properties=newProperties;
  }
 else {
    properties=new HashMap<>();
  }
}
