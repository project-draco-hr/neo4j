{
  long firstPropertyId=node.getCommittedNextProp();
  if (firstPropertyId == Record.NO_NEXT_PROPERTY.intValue())   return;
  for (  PropertyRecord propertyRecord : propertyStore.getPropertyRecordChain(firstPropertyId)) {
    for (    PropertyBlock property : propertyRecord.getPropertyBlocks()) {
      long propertyKeyId=property.getKeyIndexId();
      if (propertyKeyPredicate.accept(propertyKeyId)) {
        propertyStore.ensureHeavy(property);
        Object propertyValue=property.getType().getValue(property,propertyStore);
        visitor.visit(NodePropertyUpdate.add(node.getId(),propertyKeyId,propertyValue,labelsReference.get()));
      }
    }
  }
}
