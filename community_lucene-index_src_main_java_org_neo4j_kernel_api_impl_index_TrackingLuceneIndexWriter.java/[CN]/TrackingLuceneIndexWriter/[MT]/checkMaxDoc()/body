{
  int currentMaxDoc=writer.maxDoc();
  long limit=maxDocLimit();
  if (currentMaxDoc >= limit) {
    throw new IndexCapacityExceededException(currentMaxDoc,limit);
  }
}
