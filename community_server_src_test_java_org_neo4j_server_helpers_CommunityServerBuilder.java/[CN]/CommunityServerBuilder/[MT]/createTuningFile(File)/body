{
  if (action == WhatToDo.CREATE_GOOD_TUNING_FILE) {
    File databaseTuningPropertyFile=createTempPropertyFile();
    Map<String,String> properties=MapUtil.stringMap("neostore.nodestore.db.mapped_memory","25M","neostore.relationshipstore.db.mapped_memory","50M","neostore.relationshipgroupstore.db.mapped_memory","10M","neostore.propertystore.db.mapped_memory","90M","neostore.propertystore.db.strings.mapped_memory","130M","neostore.propertystore.db.arrays.mapped_memory","130M");
    writePropertiesToFile(properties,databaseTuningPropertyFile);
    writePropertyToFile(Configurator.DB_TUNING_PROPERTY_FILE_KEY,databaseTuningPropertyFile.getAbsolutePath(),temporaryConfigFile);
  }
 else   if (action == WhatToDo.CREATE_DANGLING_TUNING_FILE_PROPERTY) {
    writePropertyToFile(Configurator.DB_TUNING_PROPERTY_FILE_KEY,createTempPropertyFile().getAbsolutePath(),temporaryConfigFile);
  }
 else   if (action == WhatToDo.CREATE_CORRUPT_TUNING_FILE) {
    File corruptTuningFile=trashFile();
    writePropertyToFile(Configurator.DB_TUNING_PROPERTY_FILE_KEY,corruptTuningFile.getAbsolutePath(),temporaryConfigFile);
  }
}
