{
  TaskExecutor executor=new DynamicTaskExecutor(2,5,new ParkStrategy.Park(1),getClass().getSimpleName());
  ControlledTask task1=new ControlledTask();
  Task task2=new Task();
  executor.submit(task1);
  task1.latch.awaitStart();
  executor.submit(task2);
  while (task2.executed == 0) {
  }
  task1.latch.finish();
  while (task1.executed == 0) {
  }
  executor.shutdown(true);
  assertEquals(1,task1.executed);
  assertEquals(1,task2.executed);
}
