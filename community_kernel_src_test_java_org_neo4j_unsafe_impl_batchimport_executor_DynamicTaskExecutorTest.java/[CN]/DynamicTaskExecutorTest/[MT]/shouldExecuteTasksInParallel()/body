{
  TaskExecutor<Void> executor=new DynamicTaskExecutor<>(2,0,5,PARK,getClass().getSimpleName());
  ControlledTask task1=new ControlledTask();
  TestTask task2=new TestTask();
  executor.submit(task1);
  task1.latch.waitForAllToStart();
  executor.submit(task2);
  while (task2.executed == 0) {
  }
  task1.latch.finish();
  while (task1.executed == 0) {
  }
  executor.shutdown(SF_AWAIT_ALL_COMPLETED);
  assertEquals(1,task1.executed);
  assertEquals(1,task2.executed);
}
