{
  TaskExecutor executor=new DynamicTaskExecutor(2,10,new ParkStrategy.Park(1),getClass().getSimpleName());
  IOException exception=new IOException("Failure");
  FailingTask failingTask=new FailingTask(exception);
  executor.submit(failingTask);
  failingTask.latch.await();
  failingTask.latch.release();
  for (int i=0; i < 5; i++) {
    try {
      executor.assertHealthy();
      Thread.sleep(100);
    }
 catch (    Exception e) {
      assertTrue(Exceptions.contains(e,exception.getMessage(),exception.getClass()));
      return;
    }
  }
  fail("Should not be considered healthy after failing task");
}
