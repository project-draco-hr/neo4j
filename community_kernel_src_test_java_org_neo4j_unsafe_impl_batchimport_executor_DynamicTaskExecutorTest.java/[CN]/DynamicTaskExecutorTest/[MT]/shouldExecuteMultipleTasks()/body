{
  TaskExecutor<Void> executor=new DynamicTaskExecutor<>(30,5,new ParkStrategy.Park(1),getClass().getSimpleName());
  ExpensiveTask[] tasks=new ExpensiveTask[1000];
  for (int i=0; i < tasks.length; i++) {
    executor.submit(tasks[i]=new ExpensiveTask(10));
  }
  executor.shutdown(true);
  for (  ExpensiveTask task : tasks) {
    assertEquals(1,task.executed);
  }
}
