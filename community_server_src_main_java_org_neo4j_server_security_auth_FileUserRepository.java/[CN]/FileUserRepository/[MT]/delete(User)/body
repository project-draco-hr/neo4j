{
  boolean foundUser=false;
synchronized (this) {
    List<User> newUsers=new ArrayList<>();
    for (    User other : users) {
      if (other.name().equals(user.name())) {
        foundUser=true;
      }
 else {
        newUsers.add(other);
      }
    }
    if (foundUser) {
      users=newUsers;
      commitToDisk();
      usersByName.remove(user.name());
    }
  }
  return foundUser;
}
