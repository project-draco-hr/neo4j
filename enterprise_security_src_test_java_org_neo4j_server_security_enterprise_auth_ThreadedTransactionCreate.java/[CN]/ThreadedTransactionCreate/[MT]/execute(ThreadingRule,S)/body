{
  final String query="CREATE (:Test { name: '" + neo.nameOf(subject) + "-node'})";
  NamedFunction<S,Throwable> startTransaction=new NamedFunction<S,Throwable>("start-transaction"){
    @Override public Throwable apply(    S subject){
      try {
        try (InternalTransaction tx=neo.startTransactionAsUser(subject)){
          neo.getGraph().execute(query);
          latch.startAndWaitForAllToStart();
          latch.waitForAllToFinish();
          tx.success();
          return null;
        }
       }
 catch (      Throwable t) {
        return t;
      }
    }
  }
;
  done=threading.execute(startTransaction,subject);
  return query;
}
