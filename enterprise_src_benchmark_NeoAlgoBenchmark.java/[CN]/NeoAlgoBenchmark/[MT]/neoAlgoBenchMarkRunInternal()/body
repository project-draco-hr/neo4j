{
  System.out.println("Starting benchmark " + getTestId());
  setUpGlobal();
  System.out.println("Running warmup");
  for (int i=0; i < numberOfWarmupRuns; ++i) {
    runBenchMark();
  }
  System.out.println("Running benchmarks");
  long start, end;
  long averageTime=0;
  for (int i=0; i < numberOfRuns; ++i) {
    setUp();
    start=System.currentTimeMillis();
    runBenchMark();
    end=System.currentTimeMillis();
    tearDown();
    averageTime+=end - start;
    System.out.println("Time: " + ((end - start) / 1000.0) + "s");
  }
  System.out.print("Average time");
  if (currentInternalId != null) {
    System.out.print(" for " + currentInternalId);
    results.put(currentInternalId,(averageTime / numberOfRuns / 1000.0));
  }
  System.out.println(": " + (averageTime / numberOfRuns / 1000.0) + "s");
  tearDownGlobal();
  if (!saveStatistic(averageTime / numberOfRuns,true)) {
    System.out.println("Failed to save statistics");
  }
}
