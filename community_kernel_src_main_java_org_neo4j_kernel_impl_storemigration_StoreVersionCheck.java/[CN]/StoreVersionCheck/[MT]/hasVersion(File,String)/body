{
  StoreChannel fileChannel=null;
  byte[] expectedVersionBytes=UTF8.encode(expectedVersion);
  try {
    if (!fs.fileExists(storeFile)) {
      return false;
    }
    fileChannel=fs.open(storeFile,"r");
    if (fileChannel.size() < expectedVersionBytes.length) {
      return false;
    }
    String actualVersion=readVersion(fileChannel,expectedVersionBytes.length);
    if (!expectedVersion.equals(actualVersion)) {
      return false;
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
 finally {
    if (fileChannel != null) {
      try {
        fileChannel.close();
      }
 catch (      IOException e) {
      }
    }
  }
  return true;
}
