{
  for (Throwable cause=any; cause != null; cause=cause.getCause()) {
    if (cause instanceof Status.HasStatus) {
      return new Neo4jError(((Status.HasStatus)cause).status(),any.getMessage(),any);
    }
    if (cause instanceof OutOfMemoryError) {
      return new Neo4jError(Status.General.OutOfMemoryError,"There is not enough memory to perform the current task. Please try increasing " + "'dbms.memory.heap.max_size' in 'conf/neo4j-wrapper.conf' or if you are running an embedded " + "installation increase the heap by using '-Xmx' command line flag.",cause);
    }
    if (cause instanceof StackOverflowError) {
      return new Neo4jError(Status.General.OutOfMemoryError,"There is not enough stack size to perform the current task. This is generally considered to be a " + "database error, so please contact Neo4j support. You could try increasing the stack size: " + "for example to set the stack size to 2M, add `dbms.jvm.additional=-Xss2M' to "+ "'conf/neo4j-wrapper.conf' or if you are running an embedded installation just add -Xss2M as "+ "command line flag.",cause);
    }
  }
  return new Neo4jError(Status.General.UnknownError,any.getMessage(),any);
}
