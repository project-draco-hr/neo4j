{
  Map<String,Pair<ServerPlugin,ServerExtender>> extensions=new HashMap<String,Pair<ServerPlugin,ServerExtender>>();
  for (  ServerPlugin plugin : plugins) {
    PluginPointFactory factory=new PluginPointFactoryImpl();
    final ServerExtender extender=new ServerExtender(factory);
    try {
      plugin.loadServerExtender(extender);
    }
 catch (    Exception ex) {
      log.warn("Failed to load plugin [%s]: %s",plugin.toString(),ex.getMessage());
      if (logger != null)       logger.logMessage("Failed to load plugin: " + plugin,ex);
      continue;
    }
catch (    LinkageError err) {
      log.warn("Failed to load plugin [%s]: %s",plugin.toString(),err.getMessage());
      if (logger != null)       logger.logMessage("Failed to load plugin: " + plugin,err);
      continue;
    }
    Pair<ServerPlugin,ServerExtender> old=extensions.put(plugin.name,Pair.of(plugin,extender));
    if (old != null) {
      log.warn(String.format("Extension naming conflict \"%s\" between \"%s\" and \"%s\"",plugin.name,old.first().getClass(),plugin.getClass()));
      if (logger != null)       logger.logMessage(String.format("Extension naming conflict \"%s\" between \"%s\" and \"%s\"",plugin.name,old.first().getClass(),plugin.getClass()));
    }
  }
  for (  Pair<ServerPlugin,ServerExtender> extension : extensions.values()) {
    log.info(String.format("Loaded server plugin \"%s\"",extension.first().name));
    if (logger != null) {
      logger.logMessage(String.format("Loaded server plugin \"%s\" (%s)",extension.first().name,extension.first().getClass().getName()));
      for (      PluginPoint point : extension.other().all()) {
        logger.logMessage(String.format("  %s.%s: %s",point.forType().getSimpleName(),point.name(),point.getDescription()));
      }
    }
    this.extensions.put(extension.first().name,extension.other());
  }
}
