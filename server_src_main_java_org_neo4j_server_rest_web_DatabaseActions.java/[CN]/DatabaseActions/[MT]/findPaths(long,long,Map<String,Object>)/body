{
  final FindParams findParams=new FindParams(startId,endId,map).invoke();
  PathFinder finder=findParams.getFinder();
  Node startNode=findParams.getStartNode();
  Node endNode=findParams.getEndNode();
  Iterable paths=finder.findAllPaths(startNode,endNode);
  IterableWrapper<PathRepresentation,Path> pathRepresentations=new IterableWrapper<PathRepresentation,Path>(paths){
    @Override protected PathRepresentation underlyingObjectToObject(    Path path){
      return findParams.pathRepresentationOf(path);
    }
  }
;
  return new ListRepresentation(RepresentationType.PATH,pathRepresentations);
}
