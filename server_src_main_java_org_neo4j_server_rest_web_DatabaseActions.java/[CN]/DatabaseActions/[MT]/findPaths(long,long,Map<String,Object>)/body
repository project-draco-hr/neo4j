{
  FindParams findParams=new FindParams(startId,endId,map).invoke();
  PathFinder<Path> finder=findParams.getFinder();
  Node startNode=findParams.getStartNode();
  Node endNode=findParams.getEndNode();
  Iterable<Path> paths=finder.findAllPaths(startNode,endNode);
  IterableWrapper<PathRepresentation,Path> pathRepresentations=new IterableWrapper<PathRepresentation,Path>(paths){
    @Override protected PathRepresentation underlyingObjectToObject(    final Path path){
      return new PathRepresentation(path);
    }
  }
;
  return new ListRepresentation(RepresentationType.PATH,pathRepresentations);
}
