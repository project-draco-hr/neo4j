{
  long prevLogIndex=123L;
  PhysicalRaftLogFiles files=new PhysicalRaftLogFiles(tmpDirectory,fs,mock(ChannelMarshal.class),new VersionIndexRanges());
  long initialVersion=files.getHighestLogVersion();
  assertEquals(0,initialVersion);
  long newVersion=files.registerNextVersion(prevLogIndex);
  assertEquals(initialVersion + 1,newVersion);
  assertEquals(initialVersion + 1,files.getHighestLogVersion());
}
