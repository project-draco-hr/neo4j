{
  long sessionId=buffer.readLong();
  int machineId=buffer.readInt();
  int eventIdentifier=buffer.readInt();
  int txsSize=buffer.readByte();
  Tx[] lastAppliedTransactions=new Tx[txsSize];
  Tx neoTx=null;
  for (int i=0; i < txsSize; i++) {
    String ds=readString(buffer);
    Tx tx=RequestContext.lastAppliedTx(ds,buffer.readLong());
    lastAppliedTransactions[i]=tx;
    if (ds.equals(NeoStoreXaDataSource.DEFAULT_DATA_SOURCE_NAME)) {
      neoTx=tx;
    }
  }
  int masterId=buffer.readInt();
  long checksum=buffer.readLong();
  if (neoTx != null) {
    txVerifier.assertMatch(neoTx.getTxId(),masterId,checksum);
  }
  return new RequestContext(sessionId,machineId,eventIdentifier,lastAppliedTransactions,masterId,checksum);
}
