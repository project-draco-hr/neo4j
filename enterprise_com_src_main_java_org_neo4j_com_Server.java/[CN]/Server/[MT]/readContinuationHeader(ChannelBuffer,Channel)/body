{
  byte[] header=new byte[2];
  buffer.readBytes(header);
  try {
    assertSameProtocolVersion(header,getInternalProtocolVersion(),applicationProtocolVersion);
  }
 catch (  final IllegalProtocolVersionException e) {
    submitSilent(targetCallExecutor,new Runnable(){
      @Override public void run(){
        writeFailureResponse(e,newChunkingBuffer(channel));
      }
    }
);
    return null;
  }
  return (byte)(header[0] & 0x1);
}
