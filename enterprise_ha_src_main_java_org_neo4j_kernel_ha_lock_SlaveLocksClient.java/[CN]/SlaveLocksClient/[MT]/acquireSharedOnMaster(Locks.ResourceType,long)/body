{
  if (resourceType == ResourceTypes.NODE || resourceType == ResourceTypes.RELATIONSHIP || resourceType == ResourceTypes.GRAPH_PROPS || resourceType == ResourceTypes.LEGACY_INDEX) {
    makeSureTxHasBeenInitialized();
    RequestContext requestContext=newRequestContextFor(this);
    try (Response<LockResult> response=master.acquireSharedLock(requestContext,resourceType,resourceIds)){
      receiveLockResponse(response);
    }
 catch (    ComException e) {
      throw new DistributedLockFailureException("Cannot get shared lock on master",master,e);
    }
  }
}
