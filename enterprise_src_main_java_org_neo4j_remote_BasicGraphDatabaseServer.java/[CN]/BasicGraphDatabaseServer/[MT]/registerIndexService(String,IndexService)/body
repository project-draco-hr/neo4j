{
synchronized (this) {
    IndexSpec[] new_indexes=new IndexSpec[indexes.length + 1];
    for (int i=0; i < indexes.length; i++) {
      if (indexes[i].name.equals(name)) {
        throw new IllegalArgumentException("IndexService \"" + name + "\" is already registered.");
      }
      new_indexes[i]=indexes[i];
    }
    new_indexes[indexes.length]=new IndexSpec(name,index);
    this.indexes=new_indexes;
  }
}
