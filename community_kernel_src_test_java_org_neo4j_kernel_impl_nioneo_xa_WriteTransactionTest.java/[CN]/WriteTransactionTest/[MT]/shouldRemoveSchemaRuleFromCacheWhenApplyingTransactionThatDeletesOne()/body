{
  SchemaStore schemaStore=neoStore.getSchemaStore();
  long labelId=10, propertyKey=10;
  IndexRule rule=IndexRule.indexRule(schemaStore.nextId(),labelId,propertyKey,PROVIDER_DESCRIPTOR);
  Collection<DynamicRecord> records=schemaStore.allocateFrom(rule);
  for (  DynamicRecord record : records)   schemaStore.updateRecord(record);
  long ruleId=first(records).getId();
  WriteTransaction writeTransaction=newWriteTransaction(NO_INDEXING);
  writeTransaction.dropSchemaRule(ruleId);
  writeTransaction.prepare();
  writeTransaction.commit();
  verify(cacheAccessBackDoor).removeSchemaRuleFromCache(ruleId);
}
