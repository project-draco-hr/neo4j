{
  SchemaStore schemaStore=neoStore.getSchemaStore();
  int labelId=10, propertyKey=10;
  IndexRule rule=indexRule(schemaStore.nextId(),labelId,propertyKey,PROVIDER_DESCRIPTOR);
  Collection<DynamicRecord> records=schemaStore.allocateFrom(rule);
  for (  DynamicRecord record : records) {
    schemaStore.updateRecord(record);
  }
  long ruleId=first(records).getId();
  NeoStoreTransaction writeTransaction=newWriteTransaction(mockIndexing);
  writeTransaction.dropSchemaRule(rule);
  writeTransaction.prepare();
  try (LockGroup lockGroup=new LockGroup()){
    writeTransaction.commit(lockGroup);
  }
   verify(cacheAccessBackDoor).removeSchemaRuleFromCache(ruleId);
}
