{
  CollectingOutput output=new CollectingOutput();
  try {
    shellServer.interpretLine(command,shellClient.session(),output);
    fail("Was expecting an exception");
  }
 catch (  ShellException e) {
    String errorMessage=e.getMessage();
    if (!errorMessage.toLowerCase().contains(errorMessageShouldContain.toLowerCase())) {
      fail("Error message '" + errorMessage + "' should have contained '"+ errorMessageShouldContain+ "'");
    }
  }
}
