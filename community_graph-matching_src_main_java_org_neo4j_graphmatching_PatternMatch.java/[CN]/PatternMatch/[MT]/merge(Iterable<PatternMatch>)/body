{
  Map<PatternNode,PatternElement> matchMap=new HashMap<PatternNode,PatternElement>();
  Map<PatternRelationship,Relationship> relElements=new HashMap<PatternRelationship,Relationship>();
  for (  PatternMatch match : matches) {
    for (    PatternNode node : match.elements.keySet()) {
      boolean exists=false;
      for (      PatternNode existingNode : matchMap.keySet()) {
        if (node.getLabel().equals(existingNode.getLabel())) {
          exists=true;
          break;
        }
      }
      if (!exists) {
        matchMap.put(node,match.elements.get(node));
        relElements.put(match.elements.get(node).getFromPatternRelationship(),match.elements.get(node).getFromRelationship());
      }
    }
  }
  PatternMatch mergedMatch=new PatternMatch(matchMap,relElements);
  return mergedMatch;
}
