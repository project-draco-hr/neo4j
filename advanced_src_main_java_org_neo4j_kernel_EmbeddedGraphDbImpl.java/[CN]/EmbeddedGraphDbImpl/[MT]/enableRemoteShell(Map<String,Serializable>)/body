{
  if (shellService != null) {
    throw new IllegalStateException("Shell already enabled");
  }
  Map<String,Serializable> properties=initialProperties != null ? initialProperties : Collections.<String,Serializable>emptyMap();
  try {
    shellService=new ShellService(this.graphDbService,properties);
    return true;
  }
 catch (  RemoteException e) {
    throw new IllegalStateException("Can't start remote Neo4j shell",e);
  }
catch (  ShellNotAvailableException e) {
    log.info("Shell library not available. Neo4j shell not " + "started. Please add the Neo4j shell jar to the classpath.");
    e.printStackTrace();
    return false;
  }
}
