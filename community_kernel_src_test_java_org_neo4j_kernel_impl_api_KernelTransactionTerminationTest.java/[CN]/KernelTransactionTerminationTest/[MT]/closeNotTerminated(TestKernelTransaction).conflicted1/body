{
  tx.assertNotTerminated();
  try {
    tx.close();
    fail("Exception expected");
  }
 catch (  Exception e) {
    assertThat(e,instanceOf(TransactionFailureException.class));
  }
  tx.assertRolledBack();
}
