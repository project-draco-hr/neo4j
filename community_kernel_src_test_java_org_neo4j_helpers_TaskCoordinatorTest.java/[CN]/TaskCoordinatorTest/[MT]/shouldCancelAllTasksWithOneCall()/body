{
  TaskCoordinator coordinator=new TaskCoordinator(1,TimeUnit.MILLISECONDS);
  try (TaskControl task1=coordinator.newInstance();TaskControl task2=coordinator.newInstance();TaskControl task3=coordinator.newInstance()){
    assertFalse(task1.cancellationRequested());
    assertFalse(task2.cancellationRequested());
    assertFalse(task3.cancellationRequested());
    coordinator.cancel();
    assertTrue(task1.cancellationRequested());
    assertTrue(task2.cancellationRequested());
    assertTrue(task3.cancellationRequested());
  }
 }
