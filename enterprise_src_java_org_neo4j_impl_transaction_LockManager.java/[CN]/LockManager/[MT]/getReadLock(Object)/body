{
  if (resource == null) {
    throw new IllegalResourceException("Null parameter");
  }
  RWLock lock=null;
synchronized (resourceLockMap) {
    if (resourceLockMap.containsKey(resource)) {
      lock=resourceLockMap.get(resource);
    }
 else {
      lock=new RWLock(resource);
      resourceLockMap.put(resource,lock);
    }
    lock.mark();
  }
  lock.acquireReadLock();
}
