{
  MembershipListenerAdapter hazelcastListener=new MembershipListenerAdapter(listener);
  membershipListeners.add(hazelcastListener);
  if (hazelcastInstance != null) {
    String registrationId=hazelcastInstance.getCluster().addMembershipListener(hazelcastListener);
    membershipRegistrationId.put(hazelcastListener,registrationId);
  }
  listener.onTopologyChange(currentTopology());
}
