{
  if (the.config().get(GraphDatabaseSettings.log_queries)) {
    QueryLogger logger=new QueryLogger(Clock.SYSTEM_CLOCK,new LoggerFactory(the.filesystem(),the.config().get(GraphDatabaseSettings.log_queries_filename)),the.config().get(GraphDatabaseSettings.log_queries_threshold));
    the.monitoring().addMonitorListener(logger);
    return logger;
  }
  return null;
}
