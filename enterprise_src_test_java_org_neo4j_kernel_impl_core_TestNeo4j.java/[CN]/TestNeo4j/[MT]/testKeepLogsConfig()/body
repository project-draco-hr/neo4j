{
  Map<String,String> config=new HashMap<String,String>();
  config.put("keep_logical_logs","non-existing=false, nioneodb=true");
  EmbeddedGraphDatabase db=new EmbeddedGraphDatabase("target/configdb",config);
  XaDataSourceManager xaDsMgr=db.getConfig().getTxModule().getXaDataSourceManager();
  XaDataSource xaDs=xaDsMgr.getXaDataSource("nioneodb");
  assertTrue(xaDs.isLogicalLogKept());
  db.shutdown();
  config.put("keep_logical_logs","non-existing=false, nioneodb=false");
  db=new EmbeddedGraphDatabase("target/configdb",config);
  xaDsMgr=db.getConfig().getTxModule().getXaDataSourceManager();
  xaDs=xaDsMgr.getXaDataSource("nioneodb");
  assertTrue(!xaDs.isLogicalLogKept());
  db.shutdown();
}
