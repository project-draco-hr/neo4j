{
  if (transactionEventHandlers.isEmpty()) {
    return null;
  }
  TransactionData txData=state == null ? EMPTY_DATA : new TxStateTransactionDataSnapshot(state,nodeActions,storeReadLayer,((KernelStatement)transaction.acquireStatement()).getStoreStatement());
  TransactionHandlerState handlerStates=new TransactionHandlerState(txData);
  for (  TransactionEventHandler<?> handler : this.transactionEventHandlers) {
    try {
      handlerStates.add(handler,handler.beforeCommit(txData));
    }
 catch (    Throwable t) {
      handlerStates.failed(t);
    }
  }
  return handlerStates;
}
