{
  DelegateInvocationHandler<TokenCreator> propertyKeyCreatorDelegate=new DelegateInvocationHandler<>(TokenCreator.class);
  TokenCreator propertyTokenCreator=(TokenCreator)Proxy.newProxyInstance(TokenCreator.class.getClassLoader(),new Class[]{TokenCreator.class},propertyKeyCreatorDelegate);
  new PropertyKeyCreatorModeSwitcher(memberStateMachine,propertyKeyCreatorDelegate,masterDelegateInvocationHandler,requestContextFactory,new Provider<KernelAPI>(){
    @Override public KernelAPI instance(){
      return neoDataSource.getKernel();
    }
  }
,idGeneratorFactory);
  return propertyTokenCreator;
}
