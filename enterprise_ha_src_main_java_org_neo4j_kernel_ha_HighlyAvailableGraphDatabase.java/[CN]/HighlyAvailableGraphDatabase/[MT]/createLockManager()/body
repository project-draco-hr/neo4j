{
  transactionSupport=new DefaultTransactionSupport(lockReleaser,txManager,txHook,accessGuard,config);
  DelegateInvocationHandler<LockManager> lockManagerDelegate=new DelegateInvocationHandler<LockManager>();
  LockManager lockManager=(LockManager)Proxy.newProxyInstance(LockManager.class.getClassLoader(),new Class[]{LockManager.class},lockManagerDelegate);
  new LockManagerModeSwitcher(memberStateMachine,lockManagerDelegate,txManager,txHook,(HaXaDataSourceManager)xaDataSourceManager,master,requestContextFactory,transactionSupport);
  return lockManager;
}
