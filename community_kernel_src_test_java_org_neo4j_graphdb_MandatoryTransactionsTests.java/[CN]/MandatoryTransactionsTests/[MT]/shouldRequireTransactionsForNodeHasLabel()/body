{
  Node node=createNodeWithLabel(graphDatabaseService);
  Transaction transaction=graphDatabaseService.beginTx();
  try {
    node.hasLabel(label("foo"));
  }
  finally {
    transaction.finish();
  }
  try {
    node.hasLabel(label("foo"));
    fail("Transactions are mandatory, also for reads");
  }
 catch (  NotInTransactionException e) {
  }
}
