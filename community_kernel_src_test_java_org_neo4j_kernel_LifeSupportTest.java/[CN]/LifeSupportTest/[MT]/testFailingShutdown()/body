{
  LifeSupport lifeSupport=new LifeSupport();
  LifecycleMock instance1=new LifecycleMock(null,null,null,null);
  lifeSupport.add(instance1);
  Exception shutdownThrowable=new Exception();
  LifecycleMock instance2=new LifecycleMock(null,null,null,shutdownThrowable);
  lifeSupport.add(instance2);
  LifecycleMock instance3=new LifecycleMock(null,null,null,null);
  lifeSupport.add(instance3);
  lifeSupport.start();
  try {
    lifeSupport.shutdown();
    Assert.fail();
  }
 catch (  LifecycleException throwable) {
    assertEquals(shutdownThrowable,throwable.getCause());
  }
  assertEquals(LifeSupport.Status.SHUTDOWN,lifeSupport.getStatus());
  assertEquals(LifeSupport.Status.SHUTDOWN,instance1.getStatus());
  assertEquals(LifeSupport.Status.SHUTDOWN,instance2.getStatus());
  assertEquals(LifeSupport.Status.SHUTDOWN,instance3.getStatus());
}
