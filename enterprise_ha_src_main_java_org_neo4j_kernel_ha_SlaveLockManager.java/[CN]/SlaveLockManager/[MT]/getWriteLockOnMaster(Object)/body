{
  Response<LockResult> response=null;
  if (resource instanceof Node) {
    transactionSupport.makeSureTxHasBeenInitialized();
    response=master.acquireNodeWriteLock(requestContextFactory.newRequestContext(),((Node)resource).getId());
  }
 else   if (resource instanceof Relationship) {
    transactionSupport.makeSureTxHasBeenInitialized();
    response=master.acquireRelationshipWriteLock(requestContextFactory.newRequestContext(),((Relationship)resource).getId());
  }
 else   if (resource instanceof GraphProperties) {
    transactionSupport.makeSureTxHasBeenInitialized();
    response=master.acquireGraphWriteLock(requestContextFactory.newRequestContext());
  }
 else   if (resource instanceof IndexLock) {
    transactionSupport.makeSureTxHasBeenInitialized();
    IndexLock indexLock=(IndexLock)resource;
    response=master.acquireIndexWriteLock(requestContextFactory.newRequestContext(),indexLock.getIndex(),indexLock.getKey());
  }
 else {
    return true;
  }
  return receiveLockResponse(response);
}
