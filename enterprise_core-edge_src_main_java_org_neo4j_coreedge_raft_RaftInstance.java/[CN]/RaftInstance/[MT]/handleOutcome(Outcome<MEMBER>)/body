{
  MEMBER oldLeader=state.leader();
  if (outcome.getLeader() != null && outcome.getLeader().equals(myself)) {
    LeaderContext leaderContext=new LeaderContext(outcome.getTerm(),outcome.getLeaderCommit());
    if (oldLeader == null || !oldLeader.equals(myself)) {
      logShipping.start(leaderContext);
    }
    logShipping.handleCommands(outcome.getShipCommands(),leaderContext);
  }
 else   if (oldLeader != null && oldLeader.equals(myself) && !outcome.getLeader().equals(myself)) {
    logShipping.stop();
  }
  state.update(outcome);
  if (oldLeader != state.leader()) {
    notifyListenersOnLeadershipChange(state.leader());
  }
}
