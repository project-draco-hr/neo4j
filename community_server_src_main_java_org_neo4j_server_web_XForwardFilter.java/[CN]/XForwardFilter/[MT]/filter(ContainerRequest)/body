{
  String xForwardedHost=containerRequest.getHeaderValue(X_FORWARD_HOST_HEADER_KEY);
  String xForwardedProto=containerRequest.getHeaderValue(X_FORWARD_PROTO_HEADER_KEY);
  URI externalBaseUri=XForwardUtil.externalUri(containerRequest.getBaseUri(),xForwardedHost,xForwardedProto);
  URI externalRequestUri=XForwardUtil.externalUri(containerRequest.getRequestUri(),xForwardedHost,xForwardedProto);
  containerRequest.setUris(externalBaseUri,externalRequestUri);
  return containerRequest;
}
