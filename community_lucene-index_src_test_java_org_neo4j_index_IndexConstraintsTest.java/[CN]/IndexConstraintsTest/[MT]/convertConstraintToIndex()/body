{
  Label label=DynamicLabel.label("Label");
  String propertyKey="x";
  try (Transaction tx=graphDb.beginTx()){
    graphDb.schema().indexFor(label).on(propertyKey).create();
    tx.success();
  }
   try (Transaction tx=graphDb.beginTx()){
    IndexDefinition index=first(graphDb.schema().getIndexes(label));
    index.drop();
    graphDb.schema().constraintFor(label).assertPropertyIsUnique(propertyKey).create();
    tx.success();
  }
 }
