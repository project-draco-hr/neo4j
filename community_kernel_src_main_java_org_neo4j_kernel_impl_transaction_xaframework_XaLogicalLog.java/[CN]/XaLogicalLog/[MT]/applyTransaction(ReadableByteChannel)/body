{
  scanIsComplete=false;
  LogReader<ReadableByteChannel> logApplier=new LogDeserializer(logDeserializerMonitor,sharedBuffer);
  logApplier.setXidIdentifier(getNextIdentifier());
  logApplier.setLogHandler(new FuckingUglyHackDoesNotDoNothing(new SlaveLogWriter(new LogApplier(),logWriterSPI)));
  logApplier.setXaCommandReader(commandReader);
  try {
    logApplier.read(byteChannel);
  }
  finally {
    byteChannel.close();
    scanIsComplete=true;
  }
  checkLogRotation();
}
