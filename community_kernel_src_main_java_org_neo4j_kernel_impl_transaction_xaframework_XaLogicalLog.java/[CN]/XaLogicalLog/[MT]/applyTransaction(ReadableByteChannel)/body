{
  kernelHealth.assertHealthy(IOException.class);
  scanIsComplete=false;
  LogEntryConsumer consumer=new LogEntryConsumer(transactionTranslator);
  consumer.bind(getNextIdentifier(),slaveHandler);
  LogReader<ReadableByteChannel> logDeserializer=new SlaveLogDeserializer(sharedBuffer,commandReaderFactory);
  boolean success=false;
  slaveHandler.startLog();
  try (Cursor<LogEntry,IOException> cursor=logDeserializer.cursor(byteChannel)){
    while (cursor.next(consumer))     ;
    success=true;
  }
 catch (  Exception e) {
    kernelHealth.panic(e);
    throw launderedException(IOException.class,"Failure applying transaction",e);
  }
 finally {
    try {
      slaveHandler.endLog(success);
    }
 catch (    Exception e) {
      kernelHealth.panic(e);
      throw launderedException(IOException.class,"Failure applying transaction",e);
    }
    scanIsComplete=true;
  }
  checkLogRotation();
}
