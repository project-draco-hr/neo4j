{
  try (SegmentFile segment=create(fsRule.get(),fileNames.getForVersion(0),readerPool,0,contentMarshal,logProvider,segmentHeader)){
    IOCursor<EntryRecord> cursor=segment.getCursor(0);
    cursor.close();
    cursor.close();
    fail("Should have caught double close error");
  }
 catch (  IllegalStateException e) {
  }
}
