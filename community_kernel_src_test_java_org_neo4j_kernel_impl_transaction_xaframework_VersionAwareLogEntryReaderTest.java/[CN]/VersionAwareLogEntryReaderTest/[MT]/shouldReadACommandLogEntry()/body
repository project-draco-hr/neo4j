{
  final VersionAwareLogEntryReader logEntryReader=new VersionAwareLogEntryReader(commandReaderFactory);
  Command.NodeCommand nodeCommand=new Command.NodeCommand();
  final LogEntry.Command command=new LogEntry.Command(version,nodeCommand);
  final InMemoryLogChannel channel=new InMemoryLogChannel();
  channel.put(version);
  channel.put(LogEntry.COMMAND);
  channel.put(NeoCommandType.NODE_COMMAND);
  final LogEntry logEntry=logEntryReader.readLogEntry(channel);
  assertEquals(command,logEntry);
}
