{
  final VersionAwareLogEntryReader logEntryReader=new VersionAwareLogEntryReader(commandReaderFactory);
  final LogEntry.Commit commit=new LogEntry.OnePhaseCommit(version,42,21);
  final InMemoryLogChannel channel=new InMemoryLogChannel();
  channel.put(version);
  channel.put(LogEntry.TX_1P_COMMIT);
  channel.putLong(commit.getTxId());
  channel.putLong(commit.getTimeWritten());
  final LogEntry logEntry=logEntryReader.readLogEntry(channel);
  assertEquals(commit,logEntry);
}
