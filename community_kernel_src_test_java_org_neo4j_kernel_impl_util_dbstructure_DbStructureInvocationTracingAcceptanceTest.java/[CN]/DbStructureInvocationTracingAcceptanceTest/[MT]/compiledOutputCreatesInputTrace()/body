{
  StringBuilder output=new StringBuilder();
  InvocationTracer<DbStructureVisitor> tracer=new InvocationTracer<>("Test",packageName,className,DbStructureVisitor.class,DbStructureArgumentFormatter.INSTANCE,output);
  exerciseVisitor(constant(tracer.newProxy()));
  tracer.close();
  final Visitable<DbStructureVisitor> visitable=compileVisitable(classNameWithPackage,output.toString());
  final DbStructureVisitor visitor=mock(DbStructureVisitor.class);
  visitable.accept(visitor);
  exerciseVisitor(new Function<Object,DbStructureVisitor>(){
    @Override public DbStructureVisitor apply(    Object o) throws RuntimeException {
      return verify(visitor);
    }
  }
);
  verifyNoMoreInteractions(visitor);
}
