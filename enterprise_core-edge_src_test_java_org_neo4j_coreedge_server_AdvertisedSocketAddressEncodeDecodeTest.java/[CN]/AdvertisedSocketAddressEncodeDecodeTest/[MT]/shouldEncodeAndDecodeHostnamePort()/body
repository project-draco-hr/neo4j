{
  ByteBuf buffer=Unpooled.buffer();
  AdvertisedSocketAddress sent=address("test-hostname:1234");
  new AdvertisedSocketAddressEncoder().encode(sent,buffer);
  AdvertisedSocketAddress received=new AdvertisedSocketAddressDecoder().decode(buffer);
  assertNotSame(sent,received);
  assertEquals(sent,received);
}
