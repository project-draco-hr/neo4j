{
  GraphDatabaseService beansAPI=dbRule.getGraphDatabaseService();
  String property="name";
  Labels label=Labels.MY_LABEL;
  IndexDefinition index=createIndexRule(beansAPI,label,property);
  dropIndex(beansAPI,index);
  try {
    dropIndex(beansAPI,index);
    fail("Should not be able to drop index twice");
  }
 catch (  ConstraintViolationException e) {
    assertThat(e.getMessage(),containsString("Unable to drop index"));
  }
  assertFalse("Index should have been deleted",asSet(beansAPI.schema().getIndexes(label)).contains(index));
}
