{
  final ShellServer server=this.shellServer;
  final Serializable clientId=this.shellClient.getId();
  Thread thread=new Thread(new Runnable(){
    @Override public void run(){
      try {
        Thread.sleep(1);
        server.terminate(clientId);
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
);
  thread.start();
  executeCommandExpectingException("FOREACH(i IN range(0, 10000) | CREATE ());","has been terminated");
}
