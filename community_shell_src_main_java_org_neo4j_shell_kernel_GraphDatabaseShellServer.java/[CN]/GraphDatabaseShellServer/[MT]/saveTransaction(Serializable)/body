{
  try {
    ThreadToStatementContextBridge threadToStatementContextBridge=getDb().getDependencyResolver().resolveDependency(ThreadToStatementContextBridge.class);
    TopLevelTransaction tx=threadToStatementContextBridge.getTopLevelTransactionBoundToThisThread(false);
    threadToStatementContextBridge.unbindTransactionFromCurrentThread();
    if (tx == null) {
      transactions.remove(clientId);
    }
 else {
      transactions.put(clientId,tx);
    }
  }
 catch (  Exception e) {
    throw wrapException(e);
  }
}
