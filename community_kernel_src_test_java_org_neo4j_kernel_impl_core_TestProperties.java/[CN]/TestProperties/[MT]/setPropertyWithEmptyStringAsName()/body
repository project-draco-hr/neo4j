{
  EphemeralFileSystemAbstraction fileSystem=new EphemeralFileSystemAbstraction();
  String path="empty-string";
  GraphDatabaseService db=new TestGraphDatabaseFactory().setFileSystem(fileSystem).newImpermanentDatabase(path);
  Transaction tx=db.beginTx();
  Node node=db.createNode();
  long nodeId=node.getId();
  node.setProperty("","bar");
  tx.success();
  tx.finish();
  assertEquals("bar",db.getNodeById(nodeId).getProperty(""));
  db.shutdown();
  db=new TestGraphDatabaseFactory().setFileSystem(fileSystem).newImpermanentDatabase(path);
  assertEquals("bar",db.getNodeById(nodeId).getProperty(""));
  fileSystem.shutdown();
}
