{
  Map<Object,MutableLong> types=typeCheckers.get(Thread.currentThread());
  if (types == null) {
    typeCheckers.put(Thread.currentThread(),types=new HashMap<>());
  }
  for (  InputRelationship relationship : batch.input) {
    Object type=relationship.typeAsObject();
    MutableLong count=types.get(type);
    if (count == null) {
      types.put(type,count=new MutableLong());
    }
    count.increment();
  }
  sender.send(batch);
}
