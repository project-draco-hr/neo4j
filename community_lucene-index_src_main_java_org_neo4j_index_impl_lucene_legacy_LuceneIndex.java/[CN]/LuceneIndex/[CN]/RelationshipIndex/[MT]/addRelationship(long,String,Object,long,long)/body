{
  assertValidKey(key);
  EntityId.RelationshipData entity=new EntityId.RelationshipData(entityId,startNode,endNode);
  for (  Object oneValue : IoPrimitiveUtils.asArray(value)) {
    oneValue=getCorrectValue(oneValue);
    transaction.add(this,entity,key,oneValue);
    commandFactory.addRelationship(identifier.indexName,entityId,key,oneValue,startNode,endNode);
  }
}
