{
  if (map == null) {
    return false;
  }
  if (readOnly) {
    if (!map.containsKey(o)) {
      return false;
    }
    map=new HashMap<>(map);
    readOnly=false;
  }
  return map.remove(o) == PRESENT;
}
