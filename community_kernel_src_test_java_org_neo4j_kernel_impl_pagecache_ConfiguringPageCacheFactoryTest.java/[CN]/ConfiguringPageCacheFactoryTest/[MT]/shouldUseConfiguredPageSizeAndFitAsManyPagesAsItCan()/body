{
  final int pageSize=4096;
  final int maxPages=60;
  Config config=new Config();
  config.applyChanges(stringMap(mapped_memory_page_size.name(),"" + pageSize,pagecache_memory.name(),Integer.toString(pageSize * maxPages)));
  ConfiguringPageCacheFactory factory=new ConfiguringPageCacheFactory(fsRule.get(),config,PageCacheTracer.NULL,NullLog.getInstance());
  try (PageCache cache=factory.getOrCreatePageCache()){
    assertThat(cache.pageSize(),equalTo(pageSize));
    assertThat(cache.maxCachedPages(),equalTo(maxPages));
  }
 }
