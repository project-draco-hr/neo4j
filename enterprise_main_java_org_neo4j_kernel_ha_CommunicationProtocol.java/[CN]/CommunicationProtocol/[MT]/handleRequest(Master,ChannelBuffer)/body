{
  RequestType type=RequestType.values()[buffer.readByte()];
  final SlaveContext context=readSlaveContext(buffer);
  Response<?> response=type.caller.callMaster(realMaster,context,buffer);
  ChannelBuffer targetBuffer=ChannelBuffers.dynamicBuffer();
  type.serializer.write(response.response(),targetBuffer);
  writeTransactionStreams(response.transactions(),targetBuffer);
  return targetBuffer;
}
