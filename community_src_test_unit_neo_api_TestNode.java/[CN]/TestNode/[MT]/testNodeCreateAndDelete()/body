{
  int nodeId=-1;
  try {
    Node node=NodeManager.getManager().createNode();
    nodeId=(int)node.getId();
    NodeManager.getManager().getNodeById(nodeId);
    node.delete();
    try {
      TransactionFactory.getUserTransaction().commit();
    }
 catch (    Exception e) {
      fail("Commit failed.");
    }
  }
 catch (  NotFoundException e) {
    fail("" + e);
  }
  try {
    TransactionFactory.getUserTransaction().begin();
  }
 catch (  Exception e) {
    fail("Begin transaction.");
  }
  try {
    NodeManager.getManager().getNodeById(nodeId);
    fail("Node[" + nodeId + "] should be deleted.");
  }
 catch (  NotFoundException e) {
  }
}
