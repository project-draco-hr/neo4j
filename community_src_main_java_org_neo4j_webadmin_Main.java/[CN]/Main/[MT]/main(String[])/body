{
  try {
    Args args=new Args(strArgs);
    System.setProperty("org.neo4j.webadmin.developmentmode",args.get("development","false"));
    System.setProperty("org.neo4j.graphdb.location",args.get("dbPath","neo4j-rest-db"));
    System.setProperty("org.neo4j.webadmin.rrdb.location",args.get("rrdbPath","neo4j-rrdb"));
    int restPort=args.getNumber("restPort",WebServerFactory.DEFAULT_PORT).intValue();
    int adminPort=args.getNumber("adminPort",AdminServer.DEFAULT_PORT()).intValue();
    String db_location=System.getProperty("org.neo4j.graphdb.location");
    System.out.println("graphdb-location: " + db_location);
    String webRoot=args.get("webRoot",AdminServer.DEFAULT_STATIC_PATH());
    System.out.println("Starting web servers..");
    WebServerFactory.getDefaultWebServer().startServer(restPort);
    AdminServer.INSTANCE.startServer(adminPort,webRoot);
    System.out.println("Starting backup scheduler..");
    BackupManager.INSTANCE.start();
    System.out.println("Starting round-robin system state sampler..");
    RrdSampler.INSTANCE.start();
    System.out.println(String.format("Running database at [%s]",System.getProperty("org.neo4j.graphdb.location")));
    System.out.println(String.format("Running REST at [%s]",WebServerFactory.getLocalhostBaseUri(restPort)));
    System.out.println(String.format("Running admin interface at [%s]",AdminServer.getLocalhostBaseUri(adminPort)));
    System.out.println("\nPress Ctrl-C to kill the server");
    Runtime.getRuntime().addShutdownHook(new Thread(){
      @Override public void run(){
        shutdown();
      }
    }
);
  }
 catch (  Exception e) {
    System.out.println("\nStartup failed:");
    e.printStackTrace();
    shutdown();
  }
}
