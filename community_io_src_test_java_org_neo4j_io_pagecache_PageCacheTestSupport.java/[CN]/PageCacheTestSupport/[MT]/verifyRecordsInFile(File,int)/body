{
  StoreChannel channel=fs.open(file,"r");
  ByteBuffer buf=ByteBuffer.allocate(recordSize);
  ByteBuffer observation=ByteBuffer.allocate(recordSize);
  for (int i=0; i < recordCount; i++) {
    generateRecordForId(i,buf);
    observation.position(0);
    channel.read(observation);
    assertRecord(i,observation,buf);
  }
  channel.close();
}
