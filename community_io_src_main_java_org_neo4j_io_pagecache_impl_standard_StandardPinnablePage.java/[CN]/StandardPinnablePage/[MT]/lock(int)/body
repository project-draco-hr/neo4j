{
switch (pf_flags & (PF_EXCLUSIVE_LOCK | PF_SHARED_LOCK)) {
case PF_EXCLUSIVE_LOCK:
    lock.writeLock().lock();
  dirty=true;
return;
case PF_SHARED_LOCK:
lock.readLock().lock();
return;
case PF_EXCLUSIVE_LOCK | PF_SHARED_LOCK:
throw new IllegalArgumentException("Invalid flags: cannot ask to pin a page with both a shared and an exclusive lock");
default :
throw new IllegalArgumentException("Invalid flags: must specify either shared or exclusive lock for page pinning");
}
}
