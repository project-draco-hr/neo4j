{
  try {
    byte type=channel.get();
switch (PhysicalRaftLog.RecordType.forValue(type)) {
case APPEND:
      currentRecord.set(RaftLogAppendRecord.read(channel,marshal));
    return true;
case COMMIT:
  currentRecord.set(RaftLogCommitRecord.read(channel));
return true;
case CONTINUATION:
currentRecord.set(RaftLogContinuationRecord.read(channel));
return true;
default :
throw new IllegalStateException("Not really sure how we got here. Read type value was " + type);
}
}
 catch (ReadPastEndException notEnoughBytes) {
return false;
}
}
