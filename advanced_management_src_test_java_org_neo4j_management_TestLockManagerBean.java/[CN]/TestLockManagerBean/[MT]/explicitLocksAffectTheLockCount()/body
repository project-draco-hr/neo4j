{
  try (Transaction tx=graphDb.beginTx()){
    Node root=graphDb.createNode();
    Lock first=tx.acquireReadLock(root);
    LockInfo lock;
    tx.acquireReadLock(root);
    lock=getSingleLock();
    assertThat(lock.getDescription(),containsString("Total lock count: readCount=1 " + "writeCount=1 for NODE(0)\nWaiting list:\nLocking transactions:\nLockClient[1](1r,1w)\n"));
    tx.acquireWriteLock(root);
    lock=getSingleLock();
    assertThat(lock.getDescription(),containsString("Total lock count: readCount=1 " + "writeCount=1 for NODE(0)\nWaiting list:\nLocking transactions:\nLockClient[1](1r,1w)\n"));
    first.release();
    lock=getSingleLock();
    assertThat(lock.getDescription(),containsString("Total lock count: readCount=1 " + "writeCount=1 for NODE(0)\nWaiting list:\nLocking transactions:\nLockClient[1](1r,1w)\n"));
  }
   List<LockInfo> locks=lockManager.getLocks();
  assertEquals("unexpected lock count",0,locks.size());
}
