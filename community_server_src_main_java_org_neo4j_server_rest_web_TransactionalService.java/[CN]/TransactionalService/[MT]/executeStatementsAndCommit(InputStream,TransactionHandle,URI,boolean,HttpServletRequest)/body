{
  return new StreamingOutput(){
    @Override public void write(    OutputStream output) throws IOException, WebApplicationException {
      OutputStream wrappedOutput=pristine ? new InterruptingOutputStream(output,transactionHandle) : output;
      transactionHandle.commit(facade.deserializer(input),facade.serializer(wrappedOutput,requestUri),pristine,request);
    }
  }
;
}
