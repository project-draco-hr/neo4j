{
  V previousValue=map.putIfAbsent(key,value);
  if (previousValue != null) {
    throw new IllegalArgumentException(format("Attempted to register an already seen value to the log entry cache. " + "Key: %s; New Value: %s; Previous Value: %s",key,value,previousValue));
  }
}
