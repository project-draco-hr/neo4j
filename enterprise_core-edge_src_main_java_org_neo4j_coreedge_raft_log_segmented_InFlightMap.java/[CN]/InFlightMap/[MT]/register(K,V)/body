{
  V previousValue=map.put(key,value);
  if (previousValue != null) {
    map.put(key,previousValue);
    throw new IllegalArgumentException(format("Attempted to register an already seen value to the log entry cache. Key: %s Value: %s",key,value));
  }
}
