{
  StartupHealthCheck healthCheck=new StartupHealthCheck(new ConfigFileMustBePresentRule());
  if (!healthCheck.run()) {
    throw new StartupHealthCheckFailedException("Startup healthcheck failed, server is not properly configured. Check logs for details.");
  }
  this.configurator=new Configurator(new Validator(new DatabaseLocationMustBeSpecifiedRule()),getConfigFile());
  this.database=new Database(configurator.configuration().getString(DATABASE_LOCATION));
  this.webServer=new Jetty6WebServer();
}
