{
  final VersionAwareLogEntryReader logEntryReader=new VersionAwareLogEntryReader(commandReaderFactory);
  final LogEntryStart start=new LogEntryStart(version,1,2,3,4,new byte[]{5},new LogPosition(0,31));
  final InMemoryLogChannel channel=new InMemoryLogChannel();
  channel.put(version);
  channel.put(LogEntry.TX_START);
  channel.putInt(start.getMasterId());
  channel.putInt(start.getLocalId());
  channel.putLong(start.getTimeWritten());
  channel.putLong(start.getLastCommittedTxWhenTransactionStarted());
  channel.putInt(start.getAdditionalHeader().length);
  channel.put(start.getAdditionalHeader(),start.getAdditionalHeader().length);
  final LogEntry logEntry=logEntryReader.readLogEntry(channel);
  assertEquals(start,logEntry);
}
