{
  try {
    Set<ObjectName> names=getPlatformMBeanServer().queryNames(new ObjectName("org.apache.ZooKeeperService:name0=ReplicatedServer_id*"),null);
    if (names.isEmpty())     return 0;
    QuorumMXBean quorum=MBeanServerInvocationHandler.newProxyInstance(getPlatformMBeanServer(),names.iterator().next(),QuorumMXBean.class,false);
    return quorum.getQuorumSize();
  }
 catch (  Exception e) {
    return 0;
  }
}
