{
  for (  final MemoryPoolMXBean memPool : ManagementFactory.getMemoryPoolMXBeans()) {
    registry.register(name(MEMORY_POOL,prettifyName(memPool.getName())),new Gauge<Long>(){
      @Override public Long getValue(){
        return memPool.getUsage().getUsed();
      }
    }
);
  }
}
