{
  Response response=service.jsonCreateNode("{\"foo\" : \"bar\"}");
  assertEquals(201,response.getStatus());
  assertNotNull(response.getMetadata().get("Location").get(0));
  assertEquals(response.getMetadata().getFirst(HttpHeaders.CONTENT_ENCODING),"UTF-8");
  String json=entityAsString(response);
  Map<String,Object> map=JsonHelper.jsonToMap(json);
  assertNotNull(map);
  assertTrue(map.containsKey("self"));
  @SuppressWarnings("unchecked") Map<String,Object> data=(Map<String,Object>)map.get("data");
  assertEquals("bar",data.get("foo"));
}
