{
  InMemoryLogChannel channel=new InMemoryLogChannel(1000);
  CommandWriter commandWriter=new CommandWriter(channel);
  IndexDefineCommand command=mock(IndexDefineCommand.class);
  Map<String,Integer> largeMap=initMap(0xFFFF + 1);
  when(command.getIndexNameIdRange()).thenReturn(largeMap);
  when(command.getKeyIdRange()).thenReturn(largeMap);
  try {
    commandWriter.visitIndexDefineCommand(command);
    fail("Expected an AssertionError");
  }
 catch (  AssertionError e) {
  }
}
