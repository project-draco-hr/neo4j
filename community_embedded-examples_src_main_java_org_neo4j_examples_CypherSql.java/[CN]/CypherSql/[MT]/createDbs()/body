{
  sqldb=DriverManager.getConnection("jdbc:hsqldb:mem:cyphersqltests;shutdown=true");
  sqldb.setAutoCommit(true);
  identifierQuoteString=sqldb.getMetaData().getIdentifierQuoteString();
  createPersons();
  createGroups();
  createEmail();
  try (Transaction tx=graphdb.beginTx()){
    graphdb.schema().awaitIndexesOnline(30,TimeUnit.SECONDS);
    tx.success();
  }
   queries=new ArrayList<TestData>(){
{
      add(new TestData("Start","SELECT * FROM `Person` WHERE name = 'Anakin'".replace("`",identifierQuoteString),"MATCH (person:Person {name: 'Anakin'}) RETURN person","Anakin","20","1 row"));
      add(new TestData("Match","SELECT `Email`.* FROM `Person` JOIN `Email` ON `Person`.id = `Email`.person_id WHERE `Person`.name = 'Anakin'".replace("`",identifierQuoteString),"MATCH (person:Person {name: 'Anakin'})-[:email]->(email) RETURN email","anakin@example.com","anakin@example.org","2 rows"));
      add(new TestData("JoinEntity","SELECT `Group`.*, `Person_Group`.* FROM `Person` JOIN `Person_Group` ON `Person`.id = `Person_Group`.person_id JOIN `Group` ON `Person_Group`.Group_id=`Group`.id WHERE `Person`.name = 'Bridget'".replace("`",identifierQuoteString),"MATCH (person:Person {name: 'Bridget'})-[r:belongs_to]->(group) RETURN group, r","Admin","1 row"));
      add(new TestData("LeftJoin","SELECT `Person`.name, `Email`.address FROM `Person` LEFT JOIN `Email` ON `Person`.id = `Email`.person_id".replace("`",identifierQuoteString),"MATCH (person:Person) WHERE has(person.name) OPTIONAL MATCH (person)-[:email]->(email) RETURN person.name, email.address","Anakin","anakin@example.org","Bridget","<null>","3 rows"));
      add(new TestData("RecursiveJoin",null,"MATCH (person:Person {name: 'Bridget'})-[:belongs_to*]->(group) RETURN person.name, group.name","Bridget","Admin","Technichian","User","3 rows"));
      add(new TestData("Where","SELECT * FROM `Person` WHERE `Person`.age > 35 AND `Person`.hair = 'blonde'".replace("`",identifierQuoteString),"MATCH (person:Person) WHERE has(person.name) AND person.age > 35 AND person.hair = 'blonde' RETURN person","Bridget","blonde","1 row"));
      add(new TestData("Return","SELECT `Person`.name, count(*) FROM `Person` GROUP BY `Person`.name ORDER BY `Person`.name".replace("`",identifierQuoteString),"MATCH (person:Person) WHERE has(person.name) RETURN person.name, count(*) ORDER BY person.name","Bridget","Anakin","2 rows"));
    }
  }
;
}
