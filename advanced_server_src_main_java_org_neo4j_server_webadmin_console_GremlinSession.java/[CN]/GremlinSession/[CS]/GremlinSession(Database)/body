{
  this.database=database;
  PrintStream out=new PrintStream(new BufferedOutputStream(baos));
  io=new IO(System.in,out,out);
  Map<String,Object> bindings=new HashMap<String,Object>();
  bindings.put("g",getGremlinWrappedGraph());
  bindings.put("out",out);
  initialBindings=new ArrayList<String>(bindings.keySet());
  try {
    scriptEngine=new GremlinWebConsole(new Binding(bindings),io);
  }
 catch (  final Exception failure) {
    scriptEngine=new GremlinWebConsole(){
      @Override public void execute(      String script){
        io.out.println("Could not start Groovy during Gremlin initialization, reason:");
        failure.printStackTrace(io.out);
      }
    }
;
  }
}
