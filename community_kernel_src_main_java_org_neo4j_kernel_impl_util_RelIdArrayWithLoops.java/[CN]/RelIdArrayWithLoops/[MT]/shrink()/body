{
  IdBlock lastOutBlock=DirectionWrapper.OUTGOING.getLastBlock(this);
  IdBlock lastInBlock=DirectionWrapper.INCOMING.getLastBlock(this);
  IdBlock shrunkOut=lastOutBlock != null ? lastOutBlock.shrink() : null;
  IdBlock shrunkIn=lastInBlock != null ? lastInBlock.shrink() : null;
  IdBlock shrunkLoop=lastLoopBlock != null ? lastLoopBlock.shrink() : null;
  return shrunkOut == lastOutBlock && shrunkIn == lastInBlock && shrunkLoop == lastLoopBlock ? this : new RelIdArrayWithLoops(getType(),shrunkOut,shrunkIn,shrunkLoop);
}
