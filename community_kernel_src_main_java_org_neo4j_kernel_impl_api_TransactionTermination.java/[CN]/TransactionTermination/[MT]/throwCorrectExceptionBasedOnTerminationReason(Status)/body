{
  if (reason != null) {
    if (reason.code().classification() == Status.Classification.TransientError) {
      throw new TransientTransactionFailureException(reason.code().description());
    }
    throw new TransactionTerminatedException();
  }
}
