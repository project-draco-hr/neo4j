{
  AutoIndexer<Node> nodeAutoIndexer=graphDb.index().getNodeAutoIndexer();
  AutoIndexer<Relationship> relAutoIndexer=graphDb.index().getRelationshipAutoIndexer();
  nodeAutoIndexer.setAutoIndexingEnabled(true);
  relAutoIndexer.setAutoIndexingEnabled(true);
  nodeAutoIndexer.startAutoIndexingProperty("testProp");
  nodeAutoIndexer.stopAutoIndexingProperty("testProp");
  relAutoIndexer.startAutoIndexingProperty("inThere");
  try {
    relAutoIndexer.startIgnoringProperty("notThere");
    fail("Ignoring property while there are auto indexed ones is an error");
  }
 catch (  Exception e) {
  }
  relAutoIndexer.stopAutoIndexingProperty("inThere");
  relAutoIndexer.startIgnoringProperty("dontWannaSee");
  try {
    relAutoIndexer.startAutoIndexingProperty("notThere");
    fail("Adding a new auto indexed property while there are non-auto indexed ones is an error");
  }
 catch (  Exception e) {
  }
}
