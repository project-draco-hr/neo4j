{
  if (tx != null) {
    tx.finish();
  }
  if (graphDb != null) {
    graphDb.shutdown();
  }
  final File currentWorkDir=getWorkDir();
  new Thread(new Runnable(){
    public void run(){
      try {
        FileUtils.deleteRecursively(currentWorkDir);
      }
 catch (      IOException e) {
        System.err.println("The following exception can be ignored, it is a locking issue on windows. If on linux, investigate");
        e.printStackTrace();
      }
    }
  }
).start();
  tx=null;
  config=null;
  graphDb=null;
}
