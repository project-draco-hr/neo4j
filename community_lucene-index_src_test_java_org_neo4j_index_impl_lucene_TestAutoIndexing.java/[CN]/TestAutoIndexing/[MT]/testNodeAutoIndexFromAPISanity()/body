{
  AutoIndexer<Node> autoIndexer=graphDb.index().getNodeAutoIndexer();
  autoIndexer.startAutoIndexingProperty("test_uuid");
  autoIndexer.setEnabled(true);
  assertEquals(1,autoIndexer.getAutoIndexedProperties().size());
  assertTrue(autoIndexer.getAutoIndexedProperties().contains("test_uuid"));
  assertTrue(autoIndexer.getIgnoredProperties().isEmpty());
  newTransaction();
  Node node1=graphDb.createNode();
  node1.setProperty("test_uuid","node1");
  Node node2=graphDb.createNode();
  node2.setProperty("test_uuid","node2");
  assertFalse(autoIndexer.getAutoIndex().get("test_uuid","node1").hasNext());
  assertFalse(autoIndexer.getAutoIndex().get("test_uuid","node2").hasNext());
  newTransaction();
  assertEquals(node1,autoIndexer.getAutoIndex().get("test_uuid","node1").getSingle());
  assertEquals(node2,autoIndexer.getAutoIndex().get("test_uuid","node2").getSingle());
}
