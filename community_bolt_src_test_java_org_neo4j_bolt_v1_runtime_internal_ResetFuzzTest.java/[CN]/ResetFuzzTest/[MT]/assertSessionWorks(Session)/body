{
  RecordingCallback recorder=new RecordingCallback();
  session.reset(recorder);
  try {
    assertThat(recorder,recorded(success()));
    assertThat(ssm.state(),equalTo(IDLE));
    assertThat(liveTransactions.get(),equalTo(0L));
  }
 catch (  AssertionError e) {
    throw new AssertionError(String.format("Expected session to return to good state after RESET, but " + "assertion failed: %s.%n" + "Seed: %s%n"+ "Messages sent:%n"+ "%s",e.getMessage(),seed,Iterables.toString(sent,"\n")),e);
  }
}
