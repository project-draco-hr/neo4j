{
  try {
    long used=(Long)((CompositeDataSupport)mbeanServer.getAttribute(memoryName,"HeapMemoryUsage")).get("used");
    long max=100 * (Long)((CompositeDataSupport)mbeanServer.getAttribute(memoryName,"HeapMemoryUsage")).get("max");
    return used / max;
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
