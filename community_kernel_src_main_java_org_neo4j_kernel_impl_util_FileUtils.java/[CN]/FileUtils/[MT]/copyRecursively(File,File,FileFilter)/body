{
  for (  File fromFile : fromDirectory.listFiles(filter)) {
    File toFile=new File(toDirectory,fromFile.getName());
    if (fromFile.isDirectory()) {
      Files.createDirectories(toFile.toPath());
      copyRecursively(fromFile,toFile,filter);
    }
 else {
      copyFile(fromFile,toFile);
    }
  }
}
