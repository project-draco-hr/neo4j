{
  try (SegmentFile segment=create(fsRule.get(),raftLogFile,contentMarshal,logProvider,segmentHeader)){
    segment.write(0,entry1);
    segment.write(1,entry2);
    segment.write(2,entry3);
    segment.write(3,entry4);
    IOCursor<EntryRecord> reader=segment.getReader(2);
    assertTrue(reader.next());
    assertEquals(entry3,reader.get().logEntry());
  }
 }
