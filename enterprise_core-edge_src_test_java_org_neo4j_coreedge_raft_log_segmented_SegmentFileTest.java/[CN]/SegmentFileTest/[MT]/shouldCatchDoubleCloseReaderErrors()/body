{
  try (SegmentFile segment=create(fsRule.get(),fileNames.getForVersion(0),readerPool,0,contentMarshal,logProvider,segmentHeader)){
    IOCursor<EntryRecord> reader=segment.getReader(0);
    reader.close();
    reader.close();
    fail("Should have caught double close error");
  }
 catch (  IllegalStateException e) {
  }
}
