{
  OnDemandJobScheduler demandJobScheduler=new OnDemandJobScheduler();
  UpdatePullerScheduler pullerScheduler=new UpdatePullerScheduler(updatePuller,demandJobScheduler,logging,10);
  pullerScheduler.init();
  demandJobScheduler.runJob();
  verify(updatePuller).pullUpdates();
  assertNotNull("Job should be scheduled",demandJobScheduler.getJob());
  pullerScheduler.shutdown();
  assertNull("Job should be canceled",demandJobScheduler.getJob());
}
