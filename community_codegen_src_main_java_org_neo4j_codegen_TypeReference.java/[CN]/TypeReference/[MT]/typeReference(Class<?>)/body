{
  if (type == void.class) {
    return VOID;
  }
  if (type == Object.class) {
    return OBJECT;
  }
  String packageName="", simpleName;
  if (type.isArray()) {
    simpleName=type.getComponentType().getCanonicalName() + "[]";
  }
 else   if (type.isPrimitive()) {
    simpleName=type.getName();
  }
 else {
    packageName=type.getPackage().getName();
    String canonicalName=type.getCanonicalName();
    simpleName=canonicalName.substring(packageName.length() + 1);
  }
  return new TypeReference(packageName,simpleName);
}
