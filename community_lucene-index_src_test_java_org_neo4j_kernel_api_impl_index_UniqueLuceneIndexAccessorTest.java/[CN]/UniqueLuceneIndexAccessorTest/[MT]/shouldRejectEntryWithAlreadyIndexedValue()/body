{
  UniqueLuceneIndexAccessor accessor=createAccessor();
  updateAndCommit(accessor,asList(add(1l,"value1")));
  try {
    updateAndCommit(accessor,asList(add(2l,"value1")));
    fail("expected exception");
  }
 catch (  PreexistingIndexEntryConflictException conflict) {
    assertConflict(conflict,"value1",1l,2l);
  }
}
