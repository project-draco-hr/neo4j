{
  final Set<Node> nodes=new HashSet<Node>();
  for (  Node node : traverser) {
    nodes.add(node);
  }
  return new Walker(){
    @Override public <R,E extends Throwable>R accept(    Visitor<R,E> visitor) throws E {
      for (      Node node : nodes) {
        visitor.visitNode(node);
        for (        Relationship relationship : node.getRelationships(types)) {
          if (nodes.contains(relationship.getOtherNode(node))) {
            visitor.visitRelationship(relationship);
          }
        }
      }
      return visitor.done();
    }
  }
;
}
