{
  StringBuilder sb=new StringBuilder();
  sb.append("http");
  if (isSsl) {
    sb.append("s");
  }
  sb.append("://");
  sb.append(address.getHostname());
  int port=address.getPort();
  if (port != 80 && port != 443) {
    sb.append(":");
    sb.append(port);
  }
  sb.append("/");
  try {
    return new URI(sb.toString());
  }
 catch (  URISyntaxException e) {
    throw new RuntimeException(e);
  }
}
