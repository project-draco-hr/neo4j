{
  lastSeenEventIdentifier=new AtomicInteger(-1);
  master=mock(Master.class);
  requestContext=new RequestContext(10,11,12,13,14);
  reqFactory=new ConstantRequestContextFactory(requestContext){
    @Override public RequestContext newRequestContext(    int eventIdentifier){
      lastSeenEventIdentifier.set(eventIdentifier);
      return super.newRequestContext(eventIdentifier);
    }
  }
;
  response=new LongResponse(42L);
  tx=new PhysicalTransactionRepresentation(Collections.<Command>emptyList());
  tx.setHeader(new byte[]{},1,1,1,1,1,1337);
  commitProcess=new SlaveTransactionCommitProcess(master,reqFactory);
}
