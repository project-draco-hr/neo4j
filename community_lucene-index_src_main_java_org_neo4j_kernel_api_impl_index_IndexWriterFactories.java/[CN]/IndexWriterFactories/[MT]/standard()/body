{
  return new LuceneIndexWriterFactory(){
    @Override public IndexWriter create(    Directory directory) throws IOException {
      IndexWriterConfig writerConfig=new IndexWriterConfig(Version.LUCENE_36,LuceneDataSource.KEYWORD_ANALYZER);
      writerConfig.setMaxBufferedDocs(100000);
      writerConfig.setIndexDeletionPolicy(new MultipleBackupDeletionPolicy());
      writerConfig.setTermIndexInterval(14);
      LogByteSizeMergePolicy mergePolicy=new LogByteSizeMergePolicy();
      mergePolicy.setUseCompoundFile(true);
      mergePolicy.setNoCFSRatio(1.0);
      mergePolicy.setMinMergeMB(0.1);
      mergePolicy.setMergeFactor(2);
      writerConfig.setMergePolicy(mergePolicy);
      return new IndexWriter(directory,writerConfig);
    }
  }
;
}
