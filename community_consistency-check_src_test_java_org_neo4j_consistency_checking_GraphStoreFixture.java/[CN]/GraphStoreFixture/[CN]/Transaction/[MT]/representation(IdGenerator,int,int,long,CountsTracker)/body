{
  TransactionWriter writer=new TransactionWriter();
  try (CountsAccessor.Updater updater=counts.apply(lastCommittedTx + 1).get()){
    transactionData(new TransactionDataBuilder(writer,updater),idGenerator);
  }
   return writer.representation(new byte[0],masterId,authorId,startTimestamp,lastCommittedTx,currentTimeMillis());
}
