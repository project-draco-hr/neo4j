{
  File legacyStoreDir=exampleDbStore();
  File propertyStoreFile=new File(legacyStoreDir,"neostore.propertystore.db");
  File stringStoreFile=new File(legacyStoreDir,"neostore.propertystore.db.strings");
  File arrayStoreFile=new File(legacyStoreDir,"neostore.propertystore.db.arrays");
  LegacyPropertyStoreReader reader=new LegacyPropertyStoreReader(fs,propertyStoreFile);
  LegacyPropertyRecord propertyRecord=reader.readPropertyRecord(25);
  int keyIndexId=propertyRecord.getKeyIndexId();
  assertEquals(3,keyIndexId);
  LegacyDynamicRecordFetcher dynamicRecordReader=new LegacyDynamicRecordFetcher(fs,stringStoreFile,arrayStoreFile);
  Object value=propertyRecord.getType().getValue(propertyRecord,dynamicRecordReader);
  assertEquals(1000,((String)value).length());
  reader.close();
  dynamicRecordReader.close();
}
