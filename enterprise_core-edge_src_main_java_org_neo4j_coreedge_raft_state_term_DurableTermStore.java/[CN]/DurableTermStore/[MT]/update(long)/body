{
  if (newTerm < term) {
    throw new IllegalArgumentException("Cannot move to a lower term");
  }
  try {
    ByteBuffer buffer=ByteBuffer.allocate(TERM_BYTES);
    buffer.putLong(newTerm);
    buffer.flip();
    channel.writeAll(buffer,0);
    channel.force(false);
    termMonitor.term(newTerm);
  }
 catch (  IOException e) {
    throw new RaftStorageException("Failed to update term",e);
  }
  term=newTerm;
}
