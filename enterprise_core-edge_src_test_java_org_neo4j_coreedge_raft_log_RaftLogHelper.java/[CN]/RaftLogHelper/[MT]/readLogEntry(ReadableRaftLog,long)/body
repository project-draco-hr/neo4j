{
  try {
    try (RaftLogCursor cursor=raftLog.getEntryCursor(index)){
      if (cursor.next()) {
        return cursor.get();
      }
    }
   }
 catch (  IOException e) {
    if (e.getCause() instanceof RaftLogCompactedException) {
      throw (RaftLogCompactedException)e.getCause();
    }
    throw e;
  }
  throw new RaftLogCompactedException("Asked for raft log entry at index " + index + " but it was not found");
}
