{
  if (!readAndFlip(byteChannel,buffer,1)) {
    return null;
  }
  byte commandType=buffer.get();
switch (commandType) {
case NODE_COMMAND:
    return NodeCommand.readFromFile(neoStore,byteChannel,buffer);
case PROP_COMMAND:
  return PropertyCommand.readFromFile(neoStore,byteChannel,buffer);
case PROP_INDEX_COMMAND:
return PropertyKeyTokenCommand.readFromFile(neoStore,byteChannel,buffer);
case REL_COMMAND:
return RelationshipCommand.readFromFile(neoStore,byteChannel,buffer);
case REL_TYPE_COMMAND:
return RelationshipTypeTokenCommand.readFromFile(neoStore,byteChannel,buffer);
case LABEL_KEY_COMMAND:
return LabelTokenCommand.readFromFile(neoStore,byteChannel,buffer);
case NEOSTORE_COMMAND:
return NeoStoreCommand.readFromFile(neoStore,byteChannel,buffer);
case SCHEMA_RULE_COMMAND:
return SchemaRuleCommand.readFromFile(neoStore,indexes,byteChannel,buffer);
case REL_GROUP_COMMAND:
return RelationshipGroupCommand.readFromFile(neoStore,byteChannel,buffer);
case NONE:
return null;
default :
throw new IOException("Unknown command type[" + commandType + "]");
}
}
