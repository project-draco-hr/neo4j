{
  if (record.inUse()) {
    byte inUse=Record.IN_USE.byteValue();
    buffer.putLong(record.getId()).putInt(record.getType()).put(inUse).putInt(record.getLength()).putLong(record.getNextBlock());
    byte[] data=record.getData();
    if (data != null)     buffer.put(data);
  }
 else {
    byte inUse=Record.NOT_IN_USE.byteValue();
    buffer.putLong(record.getId()).putInt(record.getType()).put(inUse);
  }
}
