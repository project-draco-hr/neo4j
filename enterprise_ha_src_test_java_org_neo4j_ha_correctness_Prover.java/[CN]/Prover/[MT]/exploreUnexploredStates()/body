{
  while (!unexploredKnownStates.isEmpty()) {
    ClusterState state=unexploredKnownStates.poll();
    Iterator<Pair<ClusterAction,ClusterState>> newStates=state.transitions();
    while (newStates.hasNext()) {
      Pair<ClusterAction,ClusterState> next=newStates.next();
      System.out.println(db.numberOfKnownStates() + " (" + unexploredKnownStates.size()+ ")");
      ClusterState nextState=next.other();
      if (!db.isKnownState(nextState)) {
        db.newStateTransition(state,next);
        unexploredKnownStates.offer(nextState);
        if (nextState.isDeadEnd()) {
          System.out.println("DEAD END: " + nextState.toString() + " ("+ db.id(nextState)+ ")");
        }
      }
    }
  }
}
