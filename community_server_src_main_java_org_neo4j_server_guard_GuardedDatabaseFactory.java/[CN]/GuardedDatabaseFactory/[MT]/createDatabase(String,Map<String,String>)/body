{
  final GraphDatabaseService db=dbFactory.createDatabase(databaseStoreDirectory,databaseProperties);
  return new WrappedGraphDatabase(db){
    @Override protected WrappedNode<WrappedGraphDatabase> node(    final Node node,    boolean created){
      guard.check();
      if (node == null) {
        return null;
      }
      return new WrappedNode<WrappedGraphDatabase>(this){
        @Override protected Node actual(){
          return node;
        }
      }
;
    }
    @Override protected WrappedRelationship<WrappedGraphDatabase> relationship(    final Relationship relationship,    boolean created){
      guard.check();
      if (relationship == null) {
        return null;
      }
      return new WrappedRelationship<WrappedGraphDatabase>(this){
        @Override protected Relationship actual(){
          return relationship;
        }
      }
;
    }
  }
;
}
