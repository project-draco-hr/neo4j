{
  HashMap<Long,Object> result=new HashMap<>();
  for (  WritableTransactionState.CowNodeElement changedNode : state.getChangedNodes()) {
    if (changedNode.isDeleted()) {
      result.put(changedNode.getId(),new Object());
      continue;
    }
    PropertyData added=propertyChange(changedNode.getPropertyAddMap(false),propertyKeyId);
    if (added != null) {
      result.put(changedNode.getId(),added.getValue());
    }
 else     if (null != propertyChange(changedNode.getPropertyRemoveMap(false),propertyKeyId)) {
      result.put(changedNode.getId(),new Object());
    }
  }
  return result;
}
