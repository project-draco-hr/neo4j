{
  RelationshipImpl relationship=nodeManager.getRelationshipForProxy(relationshipId,null);
  boolean success=false;
  try {
    ArrayMap<Integer,DefinedProperty> skipMap=state.getOrCreateCowPropertyRemoveMap(relationship);
    ArrayMap<Integer,DefinedProperty> removedProps=nodeManager.deleteRelationship(relationship,state);
    if (removedProps.size() > 0) {
      for (      Integer index : removedProps.keySet()) {
        skipMap.put(index,removedProps.get(index));
      }
    }
    success=true;
  }
  finally {
    if (!success) {
      nodeManager.setRollbackOnly();
    }
  }
}
