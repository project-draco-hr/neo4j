{
  if (added == null) {
    while (cursor.next()) {
      if (changedProperties != null) {
        Property property=changedProperties.get(cursor.getProperty().propertyKeyId());
        if (property != null) {
          this.property=(DefinedProperty)property;
          return true;
        }
      }
      if (removedProperties == null || !removedProperties.containsKey(cursor.getProperty().propertyKeyId())) {
        this.property=cursor.getProperty();
        return true;
      }
    }
    if (addedProperties != null) {
      added=addedProperties.values().iterator();
    }
  }
  if (added != null && added.hasNext()) {
    property=added.next();
    return true;
  }
 else {
    property=null;
    return false;
  }
}
