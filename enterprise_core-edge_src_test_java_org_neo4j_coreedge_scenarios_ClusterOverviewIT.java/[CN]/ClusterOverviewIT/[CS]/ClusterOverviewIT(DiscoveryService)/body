{
switch (discoveryService) {
case SHARED:
    clusterRule.withDiscoveryServiceFactory(new SharedDiscoveryService());
  break;
case HAZELCAST:
clusterRule.withDiscoveryServiceFactory(new HazelcastDiscoveryServiceFactory());
break;
default :
throw new IllegalArgumentException();
}
}
