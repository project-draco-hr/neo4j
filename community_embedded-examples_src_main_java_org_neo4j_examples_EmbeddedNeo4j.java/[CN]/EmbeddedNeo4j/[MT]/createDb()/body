{
  clearDb();
  graphDb=new GraphDatabaseFactory().newEmbeddedDatabaseBuilder(DB_PATH).newGraphDatabase();
  registerShutdownHook(graphDb);
  Transaction tx=graphDb.beginTx();
  try {
    firstNode=graphDb.createNode();
    firstNode.setProperty("message","Hello, ");
    secondNode=graphDb.createNode();
    secondNode.setProperty("message","World!");
    relationship=firstNode.createRelationshipTo(secondNode,RelTypes.KNOWS);
    relationship.setProperty("message","brave Neo4j ");
    System.out.print(firstNode.getProperty("message"));
    System.out.print(relationship.getProperty("message"));
    System.out.print(secondNode.getProperty("message"));
    greeting=((String)firstNode.getProperty("message")) + ((String)relationship.getProperty("message")) + ((String)secondNode.getProperty("message"));
    tx.success();
  }
  finally {
    tx.finish();
  }
}
