{
  RotatingFileOutputStreamSupplier supplier=new RotatingFileOutputStreamSupplier(fileSystem,logFile,10,0,10,DIRECT_EXECUTOR);
  OutputStream outputStream=supplier.get();
  write(outputStream,"A string longer than 10 bytes");
  OutputStream outputStream2=supplier.get();
  assertThat(outputStream2,not(outputStream));
  supplier.close();
  assertStreamClosed(outputStream);
  assertStreamClosed(outputStream2);
}
