{
  ManualExecutor executor=new ManualExecutor();
  RotatingFileOutputStreamSupplier supplier=new RotatingFileOutputStreamSupplier(fileSystem,logFile,10,0,10,executor);
  OutputStream outputStream=supplier.get();
  write(outputStream,"A string longer than 10 bytes");
  assertThat(supplier.get(),is(outputStream));
  assertThat(executor.isScheduled(),is(true));
  write(outputStream,"A string longer than 10 bytes");
  assertThat(supplier.get(),is(outputStream));
  executor.runTask();
  assertThat(supplier.get(),not(outputStream));
}
