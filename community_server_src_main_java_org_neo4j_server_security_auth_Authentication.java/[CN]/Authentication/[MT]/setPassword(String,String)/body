{
  User user=users.findByName(name);
  if (user != null) {
    try {
      String salt=randomSalt();
      users.save(user.augment().withCredentials(new Credentials(salt,DIGEST_ALGO,hash(salt,password,DIGEST_ALGO))).withRequiredPasswordChange(false).build());
    }
 catch (    IllegalTokenException|IllegalUsernameException e) {
      throw new ThisShouldNotHappenError("Jake","Token/username are not being modified.",e);
    }
  }
 else {
    throw new RuntimeException("No such user: " + name);
  }
}
