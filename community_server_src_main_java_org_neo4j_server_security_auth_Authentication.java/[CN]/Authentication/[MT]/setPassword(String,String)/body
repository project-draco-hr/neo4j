{
  User user=users.findByName(name);
  if (user != null) {
    try {
      User updatedUser=user.augment().withCredentials(createPasswordCredential(password)).withRequiredPasswordChange(false).build();
      users.save(updatedUser);
      return updatedUser;
    }
 catch (    IllegalTokenException|IllegalUsernameException e) {
      throw new ThisShouldNotHappenError("Jake","Token/username are not being modified.",e);
    }
  }
 else {
    throw new RuntimeException("No such user: " + name);
  }
}
