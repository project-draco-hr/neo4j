{
  final BoltStateMachine machine=newMachine(READY);
  machine.interrupt();
  machine.interrupt();
  BoltResponseRecorder recorder=new BoltResponseRecorder();
  machine.run("RETURN 1",EMPTY_PARAMS,recorder);
  machine.reset(recorder);
  machine.run("RETURN 1",EMPTY_PARAMS,recorder);
  assertThat(recorder.nextResponse(),wasIgnored());
  assertThat(recorder.nextResponse(),wasIgnored());
  assertThat(recorder.nextResponse(),wasIgnored());
  recorder.reset();
  machine.reset(recorder);
  machine.run("RETURN 1",EMPTY_PARAMS,recorder);
  assertThat(recorder.nextResponse(),succeeded());
  assertThat(recorder.nextResponse(),succeeded());
}
