{
  Clusters.Cluster cluster=clusters.getCluster(config.get(ClusterSettings.cluster_name));
  if (cluster == null) {
    clusters.getClusters().add(cluster=new Clusters.Cluster(config.get(ClusterSettings.cluster_name)));
  }
  if (cluster.contains(serverId)) {
  }
 else {
    cluster.getMembers().add(new Clusters.Member(serverId.getHost() + (serverId.getPort() == -1 ? "" : ":" + serverId.getPort())));
    Document document=new ClustersXMLSerializer(builder).write(clusters);
    if (clustersUri.getScheme().equals("file")) {
      File clustersFile=new File(clustersUri);
      if (clustersFile.lastModified() != clusters.getTimestamp()) {
        readClustersXml();
        updateMyInfo();
        return;
      }
      transformer.transform(new DOMSource(document),new StreamResult(clustersFile));
      clusters.setTimestamp(clustersFile.lastModified());
    }
 else {
    }
  }
}
