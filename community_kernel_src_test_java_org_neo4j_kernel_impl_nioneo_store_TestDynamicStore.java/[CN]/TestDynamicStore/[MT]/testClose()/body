{
  try {
    ByteStore store=ByteStore.createStore(dynamicStoreFile(),30,path());
    long blockId=store.nextBlockId();
    Collection<DynamicRecord> records=store.allocateRecords(blockId,new byte[10]);
    for (    DynamicRecord record : records) {
      store.updateRecord(record);
    }
    store.close();
    try {
      store.getBytes(0);
      fail("Closed store should throw exception");
    }
 catch (    RuntimeException e) {
    }
    try {
      store.getLightRecords(0);
      fail("Closed store should throw exception");
    }
 catch (    RuntimeException e) {
    }
  }
  finally {
    deleteBothFiles();
  }
}
