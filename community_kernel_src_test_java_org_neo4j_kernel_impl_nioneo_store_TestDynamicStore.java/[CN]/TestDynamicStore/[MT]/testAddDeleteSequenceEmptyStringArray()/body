{
  createEmptyStore(dynamicStoreFile(),30);
  DynamicArrayStore store=newStore();
  try {
    long blockId=create(store,new String[0]);
    store.getLightRecords(blockId);
    String[] readBack=(String[])PropertyStore.getArrayFor(blockId,store.getRecords(blockId),store);
    assertEquals(0,readBack.length);
    Collection<DynamicRecord> records=store.getLightRecords(blockId);
    for (    DynamicRecord record : records) {
      record.setInUse(false);
      store.updateRecord(record);
    }
  }
  finally {
    store.close();
    deleteBothFiles();
  }
}
