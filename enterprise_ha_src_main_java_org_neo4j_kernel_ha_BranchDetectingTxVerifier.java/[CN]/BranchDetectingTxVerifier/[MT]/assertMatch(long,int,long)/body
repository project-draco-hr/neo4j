{
  try {
    Pair<Integer,Long> readChecksum=dataSource().getMasterForCommittedTx(txId);
    boolean match=masterId == readChecksum.first() && checksum == readChecksum.other();
    if (!match)     throw new ComException(new BranchedDataException(stringify(txId,masterId,checksum) + " doesn't match " + readChecksum));
  }
 catch (  IOException e) {
    db.getMessageLog().logMessage("Couldn't verify checksum for " + stringify(txId,masterId,checksum),e);
    throw new BranchedDataException(e);
  }
}
