{
  if (txId == 0) {
    return;
  }
  long readChecksum;
  try {
    readChecksum=txChecksumLookup.apply(txId);
  }
 catch (  NoSuchTransactionException e) {
    return;
  }
catch (  IOException e) {
    logger.error("Couldn't verify checksum for " + stringify(txId,checksum),e);
    throw new BranchedDataException("Unable to perform a mandatory sanity check due to an IO error.",e);
  }
  if (checksum != readChecksum) {
    throw new BranchedDataException("The cluster contains two logically different versions of the database. " + "This will be automatically resolved. Details: " + stringify(txId,checksum) + " does not match "+ readChecksum);
  }
}
