{
  try {
    transactor.execute(new Transactor.Work<Void,SchemaKernelException>(){
      @Override public Void perform(      StatementOperationParts context,      KernelStatement state) throws SchemaKernelException {
        for (Iterator<IndexDescriptor> indexes=context.schemaReadOperations().uniqueIndexesGetAll(state); indexes.hasNext(); ) {
          IndexDescriptor index=indexes.next();
          if (context.schemaReadOperations().indexGetOwningUniquenessConstraintId(state,index) == null) {
            context.schemaWriteOperations().uniqueIndexDrop(state,index);
          }
        }
        return null;
      }
    }
);
  }
 catch (  SchemaKernelException|TransactionalException e) {
    log.error("Failed to execute orphan index checking transaction.",e);
  }
}
