{
  IndexableField field;
  if (value instanceof Number) {
    Number number=(Number)value;
    if (value instanceof Float) {
      field=new SortedNumericDocValuesField(key,NumericUtils.floatToSortableInt(number.floatValue()));
    }
 else     if (value instanceof Double) {
      field=new SortedNumericDocValuesField(key,NumericUtils.doubleToSortableLong(number.doubleValue()));
    }
 else {
      field=new SortedNumericDocValuesField(key,number.longValue());
    }
  }
 else {
    field=new SortedSetDocValuesField(key,new BytesRef(value.toString()));
  }
  return field;
}
