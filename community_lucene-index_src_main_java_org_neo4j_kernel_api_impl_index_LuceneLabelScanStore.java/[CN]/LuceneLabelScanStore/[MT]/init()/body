{
  monitor.init();
  try {
    if (!luceneIndex.exists()) {
      monitor.noIndex();
      luceneIndex.prepare();
      needsRebuild=true;
    }
 else     if (!luceneIndex.isValid()) {
      luceneIndex.prepare();
      needsRebuild=true;
    }
    luceneIndex.open();
  }
 catch (  LockObtainFailedException e) {
    luceneIndex.close();
    monitor.lockedIndex(e);
    throw e;
  }
}
