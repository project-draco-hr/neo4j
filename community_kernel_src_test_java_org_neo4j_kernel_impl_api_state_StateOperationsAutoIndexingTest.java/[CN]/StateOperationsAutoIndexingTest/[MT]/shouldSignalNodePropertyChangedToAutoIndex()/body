{
  DefinedProperty property=property(1,"Hello!");
  PropertyItem existingProperty=mock(PropertyItem.class);
  when(existingProperty.propertyKeyId()).thenReturn(property.propertyKeyId());
  when(existingProperty.value()).thenReturn("Goodbye!");
  NodeItem node=mock(NodeItem.class);
  when(node.property(property.propertyKeyId())).thenReturn(Cursors.cursor(existingProperty));
  when(node.labels()).thenReturn(Cursors.empty());
  when(storeStmt.acquireSingleNodeCursor(1337)).thenReturn(Cursors.cursor(node));
  context.nodeSetProperty(stmt,1337,property);
  verify(nodeOps).propertyChanged(eq(writeOps),eq(1337L),any(Property.class),eq(property));
}
