{
  monitor.initializeTx(context);
  if (!spi.isAccessible()) {
    throw new TransactionFailureException("Database is currently not available");
  }
  assertCorrectEpoch(context);
  try {
    TimestampedLockClient locks=new TimestampedLockClient(spi.acquireClient());
    slaveLockState.put(context,locks);
    return packResponse(context,null);
  }
 catch (  SystemException e) {
    throw Exceptions.launderedException(e);
  }
}
