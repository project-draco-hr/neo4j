{
  try {
    MasterTransaction tx=transactions.get(context);
    if (tx.finishAsap()) {
      spi.finishTransaction(false);
      transactions.remove(context);
      return;
    }
    tx.updateTime();
  }
  finally {
    try {
      spi.suspendTransaction();
    }
 catch (    SystemException e) {
      throw Exceptions.launderedException(e);
    }
  }
}
