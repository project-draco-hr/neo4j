{
  StoreProcessor singlePassProcessor=mock(StoreProcessor.class);
  StoreProcessor multiPassProcessor1=mock(StoreProcessor.class);
  StoreProcessor multiPassProcessor2=mock(StoreProcessor.class);
  NodeStore store=mock(NodeStore.class);
  when(store.getStorageFileName()).thenReturn(new File("node-store"));
  StoreProcessorTask<NodeRecord> task=new StoreProcessorTask<NodeRecord>(store,ProgressMonitorFactory.NONE.multipleParts("check"),MULTI_PASS,singlePassProcessor,multiPassProcessor1,multiPassProcessor2);
  task.run();
  verify(multiPassProcessor1).applyFiltered(same(store),any(ProgressListener.class));
  verify(multiPassProcessor2).applyFiltered(same(store),any(ProgressListener.class));
  verifyZeroInteractions(singlePassProcessor);
}
