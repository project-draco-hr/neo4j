{
  return new InspectionAdapter(){
    @Override protected <T>CallBack<T> call(    final Event call,    final Class<T> type,    final Object... args){
      if (call == Event.COMMIT) {
        StringBuffer buffer=new StringBuffer("PREPARE_COMMIT(");
        appendArgs(buffer,args,Event.COMMIT.argNames);
        buffer.append("):");
        stream.println(buffer.toString());
      }
      return new CallBack<T>(){
        public void failure(        Throwable ex){
          call.traceFailure(stream,args,ex);
        }
        public void success(        T result){
          if (call == Event.COMMIT) {
            stream.println("    sucessfull.");
          }
 else           if (type.equals(RemoteResponse.class) || type.equals(Void.class)) {
            call.traceSuccess(stream,args);
          }
 else {
            call.traceSuccess(stream,args,result);
          }
        }
      }
;
    }
  }
;
}
