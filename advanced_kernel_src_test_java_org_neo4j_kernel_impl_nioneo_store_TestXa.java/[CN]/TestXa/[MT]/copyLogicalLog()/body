{
  char active='1';
  FileChannel af=new RandomAccessFile(file("nioneo_logical.log.active"),"r").getChannel();
  ByteBuffer buffer=ByteBuffer.allocate(1024);
  af.read(buffer);
  buffer.flip();
  FileChannel activeCopy=new RandomAccessFile(file("nioneo_logical.log.bak.active"),"rw").getChannel();
  activeCopy.write(buffer);
  activeCopy.close();
  af.close();
  buffer.flip();
  active=buffer.asCharBuffer().get();
  buffer.clear();
  FileChannel source=new RandomAccessFile(file("nioneo_logical.log." + active),"r").getChannel();
  FileChannel dest=new RandomAccessFile(file("nioneo_logical.log.bak." + active),"rw").getChannel();
  int read=-1;
  do {
    read=source.read(buffer);
    buffer.flip();
    dest.write(buffer);
    buffer.clear();
  }
 while (read == 1024);
  source.close();
  dest.close();
}
