{
  GraphDatabaseAPI db=dbr.getGraphDatabaseAPI();
  NeoStore neoStore=db.getDependencyResolver().resolveDependency(NeoStoreProvider.class).evaluate();
  long startingTxId=neoStore.getLastCommittedTx();
  Node node=createEmptyNode(db);
  Index<Node> index=createNodeIndex(db);
  try (Transaction tx=db.beginTx()){
    node.addLabel(TestLabels.LABEL_ONE);
    node.removeLabel(TestLabels.LABEL_ONE);
    index.add(node,"key","value");
    index.remove(node,"key","value");
    tx.success();
  }
   assertEquals("Expected last txId to be what it started at + 2 (1 for the empty node, and one for the label)",startingTxId + 2,neoStore.getLastCommittedTx());
}
