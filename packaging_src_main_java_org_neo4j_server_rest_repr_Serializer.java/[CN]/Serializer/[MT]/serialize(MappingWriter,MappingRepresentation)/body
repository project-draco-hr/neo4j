{
  if (value instanceof ExtensibleRepresentation && extensions != null) {
    Map<String,ExtensionUri> serviceData=extensions.getExensionsFor(value.type.extend);
    if (serviceData != null) {
      MappingWriter services=mapping.newMapping(RepresentationType.SERVICES,"services");
      for (      Map.Entry<String,ExtensionUri> service : serviceData.entrySet()) {
        service.getValue().serialize(services.newMapping(RepresentationType.SERVICE,service.getKey()),baseUri,((ExtensibleRepresentation)value).getIdentity());
      }
    }
  }
  value.serialize(new MappingSerializer(mapping,baseUri,extensions));
  mapping.done();
}
