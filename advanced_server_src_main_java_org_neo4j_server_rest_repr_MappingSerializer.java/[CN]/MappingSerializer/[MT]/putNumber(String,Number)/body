{
  if (value instanceof Double || value instanceof Float) {
    writer.writeFloatingPointNumber(RepresentationType.valueOf(value.getClass()),key,value.doubleValue());
  }
 else {
    if (!"java.lang".equals(value.getClass().getPackage().getName())) {
      throw new IllegalArgumentException("Unsupported number type: " + value.getClass());
    }
    writer.writeInteger(RepresentationType.valueOf(value.getClass()),key,value.longValue());
  }
}
