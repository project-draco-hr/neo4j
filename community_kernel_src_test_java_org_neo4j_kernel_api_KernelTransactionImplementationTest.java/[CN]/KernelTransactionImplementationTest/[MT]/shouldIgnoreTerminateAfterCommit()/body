{
  KernelTransaction transaction=newTransaction();
  transactionConsumer.accept(transaction);
  transaction.success();
  transaction.close();
  transaction.markForTermination();
  verify(transactionMonitor,times(1)).transactionFinished(true,isWriteTx);
  verifyExtraInteractionWithTheMonitor(transactionMonitor,isWriteTx);
}
