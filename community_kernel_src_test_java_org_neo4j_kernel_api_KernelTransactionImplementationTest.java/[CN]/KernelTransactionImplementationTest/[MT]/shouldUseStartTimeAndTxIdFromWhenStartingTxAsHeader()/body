{
  long startingTime=clock.currentTimeMillis();
  when(recordState.isReadOnly()).thenReturn(false);
  try (KernelTransactionImplementation transaction=newTransaction()){
    transaction.initialize(headerInformation,5L);
    clock.forward(5,MILLISECONDS);
    when(neoStore.getLastCommittingTransactionId()).thenReturn(7L);
    transaction.success();
  }
   assertEquals(5L,commitProcess.transaction.getLatestCommittedTxWhenStarted());
  assertEquals(startingTime,commitProcess.transaction.getTimeStarted());
  assertEquals(startingTime + 5,commitProcess.transaction.getTimeCommitted());
}
