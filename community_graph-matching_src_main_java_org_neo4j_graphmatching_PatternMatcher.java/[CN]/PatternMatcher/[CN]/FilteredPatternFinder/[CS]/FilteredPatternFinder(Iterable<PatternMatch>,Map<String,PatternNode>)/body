{
  super(source,new Predicate<PatternMatch>(){
    public boolean accept(    PatternMatch item){
      Set<PatternGroup> calculatedGroups=new HashSet<PatternGroup>();
      for (      PatternElement element : item.getElements()) {
        PatternNode node=element.getPatternNode();
        PatternGroup group=node.getGroup();
        if (calculatedGroups.add(group)) {
          FilterValueGetter valueGetter=new SimpleRegexValueGetter(objectVariables,item,group.getFilters());
          for (          FilterExpression expression : group.getFilters()) {
            if (!expression.matches(valueGetter)) {
              return false;
            }
          }
        }
      }
      return true;
    }
  }
);
}
