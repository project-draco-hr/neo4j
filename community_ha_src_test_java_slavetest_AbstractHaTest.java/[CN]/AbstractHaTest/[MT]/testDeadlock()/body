{
  if (Config.osIsWindows())   return;
  initializeDbs(2);
  Long[] nodes=executeJobOnMaster(new CommonJobs.CreateNodesJob(2));
  pullUpdates();
  Fetcher<DoubleLatch> fetcher=getDoubleLatch();
  Worker w1=new Worker(0,new CommonJobs.Worker1Job(nodes[0],nodes[1],fetcher));
  Worker w2=new Worker(1,new CommonJobs.Worker2Job(nodes[0],nodes[1],fetcher));
  w1.start();
  w2.start();
  w1.join();
  w2.join();
  boolean case1=w2.successfull && !w2.deadlocked && !w1.successfull&& w1.deadlocked;
  boolean case2=!w2.successfull && w2.deadlocked && w1.successfull&& !w1.deadlocked;
  assertTrue(case1 != case2);
  assertTrue(case1 || case2);
  pullUpdates();
}
