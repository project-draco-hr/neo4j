{
  final LifeSupport life=new LifeSupport();
  final String qualifiedPageCacheName="StandalonePageCache[" + pageCacheName + "]";
  Neo4jJobScheduler scheduler=life.add(new Neo4jJobScheduler(qualifiedPageCacheName));
  SingleFilePageSwapperFactory swapperFactory=new SingleFilePageSwapperFactory(fileSystem);
  Config baseConfig=new Config(MapUtil.stringMap(GraphDatabaseSettings.mapped_memory_total_size.name(),"8M"));
  Config finalConfig=baseConfig.with(config.getParams());
  LifecycledPageCache delegate=life.add(new LifecycledPageCache(swapperFactory,scheduler,finalConfig,PageCacheMonitor.NULL));
  life.start();
  return new DelegatingStandalonePageCache(delegate,life,qualifiedPageCacheName);
}
