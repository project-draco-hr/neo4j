{
  msgLog.logMessage("Internal shutdown of HA db[" + machineId + "] reference="+ this+ ", masterServer="+ masterServer,true);
  if (this.updatePuller != null) {
    msgLog.logMessage("Internal shutdown updatePuller",true);
    this.updatePuller.shutdown();
    msgLog.logMessage("Internal shutdown updatePuller DONE",true);
    this.updatePuller=null;
  }
  if (this.masterServer != null) {
    msgLog.logMessage("Internal shutdown masterServer",true);
    this.masterServer.shutdown();
    msgLog.logMessage("Internal shutdown masterServer DONE",true);
    this.masterServer=null;
  }
  if (this.localGraph != null) {
    msgLog.logMessage("Internal shutdown localGraph",true);
    this.localGraph.shutdown();
    msgLog.logMessage("Internal shutdown localGraph DONE",true);
    this.localGraph=null;
  }
  msgLog.flush();
  StringLogger.close(storeDir);
}
