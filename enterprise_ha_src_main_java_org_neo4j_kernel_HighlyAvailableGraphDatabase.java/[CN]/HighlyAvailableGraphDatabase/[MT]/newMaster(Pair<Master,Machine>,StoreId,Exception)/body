{
  try {
    doingNewMaster=true;
    doNewMaster(master,storeId,e);
  }
 catch (  BranchedDataException bde) {
    msgLog.logMessage("Branched data occured, retrying");
    getFreshDatabaseFromMaster(master);
    doNewMaster(master,storeId,bde);
  }
 finally {
    doingNewMaster=false;
  }
}
