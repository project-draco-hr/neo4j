{
  String key="key";
  String value="the value with spaces";
  long nodeId=graphdbHelper.createNode();
  String index="fulltext-node";
  assertFalse(serialize(actions.getIndexedObjects(IndexType.node,index,key,value)).iterator().hasNext());
  actions.addToIndex(IndexType.node,index,key,value,nodeId);
  assertEquals(Arrays.asList(nodeId),graphdbHelper.getIndexedNodes(index,key,value));
  assertEquals(Arrays.asList(nodeId),graphdbHelper.getIndexedNodes(index,key,"the"));
  assertEquals(Arrays.asList(nodeId),graphdbHelper.getIndexedNodes(index,key,"value"));
  assertEquals(Arrays.asList(nodeId),graphdbHelper.getIndexedNodes(index,key,"with"));
  assertEquals(Arrays.asList(nodeId),graphdbHelper.getIndexedNodes(index,key,"spaces"));
  assertTrue(graphdbHelper.getIndexedNodes(index,key,"nohit").isEmpty());
}
