{
  boolean found=false;
  for (int i=0; i < ids.length; i++) {
    if (ids[i] == excludeId) {
      found=true;
      break;
    }
  }
  if (!found)   throw new IllegalStateException("Label " + excludeId + " not found on "+ node);
  long[] result=new long[ids.length - 1];
  int writerIndex=0;
  for (int i=0; i < ids.length; i++)   if (ids[i] != excludeId)   result[writerIndex++]=ids[i];
  return result;
}
