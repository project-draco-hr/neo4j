{
  String[] fileNames={"neostore","neostore.nodestore.db","neostore.propertystore.db","neostore.propertystore.db.arrays","neostore.propertystore.db.index","neostore.propertystore.db.index.keys","neostore.propertystore.db.strings","neostore.relationshipstore.db","neostore.relationshiptypestore.db","neostore.relationshiptypestore.db.names"};
  for (  String fileName : fileNames) {
    FileChannel channel=new RandomAccessFile(new File(workingDirectory,fileName),"r").getChannel();
    int length=UTF8.encode(version).length;
    byte[] bytes=new byte[length];
    ByteBuffer buffer=ByteBuffer.wrap(bytes);
    channel.position(channel.size() - length);
    channel.read(buffer);
    channel.close();
    String foundVersion=UTF8.decode(bytes);
    if (!version.equals(foundVersion)) {
      return false;
    }
  }
  return true;
}
