{
  if (cmd.isIdempotent()) {
    int retries=0;
    RuntimeException exception=null;
    while (retries < maxRetries) {
      retries++;
      try {
        return cmd.run(sh,vagrantPath);
      }
 catch (      RuntimeException e) {
        exception=e;
      }
    }
    throw exception;
  }
 else {
    return cmd.run(sh,vagrantPath);
  }
}
