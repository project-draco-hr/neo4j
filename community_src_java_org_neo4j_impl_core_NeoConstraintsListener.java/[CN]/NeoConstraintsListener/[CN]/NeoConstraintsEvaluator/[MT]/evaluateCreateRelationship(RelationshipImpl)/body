{
  if (deletedNodes != null) {
    if (deletedNodes.containsKey(rel.getStartNodeId())) {
      log.severe("Node[0] : " + rel.getStartNodeId() + ", on created relationship["+ rel+ "]"+ " does not exist (deleted in same tx)");
      return false;
    }
    if (deletedNodes.containsKey(rel.getEndNodeId())) {
      log.severe("Node[1] : " + rel.getEndNodeId() + ", on created relationship["+ rel+ "]"+ " does not exist (deleted in same tx)");
      return false;
    }
  }
  RelationshipTypeHolder rth=RelationshipTypeHolder.getHolder();
  if (!rth.isValidRelationshipType(rel.getType())) {
    log.severe("Illegal relationship type[" + rel.getType() + "] for created relationship["+ rel+ "]");
    return false;
  }
  return true;
}
