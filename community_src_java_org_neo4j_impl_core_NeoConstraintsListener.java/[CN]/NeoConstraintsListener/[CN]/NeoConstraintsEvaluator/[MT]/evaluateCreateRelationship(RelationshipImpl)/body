{
  Integer nodeIds[]=rel.getNodeIds();
  if (deletedNodes != null) {
    if (deletedNodes.containsKey(nodeIds[0])) {
      log.severe("Node[0] : " + nodeIds[0] + ", on created relationship["+ rel+ "]"+ " does not exist (deleted in same tx)");
      return false;
    }
    if (deletedNodes.containsKey(nodeIds[1])) {
      log.severe("Node[1] : " + nodeIds[1] + ", on created relationship["+ rel+ "]"+ " does not exist (deleted in same tx)");
      return false;
    }
  }
  RelationshipTypeHolder rth=RelationshipTypeHolder.getHolder();
  if (!rth.isValidRelationshipType(rel.getType())) {
    log.severe("Illegal relationship type[" + rel.getType() + "] for created relationship["+ rel+ "]");
    return false;
  }
  return true;
}
