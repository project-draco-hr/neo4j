{
  try {
    Directory directory=directoryFactory.open(dirFile(indexId));
    try {
      boolean status=writerLogic.hasOnlineStatus(directory);
      return status ? InternalIndexState.ONLINE : InternalIndexState.POPULATING;
    }
  finally {
      directory.close();
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
