{
  this.storeDir=storeDir;
  eventModule=new EventModule();
  cacheManager=new AdaptiveCacheManager();
  txModule=new TxModule(eventModule.getEventManager(),storeDir);
  lockManager=new LockManager();
  lockReleaser=new LockReleaser(lockManager,txModule.getTxManager());
  persistenceModule=new PersistenceModule(txModule.getTxManager());
  idGeneratorModule=new IdGeneratorModule();
  neoModule=new NeoModule(cacheManager,lockManager,txModule.getTxManager(),lockReleaser,eventModule.getEventManager(),persistenceModule.getPersistenceManager(),idGeneratorModule.getIdGenerator());
}
