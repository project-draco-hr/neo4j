{
  RaftState<RaftTestMember> state=raftState().myself(myself).term(1).build();
  Candidate candidate=new Candidate();
  RaftMessages.AppendEntries.Request<RaftTestMember> message=appendEntriesRequest().from(member1).leader(member1).leaderTerm(term).leaderCommit(1).correlationId(UUID.randomUUID()).prevLogIndex(0).prevLogTerm(term - 1).build();
  Outcome<RaftTestMember> outcome=candidate.handle(message,state,log());
  assertEquals(message,messageFor(outcome,myself));
  assertEquals(FOLLOWER,outcome.newRole);
}
