{
  long term=0;
  RaftState<RaftTestMember> state=raftState().myself(myself).term(term).build();
  Candidate candidate=new Candidate();
  Outcome<RaftTestMember> outcome=candidate.handle(voteResponse().term(term).from(member1).grant().build(),state,log());
  assertEquals(LEADER,outcome.getNewRole());
  assertThat(outcome.getLogCommands(),hasItem(new AppendLogEntry(0,new RaftLogEntry(term,new NewLeaderBarrier()))));
}
