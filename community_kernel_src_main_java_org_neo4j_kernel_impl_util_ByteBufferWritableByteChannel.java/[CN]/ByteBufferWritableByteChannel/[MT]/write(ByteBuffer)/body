{
  if (closed)   throw new ClosedChannelException();
  int remaining=src.remaining();
  try {
    buffer.put(src);
  }
 catch (  BufferOverflowException e) {
    ByteBuffer newBuffer=ByteBuffer.allocate(buffer.capacity() + src.remaining());
    newBuffer.put(buffer);
    return write(src);
  }
  return remaining;
}
