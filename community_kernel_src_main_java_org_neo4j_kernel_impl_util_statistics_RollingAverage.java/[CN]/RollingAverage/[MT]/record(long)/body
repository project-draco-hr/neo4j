{
  averages[0]=(averages[0] * samplesInCurrentWindow + value) / (samplesInCurrentWindow + 1);
  if (++samplesInCurrentWindow > parameters.windowSize) {
    double previous=averages[0], current;
    for (int i=1; i < averages.length - 1; i++) {
      current=averages[i];
      averages[i]=previous;
      previous=current;
    }
    samplesInCurrentWindow=samplesInCurrentWindow / 4;
    populatedWindows=Math.min(populatedWindows + 1,averages.length);
  }
}
