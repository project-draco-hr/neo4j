{
  String[] cmdarray=new String[]{"jstack","" + pid.first()};
  File outputFile=new File(outputDirectory,"threaddump-" + pid.other() + "-"+ currentTimeMillis());
  Process process=getRuntime().exec(cmdarray);
  writeProcessOutputToFile(process,outputFile);
  return outputFile;
}
