{
  DefaultSlaveFactory slaveFactory=dependencies.satisfyDependency(new DefaultSlaveFactory(logging.getInternalLogProvider(),monitors,config.get(HaSettings.com_chunk_size).intValue()));
  Slaves slaves=dependencies.satisfyDependency(paxosLife.add(new HighAvailabilitySlaves(members,clusterClient,slaveFactory)));
  TransactionPropagator transactionPropagator=new TransactionPropagator(TransactionPropagator.from(config),logging.getInternalLog(TransactionPropagator.class),slaves,new CommitPusher(jobScheduler));
  paxosLife.add(transactionPropagator);
  return new HighlyAvailableCommitProcessFactory(componentSwitcherContainer,master,transactionPropagator,requestContextFactory);
}
