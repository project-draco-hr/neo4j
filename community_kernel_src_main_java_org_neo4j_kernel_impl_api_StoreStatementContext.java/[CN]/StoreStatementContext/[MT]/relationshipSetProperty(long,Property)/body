{
  try {
    String propertyKey=propertyKeyGetName(property.propertyKeyId());
    RelationshipImpl relImpl=nodeManager.getRelationshipForProxy(relationshipId,LockType.WRITE);
    RelationshipProxy relProxy=nodeManager.newRelationshipProxyById(relationshipId);
    Object oldValue=relImpl.setProperty(nodeManager,relProxy,propertyKey,property.value());
    return Property.propertyFromRelationship(relationshipId,property.propertyKeyId(),oldValue);
  }
 catch (  IllegalStateException e) {
    throw new EntityNotFoundException(EntityType.RELATIONSHIP,relationshipId,e);
  }
catch (  PropertyNotFoundException e) {
    throw new IllegalArgumentException("Property used for setting should not be NoProperty",e);
  }
}
