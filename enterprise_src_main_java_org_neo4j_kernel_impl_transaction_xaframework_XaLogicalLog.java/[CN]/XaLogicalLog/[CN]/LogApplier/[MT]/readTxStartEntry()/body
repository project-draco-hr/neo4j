{
  buffer.clear();
  buffer.limit(1);
  if (byteChannel.read(buffer) != buffer.limit()) {
    throw new IOException("Unable to read tx start entry");
  }
  buffer.flip();
  byte globalIdLength=buffer.get();
  buffer.clear();
  buffer.limit(1);
  if (byteChannel.read(buffer) != buffer.limit()) {
    throw new IOException("Unable to read tx start entry");
  }
  buffer.flip();
  byte branchIdLength=buffer.get();
  byte globalId[]=new byte[globalIdLength];
  ByteBuffer tmpBuffer=ByteBuffer.wrap(globalId);
  if (byteChannel.read(tmpBuffer) != globalId.length) {
    throw new IOException("Unable to read tx start entry");
  }
  byte branchId[]=new byte[branchIdLength];
  tmpBuffer=ByteBuffer.wrap(branchId);
  if (byteChannel.read(tmpBuffer) != branchId.length) {
    throw new IOException("Unable to read tx start entry");
  }
  buffer.clear();
  buffer.limit(4);
  if (byteChannel.read(buffer) != buffer.limit()) {
    throw new IOException("Unable to read tx start entry");
  }
  buffer.flip();
  int identifier=buffer.getInt();
  buffer.clear();
  buffer.limit(4);
  if (byteChannel.read(buffer) != buffer.limit()) {
    throw new IOException("Unable to read tx start entry");
  }
  buffer.flip();
  int formatId=buffer.getInt();
  Xid xid=new XidImpl(globalId,branchId,formatId);
  xidIdentMap.put(identifier,new StartEntry(xid,-1));
  XaTransaction xaTx=xaTf.create(identifier);
  xaTx.setRecovered();
  recoveredTxMap.put(identifier,xaTx);
  xaRm.injectStart(xid,xaTx);
}
