{
  IndexRule rule=new IndexRule(ruleId,labelId1,key1);
  when(store.getIndexRules(labelId1)).thenReturn(option(rule).iterator());
  txContext.dropIndexRule(rule);
  assertException(getIndexRule(),SchemaRuleNotFoundException.class);
  Iterator<IndexRule> rulesByLabel=txContext.getIndexRules(labelId1);
  assertEquals(asSet(),asSet(rulesByLabel));
}
