{
  for (boolean hasNext=source.hasNext(); hasNext; hasNext=source.hasNext()) {
    long value=source.next();
    next(value);
    if (!removedElements.contains(value) && !addedElements.contains(value)) {
      return;
    }
  }
  transitionToAddedElements();
}
