{
  if (reports.isEmpty()) {
    out.println("no reports");
    return;
  }
  out.println("Throughput reports (tx/ms):");
  double sum=0;
  for (  double report : reports) {
    out.println("\t" + report);
    sum+=report;
  }
  out.println();
  double average=sum / (double)reports.size();
  out.println("Average throughput (tx/ms): " + average);
  double tolerance=average * 0.20d;
  out.println("Start check throughput with tolerance: " + tolerance);
  int nonMatchingCounter=0;
  for (  double report : reports) {
    if (doubleIsDifferent(average,report,tolerance)) {
      System.err.println("Found a time slot when throughput differs too much wrt the average:");
      System.err.println("\tAverage=" + average + ", current="+ report+ ", tolerance="+ tolerance);
      nonMatchingCounter++;
    }
  }
  int nonSuccessPercentage=(int)((nonMatchingCounter / (double)reports.size()) * 100);
  System.out.println("Non successful percentage is: " + nonSuccessPercentage);
  assertTrue("Assumption is that more then 80 percent should be in " + "range [average - (average * 0.2 ); average  + (average * 0.2)] ",nonSuccessPercentage < 20);
}
