{
  StatementOperations context=statementCtxProvider.getCtxForReading();
  StatementState state=statementCtxProvider.statementForReading();
  try {
    long labelId=context.labelGetForName(state,label);
    final Iterator<Long> nodeIds=context.nodesGetForLabel(state,labelId);
    return cleanupService.resourceIterator(map(new Function<Long,Node>(){
      @Override public Node apply(      Long nodeId){
        return nodeManager.getNodeById(nodeId);
      }
    }
,nodeIds),state.closeable(context));
  }
 catch (  LabelNotFoundKernelException e) {
    context.close(state);
    return emptyIterator();
  }
}
