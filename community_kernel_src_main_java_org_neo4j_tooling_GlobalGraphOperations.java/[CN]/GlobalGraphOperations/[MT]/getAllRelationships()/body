{
  assertInTransaction();
  return new ResourceIterable<Relationship>(){
    @Override public ResourceIterator<Relationship> iterator(){
      final Statement statement=statementCtxProvider.instance();
      final PrimitiveLongIterator ids=statement.readOperations().relationshipsGetAll();
      return new PrefetchingResourceIterator<Relationship>(){
        @Override public void close(){
          statement.close();
        }
        @Override protected Relationship fetchNextOrNull(){
          return ids.hasNext() ? nodeManager.newRelationshipProxyById(ids.next()) : null;
        }
      }
;
    }
  }
;
}
