{
  Matcher<? extends Event> theTrap;
  CountDownLatch theTrapLatch;
synchronized (this) {
    theTrap=trap;
    theTrapLatch=trapLatch;
  }
  if (theTrap != null && theTrap.matches(event)) {
    try {
      theTrapLatch.await();
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
      throw new RuntimeException("Unexpected interrupt in RecordingMonitor",e);
    }
  }
}
