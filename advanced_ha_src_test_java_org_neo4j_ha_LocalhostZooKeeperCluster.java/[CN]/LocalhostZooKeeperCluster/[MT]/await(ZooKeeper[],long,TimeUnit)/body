{
  timeout=System.currentTimeMillis() + unit.toMillis(timeout);
  boolean done;
  do {
    done=true;
    for (    ZooKeeper keeper : keepers) {
      if (keeper.getQuorumSize() != keepers.length)       done=false;
    }
    if (System.currentTimeMillis() > timeout)     throw new TimeoutException("waiting for ZooKeeper cluster to start");
    try {
      Thread.sleep(10);
    }
 catch (    InterruptedException e) {
      throw new TimeoutException("waiting for ZooKeeper cluster to start",e);
    }
  }
 while (!done);
}
