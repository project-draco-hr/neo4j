{
  Locks locks=mock(Locks.class);
  Locks.Client locksClient=mock(Client.class);
  when(locks.newClient()).thenReturn(locksClient);
  StatementLocksFactorySelector loader=newLoader(locks);
  StatementLocksFactory factory=loader.select();
  StatementLocks statementLocks=factory.newInstance();
  assertThat(factory,instanceOf(SimpleStatementLocksFactory.class));
  assertThat(statementLocks,instanceOf(SimpleStatementLocks.class));
  assertSame(locksClient,statementLocks.optimistic());
  assertSame(locksClient,statementLocks.pessimistic());
}
