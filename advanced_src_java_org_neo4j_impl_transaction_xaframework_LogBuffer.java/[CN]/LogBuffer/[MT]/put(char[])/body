{
  if (mappedBuffer == null || (MAPPED_SIZE - mappedBuffer.position()) < (chars.length * 2)) {
    getNewMappedBuffer();
    if (mappedBuffer == null) {
      fallbackBuffer.clear();
      fallbackBuffer.asCharBuffer().put(chars);
      fallbackBuffer.flip();
      fileChannel.write(fallbackBuffer,mappedStartPosition);
      mappedStartPosition+=(chars.length * 2);
      return this;
    }
  }
  int oldPos=mappedBuffer.position();
  mappedBuffer.asCharBuffer().put(chars);
  mappedBuffer.position(oldPos + chars.length * 2);
  return this;
}
