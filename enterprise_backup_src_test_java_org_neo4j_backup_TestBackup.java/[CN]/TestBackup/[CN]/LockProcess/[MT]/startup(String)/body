{
  GraphDatabaseService db=null;
  try {
    db=new EmbeddedGraphDatabase(path);
  }
 catch (  RuntimeException ex) {
    if (IllegalStateException.class.isAssignableFrom(ex.getCause().getCause().getCause().getClass())) {
      state=ex;
      return;
    }
  }
  state=new Object();
  if (db != null) {
    db.shutdown();
  }
}
