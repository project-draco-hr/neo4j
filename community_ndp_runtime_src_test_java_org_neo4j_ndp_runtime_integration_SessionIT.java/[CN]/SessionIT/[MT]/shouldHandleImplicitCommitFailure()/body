{
  Session session=env.newSession();
  session.initialize("TestClient/1.0",null,null);
  session.run("CREATE (n:Victim)-[:REL]->()",EMPTY_PARAMS,null,Session.Callbacks.<StatementMetadata,Object>noop());
  session.discardAll(null,Session.Callbacks.<Void,Object>noop());
  session.run("MATCH (n:Victim) DELETE n",EMPTY_PARAMS,null,responses);
  session.discardAll(null,discarding);
  assertThat(responses.next(),success());
  assertThat(discarding.next(),failedWith(Status.Transaction.ValidationFailed));
}
