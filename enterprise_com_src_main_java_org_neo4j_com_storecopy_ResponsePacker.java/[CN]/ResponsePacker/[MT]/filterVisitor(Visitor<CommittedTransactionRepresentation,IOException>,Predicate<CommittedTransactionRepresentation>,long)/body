{
  return new Visitor<CommittedTransactionRepresentation,IOException>(){
    @Override public boolean visit(    CommittedTransactionRepresentation element) throws IOException {
      if (!filter.accept(element) || element.getCommitEntry().getTxId() > txToEndAt) {
        return false;
      }
      return delegate.visit(element);
    }
  }
;
}
