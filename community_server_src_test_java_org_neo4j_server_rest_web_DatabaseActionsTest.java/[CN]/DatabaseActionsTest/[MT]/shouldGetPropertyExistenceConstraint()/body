{
  String labelName="mylabel", propertyKey="name";
  graphdbHelper.createPropertyExistenceConstraint(labelName,asList(propertyKey));
  Transaction transaction=graph.beginTx();
  List<Object> serialized;
  try {
    serialized=serialize(actions.getPropertyExistenceConstraint(labelName,asList(propertyKey)));
  }
  finally {
    transaction.finish();
  }
  assertEquals(1,serialized.size());
  Map<?,?> definition=(Map<?,?>)serialized.get(0);
  assertEquals(labelName,definition.get("label"));
  assertEquals(Collections.singletonList(propertyKey),definition.get("property_keys"));
  assertEquals("MANDATORY_PROPERTY",definition.get("type"));
}
