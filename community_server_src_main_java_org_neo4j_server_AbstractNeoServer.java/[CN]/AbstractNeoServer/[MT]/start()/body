{
  try {
    startupHealthCheck();
    initWebServer();
    database.start();
    DiagnosticsManager diagnosticsManager=database.getGraph().getDiagnosticsManager();
    StringLogger logger=diagnosticsManager.getTargetLog();
    logger.logMessage("--- SERVER STARTUP START ---");
    diagnosticsManager.register(Configurator.DIAGNOSTICS,configurator);
    startExtensionInitialization();
    startModules(logger);
    startWebServer(logger);
    logger.logMessage("--- SERVER STARTUP END ---",true);
  }
 catch (  Throwable t) {
    if (t instanceof RuntimeException) {
      throw (RuntimeException)t;
    }
 else {
      throw new RuntimeException("Starting neo server failed, see nested exception.",t);
    }
  }
}
