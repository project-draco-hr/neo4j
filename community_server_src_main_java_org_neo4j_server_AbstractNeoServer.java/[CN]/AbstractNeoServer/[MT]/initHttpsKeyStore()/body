{
  File keystorePath=configurator.configuration().get(ServerSettings.webserver_keystore_path);
  File privateKeyPath=configurator.configuration().get(ServerSettings.webserver_https_key_path);
  File certificatePath=configurator.configuration().get(ServerSettings.webserver_https_cert_path);
  if (!certificatePath.exists()) {
    log.log("No SSL certificate found, generating a self-signed certificate..");
    SslCertificateFactory certFactory=new SslCertificateFactory();
    certFactory.createSelfSignedCertificate(certificatePath,privateKeyPath,getWebServerAddress());
  }
  KeyStoreFactory keyStoreFactory=new KeyStoreFactory();
  return keyStoreFactory.createKeyStore(keystorePath,privateKeyPath,certificatePath);
}
