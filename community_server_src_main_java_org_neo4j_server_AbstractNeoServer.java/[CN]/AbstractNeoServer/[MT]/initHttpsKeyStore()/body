{
  File privateKeyPath=configurator.configuration().get(ServerSettings.tls_key_file).getAbsoluteFile();
  File certificatePath=configurator.configuration().get(ServerSettings.tls_certificate_file).getAbsoluteFile();
  if (!certificatePath.exists()) {
    log.info("No SSL certificate found, generating a self-signed certificate..");
    Certificates certFactory=new Certificates();
    certFactory.createSelfSignedCertificate(certificatePath,privateKeyPath,getWebServerAddress());
  }
  return new KeyStoreFactory().createKeyStore(privateKeyPath,certificatePath);
}
