{
  File keystorePath=new File(configurator.configuration().getString(Configurator.WEBSERVER_KEYSTORE_PATH_PROPERTY_KEY,Configurator.DEFAULT_WEBSERVER_KEYSTORE_PATH));
  File privateKeyPath=new File(configurator.configuration().getString(Configurator.WEBSERVER_HTTPS_KEY_PATH_PROPERTY_KEY,Configurator.DEFAULT_WEBSERVER_HTTPS_KEY_PATH));
  File certificatePath=new File(configurator.configuration().getString(Configurator.WEBSERVER_HTTPS_CERT_PATH_PROPERTY_KEY,Configurator.DEFAULT_WEBSERVER_HTTPS_CERT_PATH));
  if (!certificatePath.exists()) {
    log.log("No SSL certificate found, generating a self-signed certificate..");
    new SslCertificateFactory().createSelfSignedCertificate(certificatePath,privateKeyPath,getWebServerAddress());
  }
  return new KeyStoreFactory().createKeyStore(keystorePath,privateKeyPath,certificatePath);
}
