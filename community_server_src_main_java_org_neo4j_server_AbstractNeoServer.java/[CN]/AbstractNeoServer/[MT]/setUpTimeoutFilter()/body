{
  if (getConfig().get(GraphDatabaseSettings.transaction_timeout) == null) {
    return;
  }
  Guard guard=resolveDependency(Guard.class);
  if (guard == null) {
    throw new RuntimeException(format("Inconsistent configuration. In order to use %s, you must set %s.",GraphDatabaseSettings.transaction_timeout.name(),GraphDatabaseSettings.execution_guard_enabled.name()));
  }
  Filter filter=new GuardingRequestFilter(guard,getConfig().get(GraphDatabaseSettings.transaction_timeout));
  webServer.addFilter(filter,"/*");
}
