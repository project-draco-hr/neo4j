{
  Collection<InjectableProvider<?>> singletons=new ArrayList<>();
  Database database=getDatabase();
  singletons.add(new DatabaseProvider(database));
  singletons.add(new DatabaseActions.Provider(databaseActions));
  singletons.add(new GraphDatabaseServiceProvider(database));
  singletons.add(new NeoServerProvider(this));
  singletons.add(providerForSingleton(new ConfigWrappingConfiguration(getConfig()),Configuration.class));
  singletons.add(providerForSingleton(getConfig(),Config.class));
  if (getConfig().get(ServerInternalSettings.webadmin_enabled)) {
    singletons.add(new RrdDbProvider(rrdDbWrapper));
  }
  singletons.add(new WebServerProvider(getWebServer()));
  PluginInvocatorProvider pluginInvocatorProvider=new PluginInvocatorProvider(this);
  singletons.add(pluginInvocatorProvider);
  RepresentationFormatRepository repository=new RepresentationFormatRepository(this);
  singletons.add(new InputFormatProvider(repository));
  singletons.add(new OutputFormatProvider(repository));
  singletons.add(new CypherExecutorProvider(cypherExecutor));
  singletons.add(new ExecutionEngineProvider(cypherExecutor));
  singletons.add(providerForSingleton(transactionFacade,TransactionFacade.class));
  singletons.add(providerForSingleton(authManager,AuthManager.class));
  singletons.add(new TransactionFilter(database));
  singletons.add(new LoggingProvider(logProvider));
  singletons.add(providerForSingleton(logProvider.getLog(NeoServer.class),Log.class));
  return singletons;
}
