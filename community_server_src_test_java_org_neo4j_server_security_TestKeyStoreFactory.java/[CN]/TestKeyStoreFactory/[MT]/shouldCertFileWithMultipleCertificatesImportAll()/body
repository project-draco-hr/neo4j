{
  File keyStorePath=File.createTempFile("keyStore","test");
  File privateKeyPath=fileFromResources("/certificates/chained_key.der");
  File certificatePath=fileFromResources("/certificates/combined.pem");
  KeyStoreFactory keyStoreFactory=new KeyStoreFactory();
  KeyStoreInformation keyStoreInformation=keyStoreFactory.createKeyStore(keyStorePath,privateKeyPath,certificatePath);
  KeyStore keyStore=KeyStore.getInstance("JKS");
  keyStore.load(new FileInputStream(keyStoreInformation.getKeyStorePath()),keyStoreInformation.getKeyStorePassword());
  Certificate[] chain=keyStore.getCertificateChain("key");
  assertThat("expecting more than 1 certificate in chain",chain.length,greaterThan(1));
}
