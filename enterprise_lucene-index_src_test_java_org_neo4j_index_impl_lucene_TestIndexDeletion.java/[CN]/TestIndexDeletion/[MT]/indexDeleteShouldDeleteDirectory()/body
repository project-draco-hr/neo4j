{
  String otherIndexName="other-index";
  File pathToLuceneIndex=new File(((AbstractGraphDatabase)graphDb).getStoreDir() + "/index/lucene/node/" + INDEX_NAME);
  File pathToOtherLuceneIndex=new File(((AbstractGraphDatabase)graphDb).getStoreDir() + "/index/lucene/node/" + otherIndexName);
  Index<Node> otherIndex=graphDb.index().forNodes(otherIndexName);
  Node node=graphDb.createNode();
  otherIndex.add(node,"someKey","someValue");
  assertFalse(pathToLuceneIndex.exists());
  assertFalse(pathToOtherLuceneIndex.exists());
  restartTx();
  assertTrue(pathToLuceneIndex.exists());
  assertTrue(pathToOtherLuceneIndex.exists());
  index.delete();
  assertTrue(pathToLuceneIndex.exists());
  assertTrue(pathToOtherLuceneIndex.exists());
  restartTx();
  assertFalse(pathToLuceneIndex.exists());
  assertTrue(pathToOtherLuceneIndex.exists());
}
