{
  T[] result=array.clone();
  int cursor=0;
  for (  T item : array) {
    if (filter.test(item)) {
      result[cursor++]=item;
    }
  }
  return cursor == result.length ? result : Arrays.copyOf(result,cursor);
}
