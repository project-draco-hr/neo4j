{
  T[] result=source.clone();
  int length=result.length;
  for (  T candidate : toRemove) {
    int index=indexOf(result,candidate);
    if (index != -1) {
      if (index + 1 < length) {
        result[index]=result[length - 1];
      }
      length--;
    }
  }
  return length == result.length ? result : Arrays.copyOf(result,length);
}
