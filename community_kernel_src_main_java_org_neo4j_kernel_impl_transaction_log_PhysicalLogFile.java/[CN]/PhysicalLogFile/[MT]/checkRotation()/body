{
  if (channel.position() >= rotateAtSize) {
synchronized (this) {
      if (channel.position() >= rotateAtSize) {
        doRotate();
        return true;
      }
    }
  }
  return false;
}
