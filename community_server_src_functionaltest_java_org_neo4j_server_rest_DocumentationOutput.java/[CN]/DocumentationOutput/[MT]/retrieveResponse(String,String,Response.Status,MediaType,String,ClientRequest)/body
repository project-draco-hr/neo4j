{
  System.out.println(uri);
  getRequestHeaders(request.getHeaders());
  if (request.getEntity() != null) {
    data.payload=String.valueOf(request.getEntity());
  }
  Client client=new Client();
  ClientResponse response=client.handle(request);
  assertEquals(responseCode.getStatusCode(),response.getStatus());
  if (response.getType() != null) {
    assertEquals(type,response.getType());
  }
  if (headerField != null) {
    assertNotNull(response.getHeaders().get(headerField));
  }
  data.setTitle(title);
  data.setMethod(request.getMethod());
  data.setRelUri(uri.substring(functionalTestHelper.dataUri().length() - 9));
  data.setUri(uri);
  data.setResponse(responseCode);
  if (response.hasEntity() && response.getStatus() != 204) {
    data.setResponseBody(response.getEntity(String.class));
  }
  data.headerField=headerField;
  if (headerField != null) {
    getResponseHeaders(response.getHeaders(),Arrays.asList(new String[]{headerField}));
  }
 else {
    getResponseHeaders(response.getHeaders(),Collections.<String>emptyList());
  }
  document();
  return response;
}
