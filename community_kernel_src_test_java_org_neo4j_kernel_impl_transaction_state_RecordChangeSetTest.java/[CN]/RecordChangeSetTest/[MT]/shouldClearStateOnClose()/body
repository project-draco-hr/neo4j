{
  NeoStore mockStore=mock(NeoStore.class);
  when(mockStore.getNodeStore()).thenReturn(mock(NodeStore.class));
  when(mockStore.getRelationshipStore()).thenReturn(mock(RelationshipStore.class));
  when(mockStore.getPropertyStore()).thenReturn(mock(PropertyStore.class));
  when(mockStore.getSchemaStore()).thenReturn(mock(SchemaStore.class));
  when(mockStore.getRelationshipGroupStore()).thenReturn(mock(RelationshipGroupStore.class));
  RecordChangeSet changeSet=new RecordChangeSet(mockStore);
  changeSet.getNodeRecords().create(1l,null).forChangingLinkage();
  changeSet.getPropertyRecords().create(1l,null).forChangingLinkage();
  changeSet.getRelRecords().create(1l,null).forChangingLinkage();
  changeSet.getSchemaRuleChanges().create(1l,null).forChangingLinkage();
  changeSet.getRelGroupRecords().create(1l,1).forChangingLinkage();
  changeSet.close();
  assertEquals(0,changeSet.getNodeRecords().changeSize());
  assertEquals(0,changeSet.getPropertyRecords().changeSize());
  assertEquals(0,changeSet.getRelRecords().changeSize());
  assertEquals(0,changeSet.getSchemaRuleChanges().changeSize());
  assertEquals(0,changeSet.getRelGroupRecords().changeSize());
}
