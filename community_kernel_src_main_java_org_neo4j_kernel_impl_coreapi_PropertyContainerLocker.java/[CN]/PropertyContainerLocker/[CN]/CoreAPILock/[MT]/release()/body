{
  if (released) {
    throw new IllegalStateException("Already released");
  }
  released=true;
  try (Statement statement=stmtProvider.get()){
    release(statement,type,resourceId);
  }
 }
