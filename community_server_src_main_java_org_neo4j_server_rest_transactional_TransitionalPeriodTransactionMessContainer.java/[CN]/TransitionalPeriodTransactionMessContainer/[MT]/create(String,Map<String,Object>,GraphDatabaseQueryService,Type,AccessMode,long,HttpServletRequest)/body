{
  InternalTransaction transaction=customTransactionTimeout > GraphDatabaseSettings.UNSPECIFIED_TIMEOUT ? db.beginTransaction(type,mode,customTransactionTimeout,TimeUnit.MILLISECONDS) : db.beginTransaction(type,mode);
  TransactionalContext context=new Neo4jTransactionalContext(service,transaction,txBridge.get(),query,parameters,locker);
  return new ServerQuerySession(request,context);
}
