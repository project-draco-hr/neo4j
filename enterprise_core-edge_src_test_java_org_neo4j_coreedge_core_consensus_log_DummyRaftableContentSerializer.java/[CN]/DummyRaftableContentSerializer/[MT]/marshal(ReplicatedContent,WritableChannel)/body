{
  if (content instanceof ReplicatedInteger) {
    channel.put((byte)REPLICATED_INTEGER_TYPE);
    channel.putInt(((ReplicatedInteger)content).get());
  }
 else   if (content instanceof ReplicatedString) {
    String value=((ReplicatedString)content).get();
    byte[] stringBytes=value.getBytes();
    channel.put((byte)REPLICATED_STRING_TYPE);
    channel.putInt(stringBytes.length);
    channel.put(stringBytes,stringBytes.length);
  }
 else {
    throw new IllegalArgumentException("Unknown content type: " + content);
  }
}
