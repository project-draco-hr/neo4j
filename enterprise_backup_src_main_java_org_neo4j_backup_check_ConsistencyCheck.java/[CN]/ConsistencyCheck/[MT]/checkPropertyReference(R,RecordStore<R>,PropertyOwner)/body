{
  boolean fail=false;
  if (props != null) {
    if (primitive.inUse()) {
      if (!Record.NO_NEXT_PROPERTY.value(primitive.getNextProp())) {
        PropertyRecord prop=props.forceGetRecord(primitive.getNextProp());
        fail|=checkPropertyOwner(prop,owner);
        if (!prop.inUse())         fail|=inconsistent(store,primitive,props,prop,PROPERTY_NOT_IN_USE);
 else         if (owner.otherOwnerOf(prop) != -1 || (owner.ownerOf(prop) != -1 && owner.ownerOf(prop) != primitive.getId()))         fail|=inconsistent(store,primitive,props,prop,PROPERTY_FOR_OTHER);
      }
    }
 else {
      R old=store.forceGetRaw(primitive.getId());
      if (!Record.NO_NEXT_PROPERTY.value(old.getNextProp())) {
        PropertyRecord prop=props.forceGetRecord(old.getNextProp());
        if (prop.inUse())         fail|=inconsistent(store,primitive,props,prop,owner.propertyNotRemoved());
      }
    }
  }
  return fail;
}
