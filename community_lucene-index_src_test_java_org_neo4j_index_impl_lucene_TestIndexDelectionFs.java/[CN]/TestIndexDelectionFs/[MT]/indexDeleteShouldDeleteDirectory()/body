{
  String indexName="index";
  String otherIndexName="other-index";
  File indexBaseDir=new File(db.getStoreDir(),"index");
  File pathToLuceneIndex=LuceneDataSource.getFileDirectory(indexBaseDir,new IndexIdentifier(IndexEntityType.Node,indexName));
  File pathToOtherLuceneIndex=LuceneDataSource.getFileDirectory(indexBaseDir,new IndexIdentifier(IndexEntityType.Node,otherIndexName));
  Index<Node> index;
  try (Transaction tx=db.beginTx()){
    index=db.index().forNodes(indexName);
    Index<Node> otherIndex=db.index().forNodes(otherIndexName);
    Node node=db.createNode();
    index.add(node,"someKey","someValue");
    otherIndex.add(node,"someKey","someValue");
    assertFalse(pathToLuceneIndex.exists());
    assertFalse(pathToOtherLuceneIndex.exists());
    tx.success();
  }
   assertTrue(pathToLuceneIndex.exists());
  assertTrue(pathToOtherLuceneIndex.exists());
  try (Transaction tx=db.beginTx()){
    index.delete();
    assertTrue(pathToLuceneIndex.exists());
    assertTrue(pathToOtherLuceneIndex.exists());
    tx.success();
  }
   assertFalse(pathToLuceneIndex.exists());
  assertTrue(pathToOtherLuceneIndex.exists());
}
