{
  log=Logger.getLogger("org.neo4j.kernel.impl.transaction.xaframework.XaLogicalLog/" + "nioneo_logical.log");
  level=log.getLevel();
  log.setLevel(Level.OFF);
  log=Logger.getLogger("org.neo4j.kernel.impl.nioneo.xa.NeoStoreXaDataSource");
  log.setLevel(Level.OFF);
  deleteFileOrDirectory(new File(path()));
  propertyIndexes=new HashMap<String,PropertyIndex>();
  FileSystemAbstraction fileSystem=new DefaultFileSystemAbstraction();
  StoreFactory sf=new StoreFactory(new Config(new ConfigurationDefaults(GraphDatabaseSettings.class).apply(Collections.<String,String>emptyMap())),new DefaultIdGeneratorFactory(),fileSystem,null,StringLogger.DEV_NULL,null);
  sf.createNeoStore(file("neo")).close();
  lockManager=getEmbeddedGraphDb().getLockManager();
  lockReleaser=getEmbeddedGraphDb().getLockReleaser();
  ds=newNeoStore();
  xaCon=ds.getXaConnection();
}
