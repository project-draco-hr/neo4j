{
  commitNoLabels();
  IndexDescriptor rule1=txContext.addIndex(labelId1,key1);
  IndexDescriptor rule2=txContext.addIndex(labelId2,key2);
  assertEquals(asSet(rule1),IteratorUtil.asSet(txContext.getIndexes(labelId1)));
  verify(store).getIndexes(labelId1);
  assertEquals(asSet(rule2),IteratorUtil.asSet(txContext.getIndexes(labelId2)));
  verify(store).getIndexes(labelId2);
  assertEquals(asSet(rule1,rule2),IteratorUtil.asSet(txContext.getIndexes()));
  verify(store).getIndexes();
  verifyNoMoreInteractions(store);
}
