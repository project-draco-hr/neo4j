{
  IndexDescriptor rule=new IndexDescriptor(labelId1,key1);
  when(store.indexesGetForLabel(state,labelId1)).thenReturn(option(rule).iterator());
  txContext.indexDrop(state,rule);
  assertException(getIndexRule(),SchemaRuleNotFoundException.class);
  Iterator<IndexDescriptor> rulesByLabel=txContext.indexesGetForLabel(state,labelId1);
  assertEquals(emptySetOf(IndexDescriptor.class),asSet(rulesByLabel));
}
