{
  Map<String,Election> electionsSnapshot=new HashMap<>();
  for (  Map.Entry<String,Election> election : elections.entrySet()) {
    electionsSnapshot.put(election.getKey(),election.getValue().snapshot());
  }
  return new ElectionContextImpl(me,commonStateSnapshot,logProvider,timeouts,snapshotClusterContext,snapshotHeartbeatContext,new ArrayList<>(roles),electionsSnapshot,credentialsProvider);
}
