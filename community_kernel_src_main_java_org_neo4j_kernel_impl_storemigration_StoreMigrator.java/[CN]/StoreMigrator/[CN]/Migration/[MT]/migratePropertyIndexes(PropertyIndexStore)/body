{
  LegacyPropertyIndexStoreReader indexStoreReader=legacyStore.getPropertyIndexStoreReader();
  LegacyDynamicStoreReader propertyIndexKeyStoreReader=legacyStore.getPropertyIndexKeyStoreReader();
  for (  PropertyIndexRecord propertyIndexRecord : indexStoreReader.readPropertyIndexStore()) {
    List<LegacyDynamicRecord> dynamicRecords=propertyIndexKeyStoreReader.getPropertyChain(propertyIndexRecord.getNameId());
    String key=LegacyDynamicRecordFetcher.joinRecordsIntoString(propertyIndexRecord.getNameId(),dynamicRecords);
    createPropertyIndex(propIndexStore,key,propertyIndexRecord.getId());
  }
  propertyIndexKeyStoreReader.close();
}
