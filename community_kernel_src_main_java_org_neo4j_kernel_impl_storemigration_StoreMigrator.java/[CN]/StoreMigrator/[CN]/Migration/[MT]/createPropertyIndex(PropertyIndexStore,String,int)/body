{
  long nextIdFromStore=propIndexStore.nextId();
  while (nextIdFromStore < id) {
    nextIdFromStore=propIndexStore.nextId();
  }
  PropertyIndexRecord record=new PropertyIndexRecord(id);
  record.setInUse(true);
  record.setCreated();
  int keyBlockId=propIndexStore.nextNameId();
  record.setNameId(keyBlockId);
  Collection<DynamicRecord> keyRecords=propIndexStore.allocateNameRecords(keyBlockId,encodeString(key));
  for (  DynamicRecord keyRecord : keyRecords) {
    record.addNameRecord(keyRecord);
  }
  propIndexStore.updateRecord(record);
}
