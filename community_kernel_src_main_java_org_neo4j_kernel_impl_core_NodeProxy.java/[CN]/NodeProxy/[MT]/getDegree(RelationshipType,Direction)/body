{
  try (Statement statement=statementContextProvider.instance()){
    ReadOperations ops=statement.readOperations();
    return ops.nodeGetDegree(nodeId,direction,ops.relationshipTypeGetForName(type.name()));
  }
 catch (  EntityNotFoundException e) {
    throw new NotFoundException("Node not found.",e);
  }
}
