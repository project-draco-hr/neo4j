{
  AssertableLogProvider logProvider=new AssertableLogProvider();
  Log log=logProvider.getLog(getClass());
  VisibleMigrationProgressMonitor monitor=new VisibleMigrationProgressMonitor(log);
  monitor.started();
  monitorSection(monitor,"First",100,40,25,23,10,50);
  monitor.completed();
  logProvider.assertContainsMessageContaining(VisibleMigrationProgressMonitor.MESSAGE_STARTED);
  for (int i=10; i <= 100; i+=10) {
    logProvider.assertContainsMessageContaining(String.valueOf(i) + "%");
  }
  logProvider.assertNone(logProvider.inLog(VisibleMigrationProgressMonitor.class).info(containsString("110%")));
  logProvider.assertContainsMessageContaining(VisibleMigrationProgressMonitor.MESSAGE_COMPLETED);
}
