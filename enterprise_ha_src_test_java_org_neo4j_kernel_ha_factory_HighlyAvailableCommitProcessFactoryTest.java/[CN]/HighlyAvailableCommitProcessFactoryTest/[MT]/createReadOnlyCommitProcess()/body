{
  HighlyAvailableCommitProcessFactory factory=new HighlyAvailableCommitProcessFactory(mock(LifeSupport.class),mock(Master.class),mock(TransactionPropagator.class),mock(RequestContextFactory.class),mock(HighAvailabilityModeSwitcher.class));
  Config config=new Config(stringMap(GraphDatabaseSettings.read_only.name(),"true"));
  TransactionCommitProcess commitProcess=factory.create(mock(TransactionAppender.class),mock(TransactionRepresentationStoreApplier.class),mock(NeoStoreInjectedTransactionValidator.class),mock(IndexUpdatesValidator.class),config);
  assertThat(commitProcess,instanceOf(ReadOnlyTransactionCommitProcess.class));
}
