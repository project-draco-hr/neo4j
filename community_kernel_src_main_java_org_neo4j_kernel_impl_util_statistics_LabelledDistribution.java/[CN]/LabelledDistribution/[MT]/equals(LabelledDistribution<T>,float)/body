{
  if (other.distribution.size() != distribution.size()) {
    return false;
  }
  for (  Map.Entry<T,Float> entry : distribution.entrySet()) {
    if (!other.distribution.containsKey(entry.getKey())) {
      return false;
    }
    float otherValue=other.distribution.get(entry.getKey());
    if (Math.abs(otherValue - entry.getValue()) > tolerance) {
      return false;
    }
  }
  return true;
}
