{
  channelGroup.add(channel);
  if (slave == null) {
    return;
  }
synchronized (ongoingTransactions) {
    Set<SlaveContext> txs=ongoingTransactions.get(channel);
    if (txs == null) {
      txs=new HashSet<SlaveContext>();
      ongoingTransactions.put(channel,txs);
      System.out.println("new transaction opened " + slave);
    }
    txs.add(slave);
  }
}
