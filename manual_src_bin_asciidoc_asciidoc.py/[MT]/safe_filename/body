def safe_filename(fname, parentdir):
    '\n    Return file name which must reside in the parent file directory.\n    Return None if file is not safe.\n    '
    if (not os.path.isabs(fname)):
        fname = os.path.normpath(os.path.join(parentdir, fname))
    if (not is_safe_file(fname, parentdir)):
        message.unsafe(('include file: %s' % fname))
        return None
    return fname
