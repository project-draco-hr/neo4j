def char_encoding():
    encoding = document.attributes.get('encoding')
    if encoding:
        try:
            codecs.lookup(encoding)
        except LookupError as e:
            raise EAsciiDoc, str(e)
    return encoding
