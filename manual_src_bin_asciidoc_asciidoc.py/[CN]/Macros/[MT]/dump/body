def dump(self):
    write = (lambda s: sys.stdout.write(('%s%s' % (s, writer.newline))))
    write('[macros]')
    for m in self.macros[1:]:
        macro = ('%s=%s%s' % (m.pattern.replace('=', '\\='), m.prefix, m.name))
        if (m.subslist is not None):
            macro += (('[' + ','.join(m.subslist)) + ']')
        write(macro)
    write('')
