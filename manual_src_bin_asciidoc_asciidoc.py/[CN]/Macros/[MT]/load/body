def load(self, entries):
    for entry in entries:
        m = Macro()
        m.load(entry)
        if (m.name is None):
            for (i, m2) in enumerate(self.macros):
                if (m2.pattern == m.pattern):
                    del self.macros[i]
                    break
            else:
                message.warning(('unable to delete missing macro: %s' % m.pattern))
        else:
            for m2 in self.macros:
                if (m2.pattern == m.pattern):
                    message.verbose(('macro redefinition: %s%s' % (m.prefix, m.name)))
                    break
            else:
                self.macros.append(m)
