@staticmethod
def gen_id(title):
    "\n        The normalized value of the id attribute is an NCName according to\n        the 'Namespaces in XML' Recommendation:\n        NCName          ::=     NCNameStartChar NCNameChar*\n        NCNameChar      ::=     NameChar - ':'\n        NCNameStartChar ::=     Letter | '_'\n        NameChar        ::=     Letter | Digit | '.' | '-' | '_' | ':'\n        "
    base_id = re.sub('(?u)\\W+', '_', char_decode(title)).strip('_').lower()
    if ('ascii-ids' in document.attributes):
        import unicodedata
        base_id = unicodedata.normalize('NFKD', base_id).encode('ascii', 'ignore')
    base_id = char_encode(base_id)
    idprefix = document.attributes.get('idprefix', '_')
    base_id = (idprefix + base_id)
    i = 1
    while True:
        if (i == 1):
            id = base_id
        else:
            id = ('%s_%d' % (base_id, i))
        if (id not in Section.ids):
            Section.ids.append(id)
            return id
        else:
            id = base_id
        i += 1
