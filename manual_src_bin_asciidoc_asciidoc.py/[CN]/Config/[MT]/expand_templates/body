def expand_templates(self, entries):
    'Expand any template::[] macros in a list of section entries.'
    result = []
    for line in entries:
        mo = macros.match('+', 'template', line)
        if mo:
            s = mo.group('attrlist')
            if (s in self.sections):
                result += self.expand_templates(self.sections[s])
            else:
                message.warning(('missing section: [%s]' % s))
                result.append(line)
        else:
            result.append(line)
    return result
