def error(self, msg, cursor=None, halt=False):
    "\n        Report fatal error.\n        If halt=True raise EAsciiDoc exception.\n        If halt=False don't exit application, continue in the hope of reporting\n        all fatal errors finishing with a non-zero exit code.\n        "
    if halt:
        raise EAsciiDoc, self.format(msg, linenos=False, cursor=cursor)
    else:
        msg = self.format(msg, 'ERROR: ', cursor=cursor)
        self.stderr(msg)
        document.has_errors = True
