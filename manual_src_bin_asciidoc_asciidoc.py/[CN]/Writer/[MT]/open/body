def open(self, fname, bom=None):
    '\n        bom is optional byte order mark.\n        http://en.wikipedia.org/wiki/Byte-order_mark\n        '
    self.fname = fname
    if (fname == '<stdout>'):
        self.f = sys.stdout
    else:
        self.f = open(fname, 'wb+')
    message.verbose(('writing: ' + writer.fname), False)
    if bom:
        self.f.write(bom)
    self.lines_out = 0
