def write_tag(self, tag, content, subs=None, d=None, **kwargs):
    "Write content enveloped by tag.\n        Substitutions specified in the 'subs' list are perform on the\n        'content'."
    if (subs is None):
        subs = config.subsnormal
    (stag, etag) = subs_tag(tag, d)
    content = Lex.subs(content, subs)
    if ('trace' in kwargs):
        trace(kwargs['trace'], (([stag] + content) + [etag]))
    if stag:
        self.write(stag)
    if content:
        self.write(content)
    if etag:
        self.write(etag)
