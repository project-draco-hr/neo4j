{
  long nodesInDatabaseBeforeTransaction=countNodes();
  Response begin=POST(getDataUri() + "transaction",set(map("statement","CREATE n")));
  String commitResource=begin.stringFromContent("commit");
  begin=POST(commitResource,set(map("statement","CREATE ;;' RETURN id(n)")));
  assertThat(begin.status(),is(200));
  assertErrors(begin,Neo4jError.Code.UNKNOWN_STATEMENT_ERROR);
  assertThat(countNodes(),equalTo(nodesInDatabaseBeforeTransaction));
}
