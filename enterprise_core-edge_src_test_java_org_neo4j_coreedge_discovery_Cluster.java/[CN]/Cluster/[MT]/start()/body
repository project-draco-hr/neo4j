{
  List<AdvertisedSocketAddress> initialHosts=buildAddresses(noOfCoreServers);
  ExecutorService executor=Executors.newCachedThreadPool();
  try {
    startCoreServers(executor,noOfCoreServers,initialHosts,coreParams,instanceCoreParams,recordFormat);
    startEdgeServers(executor,noOfEdgeServers,initialHosts,edgeParams,instanceEdgeParams,recordFormat);
  }
  finally {
    executor.shutdown();
  }
}
