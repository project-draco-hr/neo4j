{
  Config config=firstOrNull(coreServers.values()).database().getDependencyResolver().resolveDependency(Config.class);
  List<AdvertisedSocketAddress> advertisedAddress=config.get(CoreEdgeClusterSettings.initial_core_cluster_members);
  CoreServer coreServer=new CoreServer(serverId,intendedClusterSize,advertisedAddress,discoveryServiceFactory,recordFormat,parentDir,extraParams,instanceExtraParams);
  coreServers.put(serverId,coreServer);
  return coreServer;
}
