{
  Config config=firstOrNull(coreServers.values()).database().getDependencyResolver().resolveDependency(Config.class);
  List<AdvertisedSocketAddress> advertisedAddresses=config.get(CoreEdgeClusterSettings.initial_core_cluster_members);
  EdgeServer server=new EdgeServer(parentDir,serverId,discoveryServiceFactory,advertisedAddresses,stringMap(),emptyMap(),recordFormat);
  edgeServers.put(serverId,server);
  return server;
}
