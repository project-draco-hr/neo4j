{
  PropertyIndexStore idxStore=getPropertyIndexStore();
  int keyId=(int)idxStore.nextId();
  PropertyIndexRecord record=new PropertyIndexRecord(keyId);
  record.setInUse(true);
  record.setCreated();
  int keyBlockId=idxStore.nextKeyBlockId();
  record.setKeyBlockId(keyBlockId);
  Collection<DynamicRecord> keyRecords=idxStore.allocateKeyRecords(keyBlockId,encodeString(stringKey));
  for (  DynamicRecord keyRecord : keyRecords) {
    record.addKeyRecord(keyRecord);
  }
  idxStore.updateRecord(record);
  indexHolder.addPropertyIndex(stringKey,keyId);
  return keyId;
}
