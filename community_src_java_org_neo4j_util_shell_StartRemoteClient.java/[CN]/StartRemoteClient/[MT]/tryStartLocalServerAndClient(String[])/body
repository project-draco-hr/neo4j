{
  String neoDirectory=getNeoDirectory(args);
  final LocalNeoShellServer server=new LocalNeoShellServer(neoDirectory);
  server.makeRemotelyAvailable(AbstractServer.DEFAULT_PORT,AbstractServer.DEFAULT_NAME);
  Runtime.getRuntime().addShutdownHook(new Thread(){
    @Override public void run(){
      server.shutdown();
    }
  }
);
  try {
    System.out.println("NOTE: Using local neo server at '" + neoDirectory + "'");
    ShellLobby.startClient(server);
  }
 catch (  RuntimeException e) {
    server.shutdown();
    throw e;
  }
  server.shutdown();
  return true;
}
