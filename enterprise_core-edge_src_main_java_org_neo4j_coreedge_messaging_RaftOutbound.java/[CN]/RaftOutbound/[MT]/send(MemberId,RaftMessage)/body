{
  ClusterId clusterId=clusterIdentity.clusterId();
  if (clusterId == null) {
    log.warn("Attempting to send a message before bound to a cluster");
  }
 else {
    try {
      CoreAddresses coreAddresses=discoveryService.coreServers().find(to);
      outbound.send(coreAddresses.getRaftServer(),new ClusterIdAwareMessage(clusterId,message));
    }
 catch (    NoKnownAddressesException e) {
      unknownAddressMonitor.logAttemptToSendToMemberWithNoKnownAddress(to);
    }
  }
}
