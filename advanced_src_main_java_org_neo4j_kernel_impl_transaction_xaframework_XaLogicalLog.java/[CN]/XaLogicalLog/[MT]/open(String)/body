{
  fileChannel=new RandomAccessFile(fileToOpen,"rw").getChannel();
  if (fileChannel.size() != 0) {
    doInternalRecovery(fileToOpen);
  }
 else {
    msgLog.logMessage("[" + fileToOpen + "] clean empty log, ");
    logVersion=xaTf.getCurrentVersion();
    buffer.clear();
    buffer.putLong(logVersion);
    long lastTxId=xaTf.getLastCommittedTx();
    buffer.putLong(lastTxId);
    previousLogLastCommittedTx=lastTxId;
    buffer.flip();
    fileChannel.write(buffer);
    scanIsComplete=true;
    msgLog.logMessage("[" + fileToOpen + "] clean empty log, version="+ logVersion);
  }
}
