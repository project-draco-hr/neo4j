{
  try {
    transactionManager.begin();
    id=idGenerator.nextId(RelationshipType.class);
    EventData eventData=new EventData(new RelTypeOpData(id,name));
    if (!eventManager.generateProActiveEvent(Event.RELATIONSHIPTYPE_CREATE,eventData)) {
      throw new RuntimeException("Generate pro-active event failed.");
    }
    eventManager.generateReActiveEvent(Event.RELATIONSHIPTYPE_CREATE,eventData);
    transactionManager.commit();
    success=true;
  }
 catch (  Throwable t) {
    try {
      transactionManager.rollback();
    }
 catch (    Throwable tt) {
    }
  }
 finally {
    this.notify();
  }
}
