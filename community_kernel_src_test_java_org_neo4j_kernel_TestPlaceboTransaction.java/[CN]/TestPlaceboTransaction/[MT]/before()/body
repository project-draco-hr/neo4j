{
  ThreadToStatementContextBridge bridge=mock(ThreadToStatementContextBridge.class);
  when(bridge.instance()).thenReturn(mock(Statement.class));
  mockTopLevelTx=mock(TopLevelTransaction.class);
  final TransactionOutcome outcome=new TransactionOutcome();
  when(mockTopLevelTx.getTransactionOutcome()).thenReturn(outcome);
  doAnswer(new Answer<Void>(){
    @Override public Void answer(    InvocationOnMock invocation){
      outcome.failed();
      return null;
    }
  }
).when(mockTopLevelTx).failure();
  placeboTx=new PlaceboTransaction(mockTopLevelTx);
  resource=mock(Node.class);
  when(resource.getId()).thenReturn(1l);
}
