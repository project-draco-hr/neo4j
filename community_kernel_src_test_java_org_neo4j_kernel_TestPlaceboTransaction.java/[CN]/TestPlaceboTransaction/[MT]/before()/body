{
  AbstractTransactionManager mockTxManager=mock(AbstractTransactionManager.class);
  mockTopLevelTx=mock(Transaction.class);
  when(mockTxManager.getTransaction()).thenReturn(mockTopLevelTx);
  persistenceManager=mock(PersistenceManager.class);
  ThreadToStatementContextBridge stmtProvider=mock(ThreadToStatementContextBridge.class);
  Statement stmt=mock(Statement.class);
  readOps=mock(ReadOperations.class);
  when(stmtProvider.instance()).thenReturn(stmt);
  when(stmt.readOperations()).thenReturn(readOps);
  placeboTx=new PlaceboTransaction(mockTxManager,stmtProvider);
  resource=mock(Node.class);
  when(resource.getId()).thenReturn(1l);
}
