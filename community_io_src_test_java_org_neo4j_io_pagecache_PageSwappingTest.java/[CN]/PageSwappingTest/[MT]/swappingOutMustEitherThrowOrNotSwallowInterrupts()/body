{
  File file=new File("a");
  fs.create(file).close();
  Page page=createPage(20);
  PageSwapper swapper=swapperFactory.createPageSwapper(file,20,NO_CALLBACK);
  Thread.currentThread().interrupt();
  long stamp=writeLock(page);
  try {
    swapper.write(0,page);
    System.out.println("poke");
    assertTrue(Thread.currentThread().isInterrupted());
  }
 catch (  ClosedByInterruptException exception) {
    assertThat(exception,instanceOf(ClosedByInterruptException.class));
    assertTrue(Thread.currentThread().isInterrupted());
  }
 finally {
    unlockWrite(page,stamp);
  }
}
