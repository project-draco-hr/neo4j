{
  while (channel.isConnected() && writeAheadCounter.get() >= MAX_WRITE_AHEAD_CHUNKS) {
    try {
      Thread.sleep(200);
    }
 catch (    InterruptedException e) {
      Thread.interrupted();
    }
  }
}
