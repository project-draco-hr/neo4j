{
  super();
  this.neoDirectory=neoDirectory;
  this.readOnly=readOnly;
  this.neoService=this.readOnly ? new EmbeddedReadOnlyNeo(neoDirectory) : new EmbeddedNeo(neoDirectory);
  try {
    this.neoShellServer=new NeoShellServer(neoService);
  }
 catch (  RemoteException e) {
    throw new RuntimeException(e);
  }
}
