{
  buffer.clear();
  buffer.limit(LOG_HEADER_SIZE);
  int read=channel.read(buffer);
  if (read != LOG_HEADER_SIZE) {
    if (strict) {
      if (fileForAdditionalErrorInformationOrNull != null) {
        throw new IncompleteLogHeaderException(fileForAdditionalErrorInformationOrNull,read);
      }
      throw new IncompleteLogHeaderException(read);
    }
    return null;
  }
  buffer.flip();
  long encodedLogVersions=buffer.getLong();
  byte logFormatVersion=decodeLogFormatVersion(encodedLogVersions);
  long logVersion=decodeLogVersion(encodedLogVersions);
  long previousCommittedTx=buffer.getLong();
  return new LogHeader(logFormatVersion,logVersion,previousCommittedTx);
}
