{
  BatchInserter inserter=newBatchInserter();
  long nodeId=inserter.createNode(map("Item",123456789123l),DynamicLabel.label("AA"),DynamicLabel.label("BB"),DynamicLabel.label("CC"),DynamicLabel.label("DD"));
  inserter.setNodeLabels(nodeId,DynamicLabel.label("CC"),DynamicLabel.label("AA"),DynamicLabel.label("DD"),DynamicLabel.label("EE"),DynamicLabel.label("FF"));
  NeoStore neoStore=switchToNeoStore(inserter);
  try {
    NodeRecord node=neoStore.getNodeStore().getRecord(nodeId);
    NodeLabels labels=NodeLabelsField.parseLabelsField(node);
    long[] labelIds=labels.get(neoStore.getNodeStore());
    long[] sortedLabelIds=labelIds.clone();
    Arrays.sort(sortedLabelIds);
    assertArrayEquals(sortedLabelIds,labelIds);
  }
  finally {
    neoStore.close();
  }
}
