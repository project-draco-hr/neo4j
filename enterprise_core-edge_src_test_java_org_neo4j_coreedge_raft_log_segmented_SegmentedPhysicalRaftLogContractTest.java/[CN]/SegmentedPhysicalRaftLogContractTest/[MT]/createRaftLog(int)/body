{
  if (fileSystem == null) {
    fileSystem=new EphemeralFileSystemAbstraction();
  }
  File directory=new File("raft-log");
  fileSystem.mkdir(directory);
  SegmentedPhysicalRaftLog newRaftLog=new SegmentedPhysicalRaftLog(fileSystem,directory,10 * 1024,new DummyRaftableContentSerializer(),NullLogProvider.getInstance(),cacheSize);
  life.add(newRaftLog);
  life.init();
  life.start();
  return newRaftLog;
}
