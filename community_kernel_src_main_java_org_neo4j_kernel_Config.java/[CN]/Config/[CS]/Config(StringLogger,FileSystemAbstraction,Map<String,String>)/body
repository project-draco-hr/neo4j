{
  ConfigurationMigrator configurationMigrator=new ConfigurationMigrator(msgLog);
  inputParams=configurationMigrator.migrateConfiguration(inputParams);
  ConfigurationDefaults configurationDefaults=new ConfigurationDefaults(msgLog,GraphDatabaseSettings.class);
  params=configurationDefaults.apply(inputParams);
  AutoConfigurator autoConfigurator=new AutoConfigurator(fileSystem,get(NeoStoreXaDataSource.Configuration.store_dir),getBoolean(GraphDatabaseSettings.use_memory_mapped_buffers),getBoolean(GraphDatabaseSettings.dump_configuration));
  Map<String,String> autoConfiguration=autoConfigurator.configure();
  for (  Map.Entry<String,String> autoConfig : autoConfiguration.entrySet()) {
    if (!inputParams.containsKey(autoConfig.getKey()))     params.put(autoConfig.getKey(),autoConfig.getValue());
  }
  this.params=Collections.unmodifiableMap(this.params);
}
