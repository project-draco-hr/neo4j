{
  GraphDatabaseService db=dbRule.getGraphDatabaseService();
  try (Transaction tx=db.beginTx()){
    int nodeCount=0, relationshipCount=0;
    for (    Node node : db.getAllNodes()) {
      assertTrue(node.hasProperty("name"));
      nodeAdditionalValidation.validate(node);
      nodeCount++;
    }
    assertEquals(NODE_COUNT,nodeCount);
    for (    Relationship relationship : db.getAllRelationships()) {
      assertTrue(relationship.hasProperty("created"));
      relationshipAdditionalValidation.validate(relationship);
      relationshipCount++;
    }
    assertEquals(RELATIONSHIP_COUNT,relationshipCount);
    tx.success();
  }
 }
