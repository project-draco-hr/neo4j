{
  boolean alreadyExisting=source.normalSet.contains(value);
  String removal="set.remove( " + value + "L );";
  if (includeChecks) {
    out.println(format("boolean existedBefore = set.contains( %dL );",value));
    out.println(format("boolean removed = %s",removal));
    out.println(format("boolean existsAfter = set.contains( %dL );",value));
    out.println(format("assert%s( \"%s\", existedBefore );",capitilize(alreadyExisting),value + " should " + (alreadyExisting ? "" : "not ")+ "exist before removing here"));
    out.println(format("assert%s( \"%s\", removed );",capitilize(alreadyExisting),value + " should " + (alreadyExisting ? "" : "not ")+ "be reported as removed here"));
    out.println(format("assertFalse( \"%s\", existsAfter );",value + " should not exist"));
  }
 else {
    out.println(removal);
  }
}
