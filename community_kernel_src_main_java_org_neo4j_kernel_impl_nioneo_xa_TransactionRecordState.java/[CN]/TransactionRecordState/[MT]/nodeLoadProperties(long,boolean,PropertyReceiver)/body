{
  RecordChange<Long,NodeRecord,Void> node=context.getNodeRecords().getIfLoaded(nodeId);
  if (node != null) {
    if (node.isCreated()) {
      return;
    }
    if (!node.forReadingLinkage().inUse() && !light) {
      throw new IllegalStateException("Node[" + nodeId + "] has been deleted in this tx");
    }
  }
  NodeRecord nodeRecord=getNodeStore().getRecord(nodeId);
  if (!nodeRecord.inUse()) {
    throw new IllegalStateException("Node[" + nodeId + "] has been deleted in this tx");
  }
  loadProperties(getPropertyStore(),nodeRecord.getNextProp(),receiver);
}
