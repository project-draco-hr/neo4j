{
  StoreId storeId=new StoreId(1,1,1,1);
  TransactionApplier transactionApplier=mock(TransactionApplier.class);
  ApplyPulledTransactions handler=new ApplyPulledTransactions(mock(LogProvider.class),singleton(transactionApplier));
  ChannelHandlerContext channelHandlerContext=mock(ChannelHandlerContext.class);
  when(channelHandlerContext.pipeline()).thenReturn(mock(ChannelPipeline.class));
  handler.onTxReceived(new TxPullResponse(storeId,mock(CommittedTransactionRepresentation.class)));
  verify(transactionApplier).appendToLogAndApplyToStore(any(CommittedTransactionRepresentation.class));
}
