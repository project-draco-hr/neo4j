{
  Logging logging=mock(Logging.class);
  TestLogger logger=new TestLogger();
  when(logging.getMessagesLog(any(Class.class))).thenReturn(logger);
  StateTransitionLogger stateLogger=new StateTransitionLogger(logging);
  stateLogger.stateTransition(new StateTransition(entered,Message.internal(join),joining));
  stateLogger.stateTransition(new StateTransition(entered,Message.internal(join),joining));
  stateLogger.stateTransition(new StateTransition(joining,Message.internal(join),entered));
  stateLogger.stateTransition(new StateTransition(entered,Message.internal(join),joining));
  logger.assertAtLeastOnce(TestLogger.LogCall.debug("ClusterState: entered-[join]->joining"),TestLogger.LogCall.debug("ClusterState: joining-[join]->entered"));
}
