{
  final TransactionManager tm=mock(TransactionManager.class);
  final RagManager ragManager=new RagManager();
  final Object resource=new Object();
  final RWLock lock=new RWLock(resource,ragManager);
  final Transaction tx1=mock(Transaction.class);
  lock.mark();
  lock.acquireReadLock(tx1);
  lock.mark();
  assertEquals(1,lock.getTxLockElementCount());
  lock.releaseReadLock(tx1);
  assertEquals(0,lock.getTxLockElementCount());
}
