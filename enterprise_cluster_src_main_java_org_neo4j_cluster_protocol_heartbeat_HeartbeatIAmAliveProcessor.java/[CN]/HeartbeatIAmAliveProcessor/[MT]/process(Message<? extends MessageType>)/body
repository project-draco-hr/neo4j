{
  if (!message.isInternal() && !message.isBroadcast() && !message.getMessageType().equals(HeartbeatMessage.i_am_alive)) {
    try {
      String from=message.getHeader(Message.FROM);
      if (!from.equals(message.getHeader(Message.TO)))       output.offer(message.copyHeadersTo(Message.internal(HeartbeatMessage.i_am_alive,new HeartbeatMessage.IAmAliveState(new URI(from))),Message.FROM));
    }
 catch (    URISyntaxException e) {
      e.printStackTrace();
    }
  }
}
