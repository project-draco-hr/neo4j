{
  UriInfo mockUri=mock(UriInfo.class);
  when(mockUri.getBaseUri()).thenReturn(new URI("http://peteriscool.com:6666/"));
  NeoServer mockServer=mock(NeoServer.class);
  when(mockServer.managementApiUri()).thenReturn(new URI("http://peteriscool.com:6666/management"));
  when(mockServer.restApiUri()).thenReturn(new URI("http://peteriscool.com:6666/data"));
  Configuration dummyConfig=mock(Configuration.class);
  when(dummyConfig.getProperty("foo")).thenReturn("bar");
  when(dummyConfig.containsKey("foo")).thenReturn(true);
  when(mockServer.getConfiguration()).thenReturn(dummyConfig);
  AdminPropertiesService adminPropertiesService=new AdminPropertiesService(mockUri,mockServer,new OutputFormat(new JsonFormat(),new URI("http://peteriscool.com:6666/"),null));
  Response response=adminPropertiesService.getValue("foo");
  assertThat(response.getStatus(),is(200));
  assertThat(new String((byte[])response.getEntity(),"UTF-8"),containsString("bar"));
}
