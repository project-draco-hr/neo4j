{
  JaxRsResponse r=null;
  long start=new Date().getTime(), timeout=1000 * 60;
  try {
    do {
      r=RestRequest.req().get(url + "/db/data/node/" + nodeId);
      Thread.sleep(100);
      if (new Date().getTime() - start > timeout) {
        throw new RuntimeException("Waiting for node to exist took longer than the timout specified.");
      }
    }
 while (r.getStatus() != 200);
  }
 catch (  InterruptedException e) {
    throw new RuntimeException(e);
  }
}
