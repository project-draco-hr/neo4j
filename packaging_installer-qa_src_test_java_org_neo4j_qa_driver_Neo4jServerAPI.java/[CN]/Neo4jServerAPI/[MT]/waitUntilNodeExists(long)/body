{
  JaxRsResponse r=null;
  long start=new Date().getTime();
  try {
    do {
      JaxRsResponse testUrl=RestRequest.req().get(url + "/db/data/node/" + nodeId);
      r=testUrl;
      System.out.printf("Asking for: %s and got: %d%n",testUrl,r.getStatus());
      Thread.sleep(100);
      if (new Date().getTime() - start > timeout) {
        throw new RuntimeException("Waiting for node to exist took longer than the timout specified.");
      }
    }
 while (r.getStatus() != 200);
  }
 catch (  InterruptedException e) {
    throw new RuntimeException(e);
  }
}
