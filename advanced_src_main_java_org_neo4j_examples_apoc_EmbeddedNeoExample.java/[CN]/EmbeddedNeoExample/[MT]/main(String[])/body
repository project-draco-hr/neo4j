{
  final NeoService neo=new EmbeddedNeo(NEO_DB_PATH);
  registerShutdownHookForNeo(neo);
  Transaction tx=neo.beginTx();
  try {
    Node firstNode=neo.createNode();
    firstNode.setProperty(NAME_KEY,"Hello");
    Node secondNode=neo.createNode();
    secondNode.setProperty(NAME_KEY,"World");
    firstNode.createRelationshipTo(secondNode,ExampleRelationshipTypes.EXAMPLE);
    String greeting=firstNode.getProperty(NAME_KEY) + " " + secondNode.getProperty(NAME_KEY);
    System.out.println(greeting);
    firstNode.getSingleRelationship(ExampleRelationshipTypes.EXAMPLE,Direction.OUTGOING).delete();
    firstNode.delete();
    secondNode.delete();
    tx.success();
  }
  finally {
    tx.finish();
  }
  System.out.println("Shutting down...");
  neo.shutdown();
}
