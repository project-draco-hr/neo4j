{
  long[] nodes=createMoreComplexGraph();
  ClientResponse response=postPathQuery(nodes,getAllShortestPathPayLoad(nodes[1]),"/paths");
  assertEquals(200,response.getStatus());
  String entity=response.getEntity(String.class);
  Collection<?> result=(Collection<?>)JsonHelper.jsonToSingleValue(entity);
  assertEquals(2,result.size());
  for (  Object representation : result) {
    Map<?,?> path=(Map<?,?>)representation;
    assertThatPathStartsWith(path,nodes[0]);
    assertThatPathEndsWith(path,nodes[1]);
    assertThatPathHasLength(path,2);
  }
  response.close();
}
