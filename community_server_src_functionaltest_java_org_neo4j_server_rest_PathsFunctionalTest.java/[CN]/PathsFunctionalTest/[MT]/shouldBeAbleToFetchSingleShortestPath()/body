{
  long[] nodes=createMoreComplexGraph();
  ClientResponse response=postPathQuery(nodes,getAllShortestPathPayLoad(nodes[1]),"/path");
  Map<?,?> path=JsonHelper.jsonToMap(response.getEntity(String.class));
  assertTrue(path.get("start").toString().endsWith("/node/" + nodes[0]));
  assertTrue(path.get("end").toString().endsWith("/node/" + nodes[1]));
  assertEquals(2,path.get("length"));
}
