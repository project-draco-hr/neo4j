{
  if (types.length == 0) {
    return start.getRelationships();
  }
  if (types.length == 1) {
    RelationshipType type=types[0];
    return start.getRelationships(type,directions.get(type));
  }
  return new FilteringIterable<Relationship>(start.getRelationships(types)){
    @Override protected boolean passes(    Relationship item){
switch (directions.get(item.getType())) {
case INCOMING:
        return item.getEndNode().equals(start);
case OUTGOING:
      return item.getStartNode().equals(start);
default :
    return true;
}
}
}
;
}
