{
  RelationshipRecord record=command.getRecord();
  RelationshipStore relationshipStore=neoStore.getRelationshipStore();
  if (recovery && !record.inUse()) {
    command.setBefore(relationshipStore.forceGetRaw(record.getId()));
  }
  highIdTracker.track(relationshipStore,record.getLongId());
  relationshipStore.updateRecord(record);
  invalidateCache(command);
  return true;
}
