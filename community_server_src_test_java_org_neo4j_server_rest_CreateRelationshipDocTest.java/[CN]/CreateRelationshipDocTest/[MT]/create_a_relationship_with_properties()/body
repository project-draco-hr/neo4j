{
  String jsonString="{\"to\" : \"" + getDataUri() + "node/"+ getNode("Sara").getId()+ "\", \"type\" : \"LOVES\", \"data\" : {\"foo\" : \"bar\"}}";
  Node i=getNode("Joe");
  gen.get().description(startGraph("Add relationship with properties before"));
  gen.get().expectedStatus(Status.CREATED.getStatusCode()).payload(jsonString).post(getNodeUri(i) + "/relationships");
  Transaction transaction=graphdb().beginTx();
  try {
    assertTrue(i.hasRelationship(DynamicRelationshipType.withName("LOVES")));
  }
  finally {
    transaction.finish();
  }
}
