{
  this.type=type;
  this.resource=resourceId;
  this.readCount=readCount;
  this.writeCount=writeCount;
  this.waitingThreads=new ArrayList<WaitingThread>();
  this.lockingTxs=locking.toArray(new LockingTransaction[locking.size()]);
  for (  LockingTransaction tx : lockingTxs) {
    if (tx instanceof WaitingThread) {
      waitingThreads.add((WaitingThread)tx);
    }
  }
}
