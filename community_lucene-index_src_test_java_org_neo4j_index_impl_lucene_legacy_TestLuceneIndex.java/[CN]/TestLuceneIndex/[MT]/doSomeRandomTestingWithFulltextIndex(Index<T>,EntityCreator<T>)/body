{
  T entity1=creator.create();
  T entity2=creator.create();
  String key="name";
  index.add(entity1,key,"The quick brown fox");
  index.add(entity2,key,"brown fox jumped over");
  for (int i=0; i < 2; i++) {
    assertThat(index.get(key,"The quick brown fox"),Contains.contains(entity1));
    assertThat(index.get(key,"brown fox jumped over"),Contains.contains(entity2));
    assertThat(index.query(key,"quick"),Contains.contains(entity1));
    assertThat(index.query(key,"brown"),Contains.contains(entity1,entity2));
    assertThat(index.query(key,"quick OR jumped"),Contains.contains(entity1,entity2));
    assertThat(index.query(key,"brown AND fox"),Contains.contains(entity1,entity2));
    restartTx();
  }
  index.delete();
}
