{
  String propertiesFile=System.getProperty(NEO_SERVER_CONFIG_FILE_KEY);
  File dbProperties=extractDbTuningProperties(propertiesFile);
  Map<String,String> config=stringMap();
  if (dbProperties != null) {
    if (!dbProperties.exists()) {
      throw new IllegalArgumentException(dbProperties + " doesn't exist");
    }
    config=readFromConfigConfig(config,dbProperties);
  }
  config.putAll(Args.parse(args).asMap());
  verifyConfig(config);
  try {
    JobScheduler jobScheduler=new Neo4jJobScheduler();
    LogService logService=logService(new DefaultFileSystemAbstraction());
    ObjectStreamFactory objectStreamFactory=new ObjectStreamFactory();
    new StandaloneClusterClient(jobScheduler,new ClusterClient(new Monitors(),adapt(new Config(config)),logService,new NotElectableElectionCredentialsProvider(),objectStreamFactory,objectStreamFactory));
  }
 catch (  LifecycleException e) {
    @SuppressWarnings({"ThrowableResultOfMethodCallIgnored","unchecked"}) Throwable cause=peel(e,Predicates.<Throwable>instanceOf(LifecycleException.class));
    if (cause instanceof ChannelException) {
      System.err.println("ERROR: " + cause.getMessage() + (cause.getCause() != null ? ", caused by:" + cause.getCause().getMessage() : ""));
    }
 else {
      System.err.println("ERROR: Unknown error");
      throw e;
    }
  }
}
