{
  File home=new File(System.getProperty("neo4j.home"));
  String logDir=System.getProperty("org.neo4j.cluster.logdirectory",new File(new File(home,"data"),"log").getPath());
  Config config=new Config(stringMap(InternalAbstractGraphDatabase.Configuration.store_dir.name(),logDir));
  Logging logging;
  try {
    StandaloneClusterClient.class.getClassLoader().loadClass("ch.qos.logback.classic.LoggerContext");
    LogbackService logback=new LogbackService(config,(LoggerContext)getSingleton().getLoggerFactory());
    logging=logback;
  }
 catch (  ClassNotFoundException e) {
    logging=new ClassicLoggingService(config);
  }
  return logging;
}
