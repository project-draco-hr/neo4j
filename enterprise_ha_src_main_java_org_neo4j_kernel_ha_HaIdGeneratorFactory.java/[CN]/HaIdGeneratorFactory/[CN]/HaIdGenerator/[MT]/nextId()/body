{
  if (state == IdGeneratorState.PENDING)   throw new IllegalStateException(state.name());
  long result=delegate.nextId();
  logger.debug("Using id " + result + " from "+ delegate+ " of type "+ idType);
  return result;
}
