{
  RelationshipRecord record=command.getRecord();
  neoStore.getRelationshipStore().updateRecord(record);
  boolean relationshipHasBeenDeletedButNotPreviouslyAppliedToStore=!record.inUse() && (record.getFirstNode() != -1 || record.getSecondNode() != -1);
  if (relationshipHasBeenDeletedButNotPreviouslyAppliedToStore) {
    cacheAccess.patchDeletedRelationshipNodes(command.getKey(),record.getType(),record.getFirstNode(),record.getFirstNextRel(),record.getSecondNode(),record.getSecondNextRel());
  }
  return false;
}
