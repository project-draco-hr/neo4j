{
  if (waitingTxMap.remove(tx) == null) {
    throw new RuntimeException(tx + " not waiting on " + resource);
  }
}
