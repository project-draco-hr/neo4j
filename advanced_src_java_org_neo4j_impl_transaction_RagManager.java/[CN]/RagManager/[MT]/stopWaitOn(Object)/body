{
  Thread currentThread=Thread.currentThread();
  if (waitingThreadMap.remove(currentThread) == null) {
    throw new RuntimeException("Thread not waiting on resource");
  }
}
