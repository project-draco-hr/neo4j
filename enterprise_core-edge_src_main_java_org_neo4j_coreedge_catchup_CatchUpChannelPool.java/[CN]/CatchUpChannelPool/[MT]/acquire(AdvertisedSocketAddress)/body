{
  CHANNEL channel;
  LinkedList<CHANNEL> channels=idleChannels.get(catchUpAddress);
  if (channels == null) {
    channel=factory.apply(catchUpAddress);
  }
 else {
    channel=channels.poll();
    if (channels.isEmpty()) {
      idleChannels.remove(catchUpAddress);
    }
  }
  activeChannels.add(channel);
  return channel;
}
