{
  assertNull(properties().getProperty("test",null));
  beginTx();
  properties().setProperty("test","yo");
  assertEquals("yo",properties().getProperty("test"));
  finishTx(true);
  assertEquals("yo",properties().getProperty("test"));
  beginTx();
  assertNull(properties().removeProperty("something non existent"));
  assertEquals("yo",properties().removeProperty("test"));
  assertNull(properties().getProperty("test",null));
  properties().setProperty("other",10);
  assertEquals(10,properties().getProperty("other"));
  properties().setProperty("new","third");
  finishTx(true);
  assertNull(properties().getProperty("test",null));
  assertEquals(10,properties().getProperty("other"));
  assertEquals(asSet(asCollection(properties().getPropertyKeys())),asSet(asList("other","new")));
  beginTx();
  properties().setProperty("rollback",true);
  assertEquals(true,properties().getProperty("rollback"));
  finishTx(false);
  assertNull(properties().getProperty("rollback",null));
}
