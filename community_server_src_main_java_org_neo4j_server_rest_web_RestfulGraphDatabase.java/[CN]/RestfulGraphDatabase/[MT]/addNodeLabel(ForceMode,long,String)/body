{
  try {
    Object rawInput=input.readValue(body);
    if (rawInput instanceof String) {
      ArrayList<String> s=new ArrayList<String>();
      s.add((String)rawInput);
      actions(force).addLabelToNode(nodeId,s);
    }
 else     if (rawInput instanceof Collection) {
      actions(force).addLabelToNode(nodeId,(Collection<String>)rawInput);
    }
 else {
      throw new BadInputException(format("Label name must be a string. Got: '%s'",rawInput));
    }
  }
 catch (  BadInputException e) {
    return output.badRequest(e);
  }
catch (  ArrayStoreException ase) {
    return generateBadRequestDueToMangledJsonResponse(body);
  }
catch (  NodeNotFoundException e) {
    return output.notFound(e);
  }
  return nothing();
}
