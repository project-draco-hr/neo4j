{
  Machine machine=new Machine();
  PackStream.Packer packer=machine.packer();
  packer.pack(Long.MAX_VALUE);
  packer.pack(Long.MAX_VALUE);
  packer.flush();
  ReadableByteChannel ch=Channels.newChannel(new ByteArrayInputStream(machine.output()));
  PackStream.Unpacker unpacker=new PackStream.Unpacker(new BufferedChannelInput(11).reset(ch));
  long first=unpacker.unpackLong();
  long second=unpacker.unpackLong();
  assertEquals(Long.MAX_VALUE,first);
  assertEquals(Long.MAX_VALUE,second);
}
