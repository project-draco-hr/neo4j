{
  Machine machine=new Machine();
  for (long i=-16; i < 128; i++) {
    machine.reset();
    machine.packer().pack(i);
    machine.packer().flush();
    byte[] bytes=machine.output();
    assertThat(bytes.length,equalTo(1));
    PackStream.Unpacker unpacker=newUnpacker(bytes);
    PackValue value=unpacker.unpack();
    assertThat(value.isInteger(),equalTo(true));
    assertThat(value.longValue(),equalTo(i));
  }
}
