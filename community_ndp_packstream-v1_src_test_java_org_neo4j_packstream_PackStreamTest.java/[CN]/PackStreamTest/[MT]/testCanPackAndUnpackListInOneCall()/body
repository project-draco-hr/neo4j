{
  Machine machine=new Machine();
  PackStream.Packer packer=machine.packer();
  packer.pack(asList(12,13,14));
  packer.flush();
  PackValue value=newUnpacker(machine.output()).unpack();
  assertThat(value.isList(),equalTo(true));
  List<PackValue> list=value.listValue();
  assertThat(list.size(),equalTo(3));
  assertThat(list.get(0).isInteger(),equalTo(true));
  assertThat(list.get(1).isInteger(),equalTo(true));
  assertThat(list.get(2).isInteger(),equalTo(true));
  assertThat(list.get(0).longValue(),equalTo(12L));
  assertThat(list.get(1).longValue(),equalTo(13L));
  assertThat(list.get(2).longValue(),equalTo(14L));
}
