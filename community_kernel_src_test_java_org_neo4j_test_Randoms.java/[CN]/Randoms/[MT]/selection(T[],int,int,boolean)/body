{
  int diff=min == max ? 0 : random.nextInt(max - min);
  int length=min + diff;
  T[] result=(T[])Array.newInstance(among.getClass().getComponentType(),length);
  for (int i=0; i < length; i++) {
    while (true) {
      T candidate=among(among);
      if (!allowDuplicates && ArrayUtil.contains(result,candidate)) {
        continue;
      }
      result[i]=candidate;
      break;
    }
  }
  return result;
}
