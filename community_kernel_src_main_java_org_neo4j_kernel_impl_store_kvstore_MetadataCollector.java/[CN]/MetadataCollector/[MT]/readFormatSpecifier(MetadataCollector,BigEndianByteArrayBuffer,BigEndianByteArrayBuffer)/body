{
  if (!key.allZeroes()) {
    throw new IllegalStateException("Expecting a valid format specifier.");
  }
  if (!collector.verifyFormatSpecifier(value)) {
    collector.state=in_error;
    throw new IllegalStateException("Format header/trailer has changed.");
  }
  try {
    collector.header=1;
    return true;
  }
  finally {
    collector.state=expecting_header;
  }
}
