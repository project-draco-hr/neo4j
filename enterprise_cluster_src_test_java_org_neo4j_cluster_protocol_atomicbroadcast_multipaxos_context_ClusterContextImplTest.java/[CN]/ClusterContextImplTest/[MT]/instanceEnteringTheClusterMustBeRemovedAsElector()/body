{
  InstanceId me=new InstanceId(1);
  InstanceId elector=new InstanceId(2);
  CommonContextState commonContextState=mock(CommonContextState.class,RETURNS_MOCKS);
  ClusterContext context=new ClusterContextImpl(me,commonContextState,mock(Logging.class),mock(Timeouts.class),mock(Executor.class),mock(ObjectOutputStreamFactory.class),mock(ObjectInputStreamFactory.class),mock(LearnerContext.class),mock(HeartbeatContext.class));
  context.setLastElector(elector);
  context.setLastElectorVersion(8);
  context.joined(elector,URI.create("cluster://elector"));
  assertEquals(context.getLastElector(),InstanceId.NONE);
  assertEquals(context.getLastElectorVersion(),-1);
}
