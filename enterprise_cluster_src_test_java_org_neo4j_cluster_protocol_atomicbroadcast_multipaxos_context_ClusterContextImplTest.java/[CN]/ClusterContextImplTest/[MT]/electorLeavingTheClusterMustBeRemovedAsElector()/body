{
  InstanceId me=new InstanceId(1);
  InstanceId elector=new InstanceId(2);
  ClusterConfiguration clusterConfiguration=mock(ClusterConfiguration.class);
  when(clusterConfiguration.getUriForId(elector)).thenReturn(URI.create("cluster://instance2"));
  CommonContextState commonContextState=mock(CommonContextState.class);
  when(commonContextState.configuration()).thenReturn(clusterConfiguration);
  ClusterContext context=new ClusterContextImpl(me,commonContextState,mock(Logging.class),mock(Timeouts.class),mock(Executor.class),mock(ObjectOutputStreamFactory.class),mock(ObjectInputStreamFactory.class),mock(LearnerContext.class),mock(HeartbeatContext.class));
  context.setLastElector(elector);
  context.setLastElectorVersion(8);
  context.left(elector);
  assertEquals(context.getLastElector(),InstanceId.NONE);
  assertEquals(context.getLastElectorVersion(),-1);
}
