{
  long[] originalClosedTransaction=neoStores.getMetaDataStore().getLastClosedTransaction();
  long transactionId=originalClosedTransaction[0] + 1;
  long version=1l;
  long byteOffset=777l;
  neoStores.getMetaDataStore().transactionClosed(transactionId,version,byteOffset);
  long[] closedTransactionFlags=neoStores.getMetaDataStore().getLastClosedTransaction();
  assertEquals(version,closedTransactionFlags[1]);
  assertEquals(byteOffset,closedTransactionFlags[2]);
  neoStores.close();
  neoStores=storeFactory.openAllNeoStores();
  long[] lastClosedTransactionFlags=neoStores.getMetaDataStore().getLastClosedTransaction();
  assertEquals(version,lastClosedTransactionFlags[1]);
  assertEquals(byteOffset,lastClosedTransactionFlags[2]);
}
