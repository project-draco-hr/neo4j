{
  TransactionRecordState writeTransaction=newWriteTransaction().first();
  final long ruleId=neoStore.getSchemaStore().nextId();
  IndexRule schemaRule=indexRule(ruleId,10,8,PROVIDER_DESCRIPTOR);
  writeTransaction.createSchemaRule(schemaRule);
  try (LockGroup locks=new LockGroup()){
    commitProcess().commit(transactionRepresentationOf(writeTransaction),locks,commitEvent,INTERNAL);
  }
   verify(cacheAccessBackDoor).addSchemaRule(schemaRule);
}
