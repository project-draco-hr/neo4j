{
  try {
    EventElement eventElement=eventManager.getNextEventElement();
    while (eventElement != null) {
      queue(eventElement);
      eventElement=eventManager.getNextEventElement();
    }
    while (run || queueList.size() > 0) {
      flushAll();
      try {
        wait(waitTime);
      }
 catch (      InterruptedException e) {
        Thread.interrupted();
      }
      eventElement=eventManager.getNextEventElement();
      while (eventElement != null) {
        this.queue(eventElement);
        eventElement=eventManager.getNextEventElement();
      }
    }
    eventElement=eventManager.getNextEventElement();
    while (eventElement != null) {
      queueList.add(eventElement);
      eventElement=eventManager.getNextEventElement();
    }
  }
 catch (  Throwable t) {
    t.printStackTrace();
    log.severe("Event consumer queue caught thowable, " + "queue destroyed");
  }
  destroyed=true;
}
