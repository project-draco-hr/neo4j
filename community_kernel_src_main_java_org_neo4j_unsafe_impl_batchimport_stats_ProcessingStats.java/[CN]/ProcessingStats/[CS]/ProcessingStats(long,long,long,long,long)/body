{
  add(Keys.received_batches,longStat(receivedBatches));
  add(Keys.done_batches,longStat(doneBatches));
  add(Keys.total_processing_time,longStat(totalProcessingTime));
  add(Keys.upstream_idle_time,longStat(upstreamIdleTime));
  add(Keys.downstream_idle_time,longStat(downstreamIdleTime));
  add(Keys.avg_processing_time,new LongBasedStat(){
    @Override public long asLong(){
      long batches=stat(Keys.done_batches).asLong();
      return batches == 0 ? 0 : stat(Keys.total_processing_time).asLong() / batches;
    }
  }
);
}
