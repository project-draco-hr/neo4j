{
  if (!remaining.isEmpty()) {
    Log log=remaining.pop();
    log.bulk(new Consumer<Log>(){
      @Override public void accept(      Log bulkLog){
        bulkLogs.add(bulkLog);
        bulk(remaining,bulkLogs,finalConsumer);
      }
    }
);
  }
 else {
    Log log=new DuplicatingLog(bulkLogs);
    finalConsumer.accept(log);
  }
}
