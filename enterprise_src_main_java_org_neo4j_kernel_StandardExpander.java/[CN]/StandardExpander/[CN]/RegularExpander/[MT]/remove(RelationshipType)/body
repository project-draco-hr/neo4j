{
  for (int i=0; i < types.length; i++) {
    if (type.name().equals(types[i].name())) {
      Map<String,Direction> newDirections=directions;
      if (directions.containsKey(type.name())) {
        newDirections=new HashMap<String,Direction>(directions);
      }
      RelationshipType[] newTypes=new RelationshipType[types.length - 1];
      System.arraycopy(types,0,newTypes,0,i);
      System.arraycopy(types,i + 1,newTypes,i,types.length - i - 1);
      return createNew(types,newDirections);
    }
  }
  return this;
}
