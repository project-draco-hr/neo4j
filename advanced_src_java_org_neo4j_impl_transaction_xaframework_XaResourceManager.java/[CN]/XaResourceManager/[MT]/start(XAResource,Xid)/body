{
  if (xaResourceMap.containsKey(xaResource)) {
    throw new XAException("Resource[" + xaResource + "] already enlisted or suspended");
  }
  xaResourceMap.put(xaResource,xid);
  if (!xidMap.containsKey(xid)) {
    int identifier=log.start(xid);
    XaTransaction xaTx=tf.create(identifier);
    xidMap.put(xid,new XidStatus(xaTx));
  }
}
