{
  try {
    TransactionFactory.getTransactionIsolationLevel();
    if (lockType == LockType.READ) {
      LockManager.getManager().getReadLock(resource);
    }
 else     if (lockType == LockType.WRITE) {
      LockManager.getManager().getWriteLock(resource);
    }
 else {
      throw new RuntimeException("Unkown lock type: " + lockType);
    }
  }
 catch (  NotInTransactionException e) {
    throw new RuntimeException("Unable to get transaction isolation level.",e);
  }
catch (  IllegalResourceException e) {
    throw new RuntimeException(e);
  }
}
