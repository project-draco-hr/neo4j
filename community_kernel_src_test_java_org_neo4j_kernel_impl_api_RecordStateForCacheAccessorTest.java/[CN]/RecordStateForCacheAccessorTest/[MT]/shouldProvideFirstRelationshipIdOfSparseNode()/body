{
  ControlledLoaders fakeStore=new ControlledLoaders();
  long nodeId=0L, relId=3L;
  fakeStore.getNodes().put(nodeId,new NodeRecord(nodeId,false,relId,-1,true));
  fakeStore.getRelationships().put(relId,new RelationshipRecord(relId,true,0,0,0,-1,-1,-1,-1,true,true));
  RecordStateForCacheAccessor accessor=new RecordStateForCacheAccessor(fakeStore.newAccessSet());
  FirstRelationshipIds firstIds=accessor.firstRelationshipIdsOf(nodeId);
  assertEquals(relId,firstIds.firstIdOf(0,DirectionWrapper.OUTGOING));
  assertEquals(relId,firstIds.firstIdOf(2,DirectionWrapper.BOTH));
}
