{
  this.kpe=kpe;
  this.storeDir=storeDir;
  this.inputParams=inputParams;
  this.params=getDefaultParams();
  this.txModule=txModule;
  this.lockManager=lockManager;
  this.lockReleaser=lockReleaser;
  this.idGeneratorModule=new IdGeneratorModule(idGenerator);
  this.readOnly=Boolean.parseBoolean((String)params.get(READ_ONLY));
  this.backupSlave=Boolean.parseBoolean((String)params.get(READ_ONLY));
  this.syncHookFactory=txSyncHookFactory;
  this.persistenceModule=new PersistenceModule();
  this.cacheManager=new AdaptiveCacheManager();
  graphDbModule=new GraphDbModule(graphDb,cacheManager,lockManager,txModule.getTxManager(),idGeneratorModule.getIdGenerator(),Boolean.parseBoolean((String)params.get(READ_ONLY)));
}
