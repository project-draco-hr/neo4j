{
  Buffer buffer=window.getOffsettedBuffer(id);
  Bits bits=new Bits(RECORD_SIZE);
  bits.read(buffer);
  long[] propBlock=new long[PropertyType.getPayloadSizeLongs()];
  for (int i=propBlock.length - 1; i >= 0; i--) {
    propBlock[i]=bits.getLong(0xFFFFFFFFFFFFFFFFL);
    bits.shiftRight(64);
  }
  PropertyRecord record=new PropertyRecord(id);
  record.setPropBlock(propBlock);
  long prevProp=bits.getLong(0xFFFFFFFFL);
  bits.shiftRight(32);
  long prevMod=(long)bits.getByte((byte)0xF) << 32;
  bits.shiftRight(8);
  record.setPrevProp(longFromIntAndMod(prevProp,prevMod));
  long nextProp=bits.getLong(0xFFFFFFFFL);
  bits.shiftRight(32);
  long nextMod=(long)bits.getByte((byte)0xF) << 32;
  bits.shiftRight(4);
  record.setNextProp(longFromIntAndMod(nextProp,nextMod));
  byte category=bits.getByte((byte)0xF);
  record.setCategory(category);
  bits.shiftRight(3);
  record.setInUse(category != 0);
  if (!record.inUse()) {
    throw new InvalidRecordException("Record[" + id + "] not in use");
  }
  return record;
}
