{
  Buffer buffer=window.getOffsettedBuffer(id);
  Bits bits=new Bits(30);
  bits.read(buffer);
  Bits originalBits=bits.clone();
  long[] propBlock=new long[PropertyType.getPayloadSizeLongs()];
  for (int i=propBlock.length - 1; i >= 0; i--) {
    propBlock[i]=bits.getLong(0xFFFFFFFFFFFFFFFFL);
    bits.shiftRight(64);
  }
  PropertyRecord record=new PropertyRecord(id);
  record.setPropBlock(propBlock);
  long prevProp=bits.getLong(0xFFFFFFFFL);
  bits.shiftRight(32);
  long prevMod=(long)bits.getByte((byte)0xF) << 32;
  bits.shiftRight(8);
  record.setPrevProp(longFromIntAndMod(prevProp,prevMod));
  long nextProp=bits.getLong(0xFFFFFFFFL);
  bits.shiftRight(32);
  long nextMod=(long)bits.getByte((byte)0xF) << 32;
  bits.shiftRight(4);
  record.setNextProp(longFromIntAndMod(nextProp,nextMod));
  int header=bits.getInt(0xFFF);
  bits.shiftRight(12);
  record.setKeyIndexId(bits.getInt(0x7FFFFF));
  bits.shiftRight(23);
  record.setInUse(bits.getByte((byte)0x1) == 1);
  if (!record.inUse()) {
    throw new InvalidRecordException("Record[" + id + "] not in use");
  }
  record.setHeader(header);
  return record;
}
