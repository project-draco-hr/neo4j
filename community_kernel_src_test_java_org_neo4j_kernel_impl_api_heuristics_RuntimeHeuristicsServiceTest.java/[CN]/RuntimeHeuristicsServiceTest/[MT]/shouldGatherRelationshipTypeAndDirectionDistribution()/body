{
  double equalityTolerance=0.2d;
  HeuristicsCollector collector=new HeuristicsCollector(new RollingAverage.Parameters(RollingAverage.Parameters.DEFAULT_WINDOW_SIZE,equalityTolerance));
  RuntimeHeuristicsService service=new RuntimeHeuristicsService(collector,generateStore(),null);
  HeuristicsData heuristics=service.heuristics();
  service.run();
  service.run();
  assertThat(heuristics.relationshipTypeDistribution(),equalTo(new LabelledDistribution<Integer>(equalityTolerance).record(asList(0),40).record(asList(1),60).recalculate()));
}
