{
  LinkedList<PropertyContainer> entities=new LinkedList<PropertyContainer>();
  TraversalBranch branch=start;
  while (branch.length() > 0) {
    entities.addFirst(branch.endNode());
    entities.addFirst(branch.lastRelationship());
    branch=branch.parent();
  }
  entities.addFirst(branch.endNode());
  if (cachedStartNode == null)   cachedStartNode=branch.endNode();
  entities.add(end.lastRelationship());
  branch=end.parent();
  if (branch != null) {
    while (branch.length() > 0) {
      entities.add(branch.endNode());
      entities.add(branch.lastRelationship());
      branch=branch.parent();
    }
    entities.add(branch.endNode());
  }
  return entities.iterator();
}
