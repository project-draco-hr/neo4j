{
  Optional<CoreGraphDatabase> database=cluster.coreServers().stream().findFirst();
  KernelAPI kernel=database.get().getDependencyResolver().resolveDependency(KernelAPI.class);
  KernelTransaction transaction=kernel.newTransaction(KernelTransaction.Type.implicit,READ);
  Statement statement=transaction.acquireStatement();
  List<Object[]> members=asList(statement.readOperations().procedureCallRead(procedureName("dbms","cluster",DiscoverMembersProcedure.NAME),new Object[0]));
  assertThat(members,containsInAnyOrder(new Object[]{"127.0.0.1:8000"},new Object[]{"127.0.0.1:8001"},new Object[]{"127.0.0.1:8002"}));
}
