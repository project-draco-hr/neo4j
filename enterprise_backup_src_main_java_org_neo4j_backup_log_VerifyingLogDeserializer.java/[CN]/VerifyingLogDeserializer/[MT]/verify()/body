{
  msgLog.logMessage("Verifying consistency of changes from " + startEntry);
  ConsistencyCheck consistency=diffs.apply(new ConsistencyCheck(diffs){
    @Override protected void report(    AbstractBaseRecord record,    AbstractBaseRecord referred,    String message){
      logInconsistency(record + " " + referred+ " // "+ message);
    }
    @Override protected void report(    AbstractBaseRecord record,    String message){
      logInconsistency(record + " // " + message);
    }
  }
);
  try {
    consistency.checkResult();
  }
 catch (  AssertionError e) {
    msgLog.logMessage("Cannot apply log " + startEntry + ", "+ e.getMessage());
    throw e;
  }
}
