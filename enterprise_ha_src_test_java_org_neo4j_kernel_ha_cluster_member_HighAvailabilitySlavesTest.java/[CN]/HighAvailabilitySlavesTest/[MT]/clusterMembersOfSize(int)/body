{
  List<ClusterMember> members=new ArrayList<ClusterMember>(size);
  members.add(mockClusterMemberWithRole(HighAvailabilityModeSwitcher.MASTER));
  for (int i=0; i < size - 1; i++) {
    members.add(mockClusterMemberWithRole(HighAvailabilityModeSwitcher.SLAVE));
  }
  ClusterMembers clusterMembers=mock(ClusterMembers.class);
  when(clusterMembers.getMembers()).thenReturn(members);
  return clusterMembers;
}
