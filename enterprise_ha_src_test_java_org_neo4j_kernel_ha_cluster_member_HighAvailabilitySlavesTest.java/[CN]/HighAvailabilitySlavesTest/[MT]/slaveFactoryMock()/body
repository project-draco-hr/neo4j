{
  SlaveFactory slaveFactory=mock(SlaveFactory.class);
  when(slaveFactory.newSlave(any(ClusterMember.class))).then(new Answer<Slave>(){
    @Override public Slave answer(    InvocationOnMock invocation) throws Throwable {
      return mock(Slave.class,withSettings().extraInterfaces(Lifecycle.class));
    }
  }
);
  return slaveFactory;
}
