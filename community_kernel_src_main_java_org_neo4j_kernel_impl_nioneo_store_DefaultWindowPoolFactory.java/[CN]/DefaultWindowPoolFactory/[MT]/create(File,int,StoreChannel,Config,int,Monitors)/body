{
  PersistenceWindowPool.Monitor monitor=monitors.newMonitor(PersistenceWindowPool.Monitor.class);
  return new PersistenceWindowPool(storageFileName,recordSize,fileChannel,calculateMappedMemory(configuration,storageFileName),configuration.get(CommonAbstractStore.Configuration.use_memory_mapped_buffers),isReadOnly(configuration) && !isBackupSlave(configuration),new ConcurrentHashMap<Long,PersistenceRow>(),BrickElementFactory.DEFAULT,monitor);
}
