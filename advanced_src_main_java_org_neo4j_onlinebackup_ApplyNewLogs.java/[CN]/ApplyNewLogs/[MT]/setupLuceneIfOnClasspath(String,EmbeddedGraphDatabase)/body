{
  TxModule txModule=graphDb.getConfig().getTxModule();
  XaDataSourceManager xaDsMgr=txModule.getXaDataSourceManager();
  LockManager lockManager=graphDb.getConfig().getLockManager();
  try {
    Class clazz=Class.forName(LUCENE_FULLTEXT_DS_CLASS);
    if (xaDsMgr.getXaDataSource("lucene-fulltext") == null) {
      Map<Object,Object> params=new HashMap<Object,Object>();
      params.put("dir",dstDir + "/lucene-fulltext");
      txModule.registerDataSource("lucene-fulltext",clazz.getName(),"162373".getBytes(),params);
    }
    clazz=Class.forName(LUCENE_DS_CLASS);
    if (xaDsMgr.getXaDataSource("lucene") == null) {
      Map<Object,Object> params=new HashMap<Object,Object>();
      params.put("dir",dstDir + "/lucene");
      txModule.registerDataSource("lucene",clazz.getName(),"262374".getBytes(),params);
    }
  }
 catch (  ClassNotFoundException e) {
  }
}
