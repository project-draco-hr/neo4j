{
  Closeable closeable=mock(Closeable.class);
  Iterator<Integer> iterator=new ArrayIterator<Integer>(new Integer[]{1,2});
  ResourceIterator<Integer> resourceIterator=withResource(iterator,closeable);
  while (resourceIterator.hasNext())   resourceIterator.next();
  resourceIterator.close();
  verify(closeable,times(1)).close();
}
