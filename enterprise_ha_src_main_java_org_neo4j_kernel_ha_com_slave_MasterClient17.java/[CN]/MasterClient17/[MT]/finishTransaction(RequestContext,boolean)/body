{
  try {
    return sendRequest(HaRequestType17.FINISH,context,new Serializer(){
      public void write(      ChannelBuffer buffer,      ByteBuffer readBuffer) throws IOException {
        buffer.writeByte(success ? 1 : 0);
      }
    }
,VOID_DESERIALIZER);
  }
 catch (  TransactionAlreadyActiveException e) {
    if (!success) {
      return new Response<Void>(null,getStoreId(),TransactionStream.EMPTY,ResourceReleaser.NO_OP);
    }
    throw e;
  }
}
