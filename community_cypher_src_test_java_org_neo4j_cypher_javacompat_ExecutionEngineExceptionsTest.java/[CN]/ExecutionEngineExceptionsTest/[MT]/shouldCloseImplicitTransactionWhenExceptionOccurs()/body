{
  assertNull(databaseRule.getGraphDatabaseAPI().getTxManager().getTransaction());
  ExecutionEngine engine=new ExecutionEngine(databaseRule.getGraphDatabaseService());
  engine.execute("CREATE ( person1:Person { name: 'One' } ), ( person2:Person { name: 'One' } )");
  try {
    engine.execute("CREATE CONSTRAINT ON (person:Person) ASSERT person.name IS UNIQUE");
    fail();
  }
 catch (  CouldNotCreateConstraintException ex) {
  }
  assertNull(databaseRule.getGraphDatabaseAPI().getTxManager().getTransaction());
}
