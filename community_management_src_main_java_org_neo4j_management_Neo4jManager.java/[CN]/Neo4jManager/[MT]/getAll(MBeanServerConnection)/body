{
  try {
    Set<ObjectName> kernels=server.queryNames(getObjectName(Kernel.class,null),null);
    Neo4jManager[] managers=new Neo4jManager[kernels.size()];
    Iterator<ObjectName> it=kernels.iterator();
    for (int i=0; i < managers.length; i++) {
      managers[i]=new Neo4jManager(server,proxy(server,Kernel.class,it.next()));
    }
    return managers;
  }
 catch (  IOException e) {
    throw new IllegalStateException("Connection failed.",e);
  }
}
