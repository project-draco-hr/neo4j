{
  int wanted=src.limit();
  int pending=wanted;
  while (pending > 0) {
    int howMuchToWriteThisTime=min(pending,scratchPad.length);
    src.get(scratchPad,0,howMuchToWriteThisTime);
    fileAsBuffer.put(scratchPad,0,howMuchToWriteThisTime);
    pending-=howMuchToWriteThisTime;
  }
  size=max(size,(int)position());
  return wanted;
}
