{
  boolean isFirst=prevRel == Record.NO_PREV_RELATIONSHIP.intValue();
  boolean isLast=nextRel == Record.NO_NEXT_RELATIONSHIP.intValue();
  ChainEntry entry=new ChainEntry(record,isLast,chainIndex.get(nextRel));
  chainIndex.put(record.getId(),entry);
  if (isFirst) {
    head=entry;
  }
 else {
    ChainEntry prevInChain=chainIndex.get(prevRel);
    if (prevInChain != null) {
      prevInChain.next=entry;
    }
  }
}
