{
  RelationshipRecord record=recordChanges.getRelRecords().getOrLoad(id,null).forChangingLinkage();
  if (!record.inUse()) {
    throw new IllegalStateException("Unable to delete relationship[" + id + "] since it is already deleted.");
  }
  ArrayMap<Integer,DefinedProperty> propertyMap=propertyChainDeleter.getAndDeletePropertyChain(record,recordChanges.getPropertyRecords());
  disconnectRelationship(record,recordChanges);
  updateNodesForDeletedRelationship(record,recordChanges);
  record.setInUse(false);
  return propertyMap;
}
