{
  FileSystemAbstraction fsa=fsRule.get();
  File directory=new File(SEGMENTED_LOG_DIRECTORY_NAME);
  fsa.mkdir(directory);
  long rotateAtSizeBytes=128;
  int entryCacheSize=4;
  SegmentedRaftLog newRaftLog=new SegmentedRaftLog(fsa,directory,rotateAtSizeBytes,new DummyRaftableContentSerializer(),NullLogProvider.getInstance(),raft_log_pruning_strategy.getDefaultValue());
  newRaftLog.init();
  newRaftLog.start();
  return newRaftLog;
}
