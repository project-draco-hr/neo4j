{
  checkIfShutdown();
  NeoStoreTransactionContext context=neoStoreTransactionContextSupplier.acquire();
  Locks.Client locksClient=locks.newClient();
  context.bind(locksClient);
  TransactionRecordState neoStoreTransaction=new TransactionRecordState(neoStore.getLastCommittingTransactionId(),neoStore,integrityValidator,context);
  ConstraintIndexCreator constraintIndexCreator=new ConstraintIndexCreator(this,indexService);
  return new KernelTransactionImplementation(statementOperations,readOnly,schemaWriteGuard,labelScanStore,indexService,nodeManager,schemaState,neoStoreTransaction,providerMap,neoStore,locksClient,hooks,constraintIndexCreator,transactionHeaderInformation,commitProcess,transactionMonitor,neoStore,persistenceCache,storeLayer);
}
