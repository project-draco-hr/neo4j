{
  TransactionContext result=new StoreTransactionContext(transactionManager,propertyKeyTokenHolder,labelTokenHolder,nodeManager,neoStore,indexService);
  result=new StateHandlingTransactionContext(result,new SchemaStorage(neoStore.getSchemaStore()),newTxState(),providerMap,persistenceCache,schemaCache,persistenceManager,schemaState);
  result=new ConstraintEvaluatingTransactionContext(result);
  result=new LockingTransactionContext(result,lockManager,transactionManager);
  result=new ReferenceCountingTransactionContext(result);
  return result;
}
