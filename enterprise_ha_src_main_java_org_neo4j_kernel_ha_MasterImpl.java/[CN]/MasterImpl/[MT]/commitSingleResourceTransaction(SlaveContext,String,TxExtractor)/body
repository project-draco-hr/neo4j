{
  Transaction otherTx=suspendOtherAndResumeThis(context,false);
  try {
    XaDataSource dataSource=graphDb.getXaDataSourceManager().getXaDataSource(resource);
    long txId=dataSource.applyPreparedTransaction(txGetter.extract());
    return packResponse(context,txId,txId - 1);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
 finally {
    suspendThisAndResumeOther(otherTx,context);
  }
}
