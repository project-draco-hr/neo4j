{
  Buffer buffer=window.getOffsettedBuffer(id);
  byte inUse=buffer.get();
  boolean inUseFlag=((inUse & Record.IN_USE.byteValue()) == Record.IN_USE.byteValue());
  if (!inUseFlag) {
    if (check) {
      return null;
    }
    throw new InvalidRecordException("Record[" + id + "] not in use");
  }
  RelationshipRecord record=new RelationshipRecord(id,buffer.getInt(),buffer.getInt(),buffer.getInt());
  record.setInUse(inUseFlag);
  record.setFirstPrevRel(buffer.getInt());
  record.setFirstNextRel(buffer.getInt());
  record.setSecondPrevRel(buffer.getInt());
  record.setSecondNextRel(buffer.getInt());
  record.setNextProp(buffer.getInt());
  return record;
}
