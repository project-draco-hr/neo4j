{
  UriInfo uriInfo=mock(UriInfo.class);
  URI uri=new URI("http://example.org:7474/");
  when(uriInfo.getBaseUri()).thenReturn(uri);
  RootService svc=new RootService();
  Response serviceDefinition=svc.getServiceDefinition(uriInfo,null);
  assertEquals(200,serviceDefinition.getStatus());
  assertThat((String)serviceDefinition.getEntity(),containsString(String.format("\"console\" : \"%sserver/console\"",uri.toString())));
  assertThat((String)serviceDefinition.getEntity(),containsString(String.format("\"jmx\" : \"%sserver/jmx\"",uri.toString())));
  assertThat((String)serviceDefinition.getEntity(),containsString(String.format("\"monitor\" : \"%sserver/monitor\"",uri.toString())));
}
