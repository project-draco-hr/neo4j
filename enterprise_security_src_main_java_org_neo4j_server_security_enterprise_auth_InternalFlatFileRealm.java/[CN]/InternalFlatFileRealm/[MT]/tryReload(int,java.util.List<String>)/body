{
  if (attemptLeft < 0) {
    throw new RuntimeException("Unable to load valid flat file repositories! Attempts failed with:\n\t" + String.join("\n\t",failures));
  }
  try {
    userRepository.reloadIfNeeded();
    roleRepository.reloadIfNeeded();
    if (!roleRepository.validateAgainst(userRepository)) {
      failures.add("Role-auth file combination not valid.");
      Thread.sleep(10);
      tryReload(attemptLeft - 1,failures);
    }
  }
 catch (  IOException|IllegalStateException|InterruptedException e) {
    failures.add(e.getMessage());
    tryReload(attemptLeft - 1,failures);
  }
}
