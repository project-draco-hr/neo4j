{
  if (content instanceof ReplicatedIdAllocationRequest) {
    if (logIndex > idAllocationState.logIndex()) {
      ReplicatedIdAllocationRequest request=(ReplicatedIdAllocationRequest)content;
      IdType idType=request.idType();
      if (request.idRangeStart() == idAllocationState.firstUnallocated(idType)) {
        if (request.owner().equals(me)) {
          idAllocationState.lastIdRangeStart(idType,request.idRangeStart());
          idAllocationState.lastIdRangeLength(idType,request.idRangeLength());
        }
        updateFirstNotAllocated(idType,request.idRangeStart() + request.idRangeLength());
      }
      idAllocationState.logIndex(logIndex);
    }
 else {
      log.info("Ignoring content at index %d, since already applied up to %d",logIndex,idAllocationState.logIndex());
    }
  }
}
