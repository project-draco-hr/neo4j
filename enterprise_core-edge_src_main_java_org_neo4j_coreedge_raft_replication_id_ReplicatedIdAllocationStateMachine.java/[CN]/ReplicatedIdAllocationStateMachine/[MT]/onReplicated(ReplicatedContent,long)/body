{
  if (content instanceof ReplicatedIdAllocationRequest && logIndex > idAllocationState.logIndex()) {
    ReplicatedIdAllocationRequest request=(ReplicatedIdAllocationRequest)content;
    IdType idType=request.idType();
    if (request.idRangeStart() == idAllocationState.firstUnallocated(idType)) {
      if (request.owner().equals(me)) {
        idAllocationState.lastIdRangeStart(idType,request.idRangeStart());
        idAllocationState.lastIdRangeLength(idType,request.idRangeLength());
      }
      updateFirstNotAllocated(idType,request.idRangeStart() + request.idRangeLength());
    }
    idAllocationState.logIndex(logIndex);
  }
}
