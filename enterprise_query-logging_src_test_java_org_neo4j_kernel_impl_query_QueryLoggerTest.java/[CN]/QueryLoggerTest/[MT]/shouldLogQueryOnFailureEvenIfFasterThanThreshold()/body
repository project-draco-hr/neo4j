{
  StringLogger logger=mock(StringLogger.class);
  QuerySession session=session("{the session}");
  FakeClock clock=new FakeClock();
  QueryLogger queryLogger=queryLoggerWithoutParams(logger,clock);
  queryLogger.init();
  RuntimeException failure=new RuntimeException();
  queryLogger.startQueryExecution(session,"MATCH (n) RETURN n",Collections.<String,Object>emptyMap());
  clock.forward(1,TimeUnit.MILLISECONDS);
  queryLogger.endFailure(session,failure);
  verify(logger).error("FAILURE 1 ms: {the session} - MATCH (n) RETURN n",failure);
}
