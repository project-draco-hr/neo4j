{
  boolean verbose=parser.options().containsKey("v");
  boolean displayValues=verbose || !parser.options().containsKey("q");
  boolean displayProperties=parser.options().containsKey("p");
  boolean displayRelationships=parser.options().containsKey("r");
  boolean caseInsensitiveFilters=parser.options().containsKey("i");
  boolean looseFilters=parser.options().containsKey("l");
  String filterString=parser.options().get("f");
  Map<String,Object> filterMap=parseFilter(filterString,out);
  if (!displayProperties && !displayRelationships) {
    displayProperties=true;
    displayRelationships=true;
  }
  Node node=null;
  if (parser.arguments().isEmpty()) {
    node=this.getCurrentNode(session);
  }
 else {
    node=this.getNodeById(Long.parseLong(parser.arguments().get(0)));
  }
  NodeOrRelationship thing=getNodeOrRelationship(node,parser);
  if (displayProperties) {
    this.displayProperties(thing,out,displayValues,verbose,filterMap,caseInsensitiveFilters,looseFilters);
  }
  if (displayRelationships) {
    this.displayRelationships(parser,thing,out,verbose,filterMap,caseInsensitiveFilters,looseFilters);
  }
  return null;
}
