{
  try {
    UserTransaction ut=TransactionFactory.getUserTransaction();
    if (ut.getStatus() == Status.STATUS_NO_TRANSACTION) {
      try {
        ut.begin();
        EventManager.getManager().generateProActiveEvent(Event.TX_IMMEDIATE_BEGIN,new EventData(getTransactionId(ut)));
        return true;
      }
 catch (      javax.transaction.NotSupportedException e) {
        throw new RuntimeException("Unable to begin transaction",e);
      }
catch (      javax.transaction.SystemException e) {
        throw new RuntimeException("Unable to begin transaction",e);
      }
    }
    return false;
  }
 catch (  javax.transaction.SystemException e) {
    throw new RuntimeException("Unable to verify transaction context",e);
  }
}
