{
  PropertyBlock[] blocks=new PropertyBlock[properties.length >> 1];
  for (int i=0, cursor=0; i < blocks.length; i++) {
    int key=getOrCreateId((String)properties[cursor++]);
    Object value=properties[cursor++];
    blocks[i]=creator.encodeValue(blocks[i]=new PropertyBlock(),key,value);
  }
  return blocks;
}
