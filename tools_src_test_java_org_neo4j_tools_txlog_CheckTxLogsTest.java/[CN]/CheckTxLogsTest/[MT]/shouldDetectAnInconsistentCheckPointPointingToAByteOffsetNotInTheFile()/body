{
  ensureLogExists(logFile(1));
  writeCheckPoint(logFile(2),1,42);
  CapturingInconsistenciesHandler handler=new CapturingInconsistenciesHandler();
  CheckTxLogs checker=new CheckTxLogs(System.out,fsRule.get());
  checker.validateCheckPoints(new PhysicalLogFiles(storeDirectory,fsRule.get()),handler);
  assertEquals(1,handler.checkPointInconsistencies.size());
  assertEquals(2,handler.checkPointInconsistencies.get(0).logVersion);
  assertEquals(new LogPosition(1,42),handler.checkPointInconsistencies.get(0).logPosition);
  assertEquals(LOG_HEADER_SIZE,handler.checkPointInconsistencies.get(0).size);
}
