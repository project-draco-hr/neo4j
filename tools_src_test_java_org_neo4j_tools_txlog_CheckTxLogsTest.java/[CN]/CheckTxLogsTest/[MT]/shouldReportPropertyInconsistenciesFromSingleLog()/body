{
  File log=logFile(1);
  writeTxContent(log,0,new Command.PropertyCommand(propertyRecord(42,false,-1,-1),propertyRecord(42,true,-1,-1,10)),new Command.PropertyCommand(propertyRecord(42,true,-1,-1,10),propertyRecord(42,true,24,-1,10)));
  writeTxContent(log,0,new Command.NodeCommand(new NodeRecord(2,false,false,-1,-1,1),new NodeRecord(2,true,false,-1,-1,1)),new Command.PropertyCommand(propertyRecord(42,true,-1,-1,10),propertyRecord(42,true,-1,-1,10,20)));
  CapturingInconsistenciesHandler handler=new CapturingInconsistenciesHandler();
  CheckTxLogs checker=new CheckTxLogs(System.out,fsRule.get());
  boolean success=checker.scan(new PhysicalLogFiles(storeDirectory,fsRule.get()),handler,PROPERTY);
  assertFalse(success);
  assertEquals(1,handler.recordInconsistencies.size());
  PropertyRecord seenRecord=(PropertyRecord)handler.recordInconsistencies.get(0).committed.record();
  PropertyRecord currentRecord=(PropertyRecord)handler.recordInconsistencies.get(0).current.record();
  assertEquals(42,seenRecord.getId());
  assertEquals(24,seenRecord.getPrevProp());
  assertEquals(42,currentRecord.getId());
  assertEquals(-1,currentRecord.getPrevProp());
}
