{
  File log=logFile(1);
  writeTxContent(log,0,new Command.NeoStoreCommand(new NeoStoreRecord(),createNeoStoreRecord(42)),new Command.PropertyCommand(propertyRecord(5,false,-1,-1),propertyRecord(5,true,-1,-1,777)),new Command.NeoStoreCommand(createNeoStoreRecord(42),createNeoStoreRecord(21)));
  writeTxContent(log,0,new Command.NeoStoreCommand(createNeoStoreRecord(42),createNeoStoreRecord(33)));
  CapturingInconsistenciesHandler handler=new CapturingInconsistenciesHandler();
  CheckTxLogs checker=new CheckTxLogs(System.out,fsRule.get());
  checker.scan(new File[]{log},handler,NEO_STORE);
  assertEquals(1,handler.recordInconsistencies.size());
  NeoStoreRecord seenRecord=(NeoStoreRecord)handler.recordInconsistencies.get(0).committed.record();
  NeoStoreRecord currentRecord=(NeoStoreRecord)handler.recordInconsistencies.get(0).current.record();
  assertEquals(21,seenRecord.getNextProp());
  assertEquals(42,currentRecord.getNextProp());
}
