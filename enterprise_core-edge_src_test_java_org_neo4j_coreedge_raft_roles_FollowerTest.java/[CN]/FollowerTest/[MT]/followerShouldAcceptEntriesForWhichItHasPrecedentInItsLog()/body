{
  RaftState<RaftTestMember> state=raftState().myself(myself).build();
  Follower follower=new Follower();
  state.update(follower.handle(new RaftMessages.AppendEntries.Request<>(myself,0,-1,-1,new RaftLogEntry[]{new RaftLogEntry(0,ContentGenerator.content())},0),state,log()));
  Outcome<RaftTestMember> outcome=follower.handle(new RaftMessages.AppendEntries.Request<>(myself,0,0,0,new RaftLogEntry[]{new RaftLogEntry(0,ContentGenerator.content())},1),state,log());
  state.update(outcome);
  Message<RaftTestMember> response=messageFor(outcome,myself);
  assertThat(response,instanceOf(AppendEntries.Response.class));
  assertTrue(((AppendEntries.Response)response).success());
}
