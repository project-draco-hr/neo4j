{
  repo.begin(1l);
  repo.acquire(1l);
  repo.release(1l);
  repo.run();
  assertThat(repo.acquire(1l),equalTo(0l));
  repo.release(1l);
  clock.progress(timeout + 1,MILLISECONDS);
  repo.run();
  assertThat(reapedValues,equalTo(asList(0l)));
  try {
    repo.acquire(1l);
    fail("Should not have been possible to acquire.");
  }
 catch (  NoSuchEntryException e) {
    assertThat(e.getMessage(),equalTo("Cannot access '1', no such entry exists."));
  }
}
