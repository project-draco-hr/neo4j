{
  for (  StorageCommand command : commands) {
    if (command instanceof Command.TokenCommand) {
      return ((Command.TokenCommand<? extends TokenRecord>)command).getAfter().getId();
    }
  }
  throw new NoSuchEntryException("Expected command not found");
}
