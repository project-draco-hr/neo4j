{
  channelGroup.add(channel);
  if (other == null) {
    return;
  }
  int id=other.machineId();
synchronized (channelsPerClient) {
    Collection<Channel> channels=channelsPerClient.get(id);
    if (channels == null) {
      channels=new HashSet<Channel>();
      channelsPerClient.put(id,channels);
      System.out.println("new client connected " + id + ", "+ channel);
    }
    channels.add(channel);
  }
}
