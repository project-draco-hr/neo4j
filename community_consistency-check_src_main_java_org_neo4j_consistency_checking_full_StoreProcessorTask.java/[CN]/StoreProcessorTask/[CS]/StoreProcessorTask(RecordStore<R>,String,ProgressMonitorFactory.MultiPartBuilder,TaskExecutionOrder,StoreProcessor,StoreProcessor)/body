{
  this.store=store;
  String storeFileName=store.getStorageFileName().getName();
  String sanitizedBuilderPrefix=builderPrefix == null ? "" : builderPrefix;
  if (order == TaskExecutionOrder.MULTI_PASS) {
    this.processors=multiPassProcessors;
    this.progressListeners=new ProgressListener[multiPassProcessors.length];
    for (int i=0; i < multiPassProcessors.length; i++) {
      String partName=indexedPartName(storeFileName,sanitizedBuilderPrefix,i);
      progressListeners[i]=builder.progressForPart(partName,store.getHighId());
    }
  }
 else {
    this.processors=new StoreProcessor[]{singlePassProcessor};
    String partName=partName(storeFileName,sanitizedBuilderPrefix);
    this.progressListeners=new ProgressListener[]{builder.progressForPart(partName,store.getHighId())};
  }
}
