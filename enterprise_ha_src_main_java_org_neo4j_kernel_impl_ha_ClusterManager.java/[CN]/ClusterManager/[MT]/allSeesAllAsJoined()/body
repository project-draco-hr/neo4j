{
  return new Predicate<ManagedCluster>(){
    @Override public boolean accept(    ManagedCluster cluster){
      int nrOfMembers=cluster.spec.getMembers().size();
      for (      HighlyAvailableGraphDatabase database : cluster.getAllMembers()) {
        ClusterMembers members=database.getDependencyResolver().resolveDependency(ClusterMembers.class);
        if (count(members.getMembers()) < nrOfMembers) {
          return false;
        }
      }
      for (      ObservedClusterMembers clusterMembers : cluster.getArbiters()) {
        if (count(clusterMembers.getMembers()) < nrOfMembers) {
          return false;
        }
      }
      return true;
    }
    @Override public String toString(){
      return "All instances should see all others as joined";
    }
  }
;
}
