{
  super(fileName,conf,IdType.NEOSTORE_BLOCK,idGeneratorFactory,windowPoolFactory,fileSystemAbstraction,stringLogger);
  this.relTypeStore=relTypeStore;
  this.labelTokenStore=labelTokenStore;
  this.propStore=propStore;
  this.relStore=relStore;
  this.nodeStore=nodeStore;
  this.schemaStore=schemaStore;
  this.relGroupStore=relGroupStore;
  REL_GRAB_SIZE=conf.get(Configuration.relationship_grab_size);
  this.txHook=txHook;
  this.denseNodeThreshold=conf.get(Configuration.dense_node_threshold);
  setRecovered();
  try {
    if (getCreationTime() != 0 && getStoreVersion() == 0) {
      setStoreVersion(versionStringToLong(CommonAbstractStore.ALL_STORES_VERSION));
      updateHighId();
    }
  }
  finally {
    unsetRecovered();
  }
}
