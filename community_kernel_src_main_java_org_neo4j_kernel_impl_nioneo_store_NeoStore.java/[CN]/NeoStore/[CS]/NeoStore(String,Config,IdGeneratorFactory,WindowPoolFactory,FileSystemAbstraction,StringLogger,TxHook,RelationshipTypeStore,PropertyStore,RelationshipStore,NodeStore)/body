{
  super(fileName,conf,IdType.NEOSTORE_BLOCK,idGeneratorFactory,windowPoolFactory,fileSystemAbstraction,stringLogger);
  this.fileName=fileName;
  this.conf=conf;
  this.relTypeStore=relTypeStore;
  this.propStore=propStore;
  this.relStore=relStore;
  this.nodeStore=nodeStore;
  REL_GRAB_SIZE=conf.get(Configuration.relationship_grab_size);
  this.txHook=txHook;
  setRecovered();
  try {
    if (getCreationTime() != 0 && getStoreVersion() == 0) {
      setStoreVersion(versionStringToLong(CommonAbstractStore.ALL_STORES_VERSION));
      updateHighId();
    }
  }
  finally {
    unsetRecovered();
  }
}
