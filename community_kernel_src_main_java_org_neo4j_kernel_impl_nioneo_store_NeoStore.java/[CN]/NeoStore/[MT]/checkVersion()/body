{
  try {
    verifyCorrectTypeDescriptorAndVersion();
  }
 catch (  NotCurrentStoreVersionException e) {
    releaseFileLockAndCloseFileChannel();
    tryToUpgradeStores();
    checkStorage();
  }
catch (  IOException e) {
    throw new UnderlyingStorageException("Unable to check version " + getStorageFileName(),e);
  }
}
