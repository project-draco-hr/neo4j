{
  try (FileChannel channel=fileSystem.open(neoStore,"rw")){
    channel.position(RECORD_SIZE * position + 1);
    ByteBuffer buffer=ByteBuffer.allocate(8);
    channel.read(buffer);
    buffer.flip();
    long previous=buffer.getLong();
    channel.position(RECORD_SIZE * position + 1);
    buffer.clear();
    buffer.putLong(value).flip();
    channel.write(buffer);
    return previous;
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
