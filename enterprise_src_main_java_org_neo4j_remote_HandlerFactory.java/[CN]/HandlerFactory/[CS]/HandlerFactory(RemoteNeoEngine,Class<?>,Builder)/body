{
  this.engine=engine;
  HandlerTypeFactory typesFactory=new HandlerTypeFactory(builder);
  Map<Method,Invocator> methods=new HashMap<Method,Invocator>();
  for (  Method method : iface.getMethods()) {
    IndexedMethodType type=builder.getServiceSignature(method,typesFactory);
    methods.put(method,new Invocator(typesFactory,type.index,type.signature));
  }
  this.methods=Collections.unmodifiableMap(methods);
}
