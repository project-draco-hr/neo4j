{
  freeList=new AtomicReference<>();
  int pageSize=1024;
  int pageCount=(int)(memoryPoolSizeInBytes / pageSize);
  pages=new StandardPinnablePage[pageCount];
  for (int i=0; i < pageCount; i++) {
    StandardPinnablePage page=new StandardPinnablePage(ByteBuffer.allocateDirect(pageSize));
    pages[i]=page;
    page.next=freeList.get();
    freeList.compareAndSet(page.next,page);
  }
}
