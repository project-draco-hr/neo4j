{
  PhysicalLogFiles logFiles=new PhysicalLogFiles(fromPath,fs);
  TransactionMetadataCache transactionMetadataCache=new TransactionMetadataCache(10,100);
  final ReadOnlyTransactionIdStore transactionIdStore=new ReadOnlyTransactionIdStore(pageCache,fromPath);
  PhysicalLogFile logFile=life.add(new PhysicalLogFile(fs,logFiles,0,transactionIdStore,new ReadOnlyLogVersionRepository(pageCache,fromPath),monitors.newMonitor(PhysicalLogFile.Monitor.class),transactionMetadataCache));
  LogEntryReader<ReadableLogChannel> logEntryReader=new VersionAwareLogEntryReader<>(new RecordStorageCommandReaderFactory());
  physicalStore=new PhysicalLogicalTransactionStore(logFile,transactionMetadataCache,logEntryReader);
}
