{
  PhysicalLogFiles logFiles=new PhysicalLogFiles(fromPath,fs);
  TransactionMetadataCache transactionMetadataCache=new TransactionMetadataCache(10,100);
  final ReadOnlyTransactionIdStore transactionIdStore=new ReadOnlyTransactionIdStore(fs,fromPath);
  PhysicalLogFile logFile=life.add(new PhysicalLogFile(fs,logFiles,0,transactionIdStore,new ReadOnlyLogVersionRepository(fs,fromPath),monitors.newMonitor(PhysicalLogFile.Monitor.class),transactionMetadataCache));
  TransactionAppender appender=life.add(new BatchingTransactionAppender(logFile,LogRotation.NO_ROTATION,transactionMetadataCache,transactionIdStore,BYPASS,kernelHealth));
  physicalStore=new PhysicalLogicalTransactionStore(logFile,transactionMetadataCache,appender);
}
