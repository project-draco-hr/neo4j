{
  try {
    dumper.dump(databaseDirectory,archive);
  }
 catch (  FileAlreadyExistsException e) {
    throw new CommandFailed("archive already exists: " + e.getMessage(),e);
  }
catch (  NoSuchFileException e) {
    if (Paths.get(e.getMessage()).toAbsolutePath().equals(databaseDirectory.toAbsolutePath())) {
      throw new CommandFailed("database does not exist: " + database,e);
    }
    wrapIOException(e);
  }
catch (  IOException e) {
    wrapIOException(e);
  }
}
