{
  StateStorage<TermState> termStore=new InMemoryStateStorage<>(new TermState());
  StateStorage<VoteState> voteStore=new InMemoryStateStorage<>(new VoteState());
  StubMembership membership=new StubMembership();
  RaftState state=new RaftState(myself,termStore,membership,entryLog,voteStore,new InFlightMap<>(),NullLogProvider.getInstance());
  Collection<RaftMessages.Directed> noMessages=Collections.emptyList();
  List<RaftLogCommand> noLogCommands=Collections.emptyList();
  state.update(new Outcome(null,term,leader,leaderCommit,votedFor,votesForMe,lastLogIndexBeforeWeBecameLeader,followerStates,false,noLogCommands,noMessages,Collections.emptySet(),commitIndex));
  return state;
}
