{
  File storeFile=dir.file("a");
  RecordingPageCacheTracer tracer=new RecordingPageCacheTracer(Pin.class);
  PageCache pageCache=pageCacheRule.getPageCache(fs,tracer,Config.empty());
  try (NodeStore store=new NodeStore(storeFile,Config.empty(),new DefaultIdGeneratorFactory(fs),pageCache,NullLogProvider.getInstance(),null,StandardV3_0.RECORD_FORMATS)){
    store.initialise(true);
    assertNull(tracer.tryObserve(Event.class));
    long nodeId1=insertNodeRecordAndObservePinEvent(tracer,store);
    long nodeId2=insertNodeRecordAndObservePinEvent(tracer,store);
    try (RecordCursor<NodeRecord> cursor=store.newRecordCursor(store.newRecord())){
      cursor.acquire(0,RecordLoad.NORMAL);
      assertTrue(cursor.next(nodeId1));
      assertTrue(cursor.next(nodeId2));
    }
     assertNotNull(tracer.tryObserve(Pin.class));
    assertNull(tracer.tryObserve(Event.class));
  }
 }
