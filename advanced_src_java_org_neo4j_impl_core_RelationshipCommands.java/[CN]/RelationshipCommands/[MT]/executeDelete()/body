{
  try {
    getTransactionCache().addRelationship(relationship);
    getTransactionCache().addNode(startNode);
    getTransactionCache().addNode(endNode);
    int relId=(int)relationship.getId();
    RelationshipType relType=relationship.getType();
    startNode.removeRelationship(relType,relId);
    endNode.removeRelationship(relType,relId);
    NodeManager.getManager().removeRelationshipFromCache(relId);
    relationship.setIsDeleted(true);
  }
 catch (  DeleteException e) {
    throw new ExecuteFailedException(e);
  }
}
