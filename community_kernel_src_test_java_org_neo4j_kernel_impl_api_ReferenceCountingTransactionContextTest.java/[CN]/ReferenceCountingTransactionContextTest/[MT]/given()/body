{
  inner=mock(KernelTransaction.class);
  actualState=mock(StatementState.class);
  when(actualState.refCounting()).thenReturn(mock(RefCounting.class));
  otherActualState=mock(StatementState.class);
  when(otherActualState.refCounting()).thenReturn(mock(RefCounting.class));
  when(inner.newStatementState()).thenReturn(actualState).thenReturn(otherActualState);
  when(inner.newStatementOperations()).thenReturn(new StatementOperationParts(null,null,null,null,null,null,null,null));
  refCountingOperations=new ReferenceCountingStatementOperations();
  refCountingContext=new ReferenceCountingTransactionContext(inner,refCountingOperations);
}
