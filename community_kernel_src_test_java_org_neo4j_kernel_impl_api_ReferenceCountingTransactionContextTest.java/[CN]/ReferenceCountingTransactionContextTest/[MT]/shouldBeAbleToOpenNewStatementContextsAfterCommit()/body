{
  StatementContextParts before=singleContext.newStatementContext();
  singleContext.commit();
  StatementContextParts after=singleContext.newStatementContext();
  try {
    before.close();
    fail("expected exception");
  }
 catch (  IllegalStateException e) {
    assertEquals("This StatementContext has been closed. No more interaction allowed",e.getMessage());
  }
  verify(actualContext.lifecycleOperations(),times(1)).close();
  verifyZeroInteractions(otherActualContext.lifecycleOperations());
  after.close();
  verify(otherActualContext.lifecycleOperations(),times(1)).close();
}
