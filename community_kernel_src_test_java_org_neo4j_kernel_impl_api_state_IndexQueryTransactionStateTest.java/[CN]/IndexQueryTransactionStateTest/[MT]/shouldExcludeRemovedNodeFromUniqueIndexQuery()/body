{
  int labelId=2;
  int propertyKeyId=3;
  String value="My Value";
  IndexDescriptor indexDescriptor=new IndexDescriptor(labelId,propertyKeyId);
  when(store.nodeGetUniqueFromIndexLookup(state,indexDescriptor,value)).thenReturn(1l);
  when(oldTxState.getNodesWithChangedProperty(propertyKeyId,value)).thenReturn(new DiffSets<Long>());
  when(oldTxState.hasChanges()).thenReturn(true);
  txContext.nodeDelete(state,1l);
  long result=txContext.nodeGetUniqueFromIndexLookup(state,indexDescriptor,value);
  assertNoSuchNode(result);
}
