{
  when(indexReader.seek(value)).then(answerAsPrimitiveLongIteratorFrom(asList(2l,3l)));
  long nodeId=1l;
  state.txState().nodeDoReplaceProperty(nodeId,noNodeProperty(nodeId,propertyKeyId),stringProperty(propertyKeyId,value));
  when(statement.acquireSingleNodeCursor(nodeId)).thenReturn(asNodeCursor(nodeId,asPropertyCursor(stringProperty(propertyKeyId,value)),Cursors.<LabelItem>empty()));
  txContext.nodeAddLabel(state,nodeId,labelId);
  PrimitiveLongIterator result=txContext.nodesGetFromIndexSeek(state,indexDescriptor,value);
  assertThat(asSet(result),equalTo(asSet(nodeId,2l,3l)));
}
