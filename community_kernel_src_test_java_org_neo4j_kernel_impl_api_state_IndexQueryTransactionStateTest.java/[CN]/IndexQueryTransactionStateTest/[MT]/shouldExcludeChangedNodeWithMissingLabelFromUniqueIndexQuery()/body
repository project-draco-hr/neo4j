{
  when(store.nodeGetUniqueFromIndexLookup(state,indexDescriptor,value)).thenReturn(emptyPrimitiveLongIterator());
  when(store.nodeHasLabel(state,1l,labelId)).thenReturn(false);
  when(oldTxState.getNodesWithChangedProperty(propertyKeyId,value)).thenReturn(new DiffSets<>(asSet(1l),Collections.<Long>emptySet()));
  when(oldTxState.hasChanges()).thenReturn(true);
  long result=txContext.nodeGetUniqueFromIndexLookup(state,indexDescriptor,value);
  assertNoSuchNode(result);
}
