{
  long nodeId=1l;
  when(store.nodeGetFromUniqueIndexSeek(state,indexDescriptor,value)).thenReturn(asPrimitiveResourceIterator(nodeId));
  when(statement.acquireSingleNodeCursor(nodeId)).thenReturn(asNodeCursor(nodeId,asPropertyCursor(stringProperty(propertyKeyId,value)),asLabelCursor(labelId)));
  txContext.nodeRemoveProperty(state,nodeId,propertyKeyId);
  long result=txContext.nodeGetFromUniqueIndexSeek(state,indexDescriptor,value);
  assertNoSuchNode(result);
}
