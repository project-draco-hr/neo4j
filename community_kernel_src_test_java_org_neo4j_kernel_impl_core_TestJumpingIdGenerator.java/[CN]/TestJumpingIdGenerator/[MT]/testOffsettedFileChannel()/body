{
  String fileName="target/var/neostore.nodestore.db";
  deleteFileOrDirectory(fileName);
  FileSystemAbstraction offsettedFileSystem=new JumpingFileSystemAbstraction(10);
  IdGenerator idGenerator=new JumpingIdGeneratorFactory(10).get(IdType.NODE);
  JumpingFileChannel channel=(JumpingFileChannel)offsettedFileSystem.open(fileName,"rw");
  for (int i=0; i < 16; i++) {
    writeSomethingLikeNodeRecord(channel,idGenerator.nextId(),i);
  }
  channel.close();
  channel=(JumpingFileChannel)offsettedFileSystem.open(fileName,"rw");
  idGenerator=new JumpingIdGeneratorFactory(10).get(IdType.NODE);
  for (int i=0; i < 16; i++) {
    assertEquals(i,readSomethingLikeNodeRecord(channel,idGenerator.nextId()));
  }
  channel.close();
}
