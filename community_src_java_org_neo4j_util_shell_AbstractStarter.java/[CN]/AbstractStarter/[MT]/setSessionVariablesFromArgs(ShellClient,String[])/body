{
  for (  String arg : args) {
    if (arg.startsWith("-")) {
      arg=arg.substring(1);
      String[] keyAndValue=splitArgIntoKeyAndValue(arg);
      if (keyAndValue[0].equals("profile")) {
        File file=new File(keyAndValue[1]);
        applyProfile(file,client);
      }
 else       if (keyAndValue[0].startsWith("D")) {
        String key=keyAndValue[0].substring(1);
        client.session().set(key,keyAndValue[1]);
      }
 else {
        throw new IllegalArgumentException("Invalid argument '" + arg + "', expected profile=<file> or Dkey=value");
      }
    }
  }
}
