{
  UniquenessConstraint constraint;
{
    SchemaWriteOperations statement=schemaWriteOperationsInNewTransaction();
    constraint=statement.uniquePropertyConstraintCreate(typeId,propertyKeyId);
    assertEquals(asSet(new IndexDescriptor(typeId,propertyKeyId)),asSet(statement.uniqueIndexesGetAll()));
    commit();
  }
{
    SchemaWriteOperations statement=schemaWriteOperationsInNewTransaction();
    statement.constraintDrop(constraint);
    commit();
  }
{
    ReadOperations statement=readOperationsInNewTransaction();
    assertEquals(emptySetOf(IndexDescriptor.class),asSet(statement.uniqueIndexesGetAll()));
    commit();
  }
}
