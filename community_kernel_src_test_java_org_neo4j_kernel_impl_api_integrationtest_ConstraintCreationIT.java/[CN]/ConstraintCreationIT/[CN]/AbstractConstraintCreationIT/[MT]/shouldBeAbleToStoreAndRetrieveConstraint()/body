{
  PropertyConstraint constraint;
{
    SchemaWriteOperations statement=schemaWriteOperationsInNewTransaction();
    constraint=createConstraint(statement,typeId,propertyKeyId);
    assertEquals(constraint,single(statement.constraintsGetAll()));
    commit();
  }
{
    ReadOperations statement=readOperationsInNewTransaction();
    Iterator<?> constraints=statement.constraintsGetAll();
    assertEquals(constraint,single(constraints));
  }
}
