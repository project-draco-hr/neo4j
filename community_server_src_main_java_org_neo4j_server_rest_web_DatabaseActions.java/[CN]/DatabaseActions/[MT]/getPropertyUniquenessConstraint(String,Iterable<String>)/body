{
  Set<String> propertyKeysSet=asSet(propertyKeys);
  Transaction tx=database.getGraph().beginTx();
  try {
    Iterable<ConstraintDefinition> constraints=filteredConstraints(labelName,propertyUniquenessFilter(propertyKeysSet));
    if (constraints.iterator().hasNext()) {
      Iterable<Representation> representationIterable=map(CONSTRAINT_DEF_TO_REPRESENTATION,constraints);
      ListRepresentation result=new ListRepresentation(CONSTRAINT_DEFINITION,representationIterable);
      tx.success();
      return result;
    }
 else {
      throw new IllegalArgumentException(String.format("Constraint with label %s for properties %s already exists",labelName,propertyKeys));
    }
  }
  finally {
    tx.finish();
  }
}
