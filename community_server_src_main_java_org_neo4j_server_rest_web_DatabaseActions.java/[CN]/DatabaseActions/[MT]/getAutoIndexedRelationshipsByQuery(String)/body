{
  ReadableRelationshipIndex index=graphDb.index().getRelationshipAutoIndexer().getAutoIndex();
  List<Representation> representations=new ArrayList<Representation>();
  if (query != null) {
    Transaction tx=graphDb.beginTx();
    try {
      for (      Relationship rel : index.query(query)) {
        representations.add(new RelationshipRepresentation(rel));
      }
      tx.success();
    }
  finally {
      tx.finish();
    }
  }
  return new ListRepresentation(RepresentationType.RELATIONSHIP,representations);
}
