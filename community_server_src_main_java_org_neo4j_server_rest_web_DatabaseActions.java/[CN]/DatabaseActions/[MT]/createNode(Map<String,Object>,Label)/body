{
  final NodeRepresentation result;
  Transaction tx=beginTx();
  try {
    Node node=graphDb.createNode();
    propertySetter.setProperties(node,properties);
    if (labels != null) {
      for (      Label label : labels)       node.addLabel(label);
    }
    result=new NodeRepresentation(node);
    tx.success();
  }
  finally {
    tx.finish();
  }
  return result;
}
