{
  if (!graphDb.index().existsForRelationships(indexName))   throw new NotFoundException();
  List<Representation> representations=new ArrayList<Representation>();
  Index<Relationship> index=graphDb.index().forRelationships(indexName);
  IndexResultOrder order=getOrdering(sort);
  QueryContext queryCtx=order.updateQueryContext(new QueryContext(query));
  Transaction tx=beginTx();
  try {
    IndexHits<Relationship> hits=index.query(key,queryCtx);
    for (    Relationship rel : hits) {
      representations.add(order.getRepresentationFor(new RelationshipRepresentation(rel),hits.currentScore()));
    }
    tx.success();
    return new ListRepresentation(RepresentationType.RELATIONSHIP,representations);
  }
  finally {
    tx.finish();
  }
}
