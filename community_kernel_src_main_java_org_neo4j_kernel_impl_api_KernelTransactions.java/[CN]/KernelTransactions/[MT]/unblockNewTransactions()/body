{
  if (!newTransactionsLock.writeLock().isHeldByCurrentThread()) {
    throw new IllegalStateException("This thread did not block transactions previously");
  }
  newTransactionsLock.writeLock().unlock();
}
