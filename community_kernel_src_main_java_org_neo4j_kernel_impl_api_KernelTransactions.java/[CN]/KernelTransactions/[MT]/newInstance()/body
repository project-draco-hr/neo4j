{
  assertCurrentThreadIsNotBlockingNewTransactions();
  newTransactionsLock.readLock().lock();
  try {
    assertDatabaseIsRunning();
    TransactionId lastCommittedTransaction=neoStores.getMetaDataStore().getLastCommittedTransaction();
    return localTxPool.acquire().initialize(lastCommittedTransaction.transactionId(),lastCommittedTransaction.commitTimestamp());
  }
  finally {
    newTransactionsLock.readLock().unlock();
  }
}
