{
  CoreMember.CoreMemberMarshal marshal=new CoreMember.CoreMemberMarshal();
  final CoreMember aRealMember=new CoreMember(new AdvertisedSocketAddress("host1:1001"),new AdvertisedSocketAddress("host1:2001"));
  ByteBuf buffer=Unpooled.buffer(1000);
  marshal.marshal(aRealMember,new NetworkFlushableChannelNetty4(buffer));
  ByteBuf bufferWithMissingBytes=buffer.copy(0,buffer.writerIndex() - 5);
  try {
    marshal.unmarshal(new NetworkReadableClosableChannelNetty4(bufferWithMissingBytes));
    fail("Should have thrown exception");
  }
 catch (  ReadPastEndException e) {
  }
}
