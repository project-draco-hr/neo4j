{
  PropertyData data[]=rStore.getProperties(rel);
  for (int i=0; i < data.length; i++) {
    PropertyRecord record=pStore.getRecord(data[i].getId());
    data[i]=new PropertyData(data[i].getId(),data[i].getIndex(),getValue(record));
  }
  assertEquals(3,data.length);
  for (int i=0; i < 3; i++) {
    if (data[i].getId() == prop1) {
      assertEquals("prop1",MyPropertyIndex.getIndexFor(data[i].getIndex()).getKey());
      assertEquals("-string2",data[i].getValue());
    }
 else     if (data[i].getId() == prop2) {
      assertEquals("prop2",MyPropertyIndex.getIndexFor(data[i].getIndex()).getKey());
      assertEquals(new Integer(-2),data[i].getValue());
    }
 else     if (data[i].getId() == prop3) {
      assertEquals("prop3",MyPropertyIndex.getIndexFor(data[i].getIndex()).getKey());
      assertEquals(new Boolean(true),data[i].getValue());
      rStore.removeProperty(rel,prop3);
    }
 else {
      throw new IOException();
    }
  }
  assertEquals(2,rStore.getProperties(rel).length);
  RelationshipData relData=rStore.getRelationship(rel);
  assertEquals(firstNode,relData.firstNode());
  assertEquals(secondNode,relData.secondNode());
  assertEquals(relType,relData.relationshipType());
  rStore.deleteRelationship(rel);
  assertEquals(0,nStore.getRelationships(firstNode).length);
  assertEquals(0,nStore.getRelationships(secondNode).length);
}
