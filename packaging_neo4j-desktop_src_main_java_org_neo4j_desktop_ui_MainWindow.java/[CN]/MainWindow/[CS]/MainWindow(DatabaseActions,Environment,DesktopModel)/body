{
  this.model=model;
  model.setPrintStackTraces(debugWindow != null);
  this.environment=environment;
  this.databaseActions=databaseActions;
  frame=init();
  this.sysTray=SysTray.install("/neo4j-systray-16.png",new SysTray.Actions(){
    @Override public void closeForReal(){
      shutdown();
    }
    @Override public void clickSysTray(){
      frame.setVisible(true);
    }
    @Override public void clickCloseButton(){
      if (databaseStatus == DatabaseStatus.stopped) {
        shutdown();
      }
 else {
        frame.setVisible(false);
      }
    }
  }
,frame);
  goToStoppedStatus();
}
