{
  this.model=model;
  this.debugWindow=new SystemOutDebugWindow();
  this.environment=environment;
  this.databaseActions=databaseActions;
  this.frame=new JFrame("Neo4j Desktop");
  this.frame.setIconImages(Graphics.loadIcons());
  this.sysTray=SysTray.install(new SysTrayActions(),frame);
  this.directoryDisplay=createUnmodifiableTextField(model.getDatabaseDirectory().getAbsolutePath());
  this.browseButton=createBrowseButton();
  this.statusPanelLayout=new CardLayout();
  this.statusPanel=createStatusPanel(statusPanelLayout);
  this.startButton=createStartButton();
  this.stopButton=createStopButton();
  this.settingsButton=createSettingsButton();
  JPanel root=createRootPanel(directoryDisplay,browseButton,statusPanel,startButton,stopButton,settingsButton);
  frame.add(root);
  frame.pack();
  frame.setResizable(false);
  updateStatus(DatabaseStatus.STOPPED);
}
