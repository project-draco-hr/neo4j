{
  if (!dir.isDirectory()) {
    throw new UnsuitableGraphDatabaseDirectory("%s is not a directory",dir);
  }
  if (!dir.canWrite()) {
    throw new UnsuitableGraphDatabaseDirectory("%s is not writeable",dir);
  }
  String[] fileNames=dir.list();
  if (fileNames.length != 0) {
    for (    String fileName : fileNames) {
      if (fileName.startsWith("neostore")) {
        return;
      }
    }
  }
  throw new UnsuitableGraphDatabaseDirectory("%s is neither empty nor does it contain a neo4j graph database",dir);
}
