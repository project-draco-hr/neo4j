{
  return Components.createTextButton(ellipsis("Browse"),new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      JFileChooser jFileChooser=new JFileChooser();
      jFileChooser.setFileSelectionMode(DIRECTORIES_ONLY);
      jFileChooser.setCurrentDirectory(new File(directoryDisplay.getText()));
      jFileChooser.setDialogTitle("Select database");
      jFileChooser.setDialogType(CUSTOM_DIALOG);
      while (true) {
switch (jFileChooser.showOpenDialog(frame)) {
case APPROVE_OPTION:
          File selectedFile=jFileChooser.getSelectedFile();
        try {
          model.setDatabaseDirectory(selectedFile);
          directoryDisplay.setText(model.getDatabaseDirectory().getAbsolutePath());
          return;
        }
 catch (        UnsuitableDirectoryException error) {
          int result=showConfirmDialog(frame,error.getMessage() + "\nPlease choose a different folder.","Invalid folder selected",JOptionPane.OK_CANCEL_OPTION);
switch (result) {
case CANCEL_OPTION:
            return;
default :
        }
      }
default :
    return;
}
}
}
}
);
}
