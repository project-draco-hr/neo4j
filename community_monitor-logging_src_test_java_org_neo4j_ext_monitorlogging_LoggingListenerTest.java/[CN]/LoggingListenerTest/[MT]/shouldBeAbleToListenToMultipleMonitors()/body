{
  Monitors monitors=new Monitors();
  AssertableLogProvider logProvider=new AssertableLogProvider();
  InterestingMonitor1 aMonitor=monitors.newMonitor(InterestingMonitor1.class);
  InterestingMonitor2 bMonitor=monitors.newMonitor(InterestingMonitor2.class);
  Map<Class<?>,Logger> classes=new HashMap<>(2);
  classes.put(InterestingMonitor1.class,logProvider.getLog(InterestingMonitor1.class).debugLogger());
  classes.put(InterestingMonitor2.class,logProvider.getLog(InterestingMonitor2.class).warnLogger());
  LoggingListener listener=new LoggingListener(classes);
  monitors.addMonitorListener(listener,listener.predicate);
  aMonitor.touch();
  bMonitor.touch();
  logProvider.assertExactly(inLog(InterestingMonitor1.class).debug("touch()"),inLog(InterestingMonitor2.class).warn("touch()"));
}
