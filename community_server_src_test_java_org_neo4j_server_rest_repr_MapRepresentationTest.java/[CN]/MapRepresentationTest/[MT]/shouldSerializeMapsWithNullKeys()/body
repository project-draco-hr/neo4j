{
  Object[] values={null,"string",42,true,new String[]{"a string","another string"},new int[]{42,87},new boolean[]{true,false},asList(true,false,true),map("numbers",42,null,"something"),map("a list",asList(42,87),null,asList("a","b")),asList(map("foo","bar",null,false))};
  for (  Object value : values) {
    MapRepresentation rep=new MapRepresentation(map((Object)null,value));
    OutputFormat format=new OutputFormat(new JsonFormat(),new URI("http://localhost/"),null);
    String serializedMap=format.assemble(rep);
    Map<String,Object> map=JsonHelper.jsonToMap(serializedMap);
    assertEquals(1,map.size());
    Object actual=map.get("null");
    if (value == null) {
      assertNull(actual);
    }
 else {
      assertNotNull(actual);
    }
  }
}
