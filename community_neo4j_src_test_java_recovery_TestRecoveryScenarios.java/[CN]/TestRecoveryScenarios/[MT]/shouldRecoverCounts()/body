{
  Node node=createNode(label);
  checkPoint();
  deleteNode(node);
  crashAndRestart(indexProvider);
  try (Transaction tx=db.beginTx()){
    CountsTracker tracker=db.getDependencyResolver().resolveDependency(RecordStorageEngine.class).testAccessNeoStores().getCounts();
    assertEquals(0,tracker.nodeCount(-1,newDoubleLongRegister()).readSecond());
    final LabelTokenHolder holder=db.getDependencyResolver().resolveDependency(LabelTokenHolder.class);
    int labelId=holder.getIdByName(label.name());
    assertEquals(0,tracker.nodeCount(labelId,newDoubleLongRegister()).readSecond());
    tx.success();
  }
 }
