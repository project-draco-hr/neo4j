{
  final PlatformModule platformModule=new PlatformModule(dir.graphDbDir(),new HashMap<>(),GraphDatabaseDependencies.newDependencies(),mock(GraphDatabaseFacade.class));
  File baseClusterStateFile=new File(dir.graphDbDir(),EnterpriseCoreEditionModule.CLUSTER_STATE_DIRECTORY_NAME);
  new EnterpriseCoreEditionModule(platformModule,new TestOnlyDiscoveryServiceFactory());
  platformModule.fileSystem.fileExists(new File(baseClusterStateFile,OnDiskVoteState.DIRECTORY_NAME));
  platformModule.fileSystem.fileExists(new File(baseClusterStateFile,OnDiskIdAllocationState.DIRECTORY_NAME));
  platformModule.fileSystem.fileExists(new File(baseClusterStateFile,OnDiskTermState.DIRECTORY_NAME));
  platformModule.fileSystem.fileExists(new File(baseClusterStateFile,OnDiskRaftMembershipState.DIRECTORY_NAME));
  platformModule.fileSystem.fileExists(new File(baseClusterStateFile,NaiveDurableRaftLog.DIRECTORY_NAME));
  assertEquals(5,platformModule.fileSystem.listFiles(baseClusterStateFile).length);
}
