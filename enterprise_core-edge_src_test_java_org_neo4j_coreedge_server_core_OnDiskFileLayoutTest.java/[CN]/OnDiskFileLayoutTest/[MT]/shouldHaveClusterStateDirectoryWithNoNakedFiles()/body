{
  final PlatformModule platformModule=new PlatformModule(dir.graphDbDir(),new HashMap<>(),UNKNOWN,GraphDatabaseDependencies.newDependencies(),mock(GraphDatabaseFacade.class));
  File baseClusterStateFile=new File(dir.graphDbDir(),CLUSTER_STATE_DIRECTORY_NAME);
  new EnterpriseCoreEditionModule(platformModule,new TestOnlyDiscoveryServiceFactory());
  FileSystemAbstraction fs=platformModule.fileSystem;
  fs.fileExists(new File(baseClusterStateFile,OnDiskVoteState.DIRECTORY_NAME));
  fs.fileExists(new File(baseClusterStateFile,OnDiskIdAllocationState.DIRECTORY_NAME));
  fs.fileExists(new File(baseClusterStateFile,OnDiskTermState.DIRECTORY_NAME));
  fs.fileExists(new File(baseClusterStateFile,OnDiskRaftMembershipState.DIRECTORY_NAME));
  fs.fileExists(new File(baseClusterStateFile,NaiveDurableRaftLog.DIRECTORY_NAME));
  fs.fileExists(new File(baseClusterStateFile,OnDiskGlobalSessionTrackerState.DIRECTORY_NAME));
  fs.fileExists(new File(baseClusterStateFile,OnDiskReplicatedLockTokenState.DIRECTORY_NAME));
  assertEquals(7,fs.listFiles(baseClusterStateFile).length);
}
