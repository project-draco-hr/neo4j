{
  long fromIndex=2L;
  TruncateLogCommand truncateLogCommand=new TruncateLogCommand(fromIndex);
  InFlightMap<Long,RaftLogEntry> inFlightMap=new InFlightMap<>();
  inFlightMap.register(0L,new RaftLogEntry(0L,valueOf(0)));
  inFlightMap.register(1L,new RaftLogEntry(1L,valueOf(1)));
  inFlightMap.register(2L,new RaftLogEntry(2L,valueOf(2)));
  inFlightMap.register(3L,new RaftLogEntry(3L,valueOf(3)));
  truncateLogCommand.applyTo(inFlightMap);
  assertNotNull(inFlightMap.retrieve(0L));
  assertNotNull(inFlightMap.retrieve(1L));
  assertNull(inFlightMap.retrieve(2L));
  assertNull(inFlightMap.retrieve(3L));
}
