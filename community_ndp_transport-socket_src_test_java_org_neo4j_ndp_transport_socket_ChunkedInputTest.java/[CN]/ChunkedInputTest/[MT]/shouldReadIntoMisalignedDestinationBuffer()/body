{
  byte[] bytes=new byte[3];
  ChunkedInput ch=new ChunkedInput();
  ch.addChunk(wrappedBuffer(new byte[]{1,2}));
  ch.addChunk(wrappedBuffer(new byte[]{3}));
  ch.addChunk(wrappedBuffer(new byte[]{4}));
  ch.addChunk(wrappedBuffer(new byte[]{5}));
  ch.addChunk(wrappedBuffer(new byte[]{6,7}));
  ch.get(bytes,0,3);
  assertThat(bytes,equalTo(new byte[]{1,2,3}));
  ch.get(bytes,0,3);
  assertThat(bytes,equalTo(new byte[]{4,5,6}));
  Arrays.fill(bytes,(byte)0);
  ch.get(bytes,0,1);
  assertThat(bytes,equalTo(new byte[]{7,0,0}));
}
