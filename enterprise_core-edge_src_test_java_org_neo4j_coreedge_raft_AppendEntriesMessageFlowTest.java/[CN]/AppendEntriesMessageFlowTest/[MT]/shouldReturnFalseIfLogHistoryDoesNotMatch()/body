{
  raft.handle(appendEntriesRequest().from(otherMember).leaderTerm(0).leader(myself).prevLogIndex(-1).prevLogTerm(-1).logEntry(new RaftLogEntry(0,data(1))).build());
  raft.handle(appendEntriesRequest().from(otherMember).leaderTerm(0).leader(myself).prevLogIndex(0).prevLogTerm(0).logEntry(new RaftLogEntry(0,data(2))).build());
  raft.handle(appendEntriesRequest().from(otherMember).leaderTerm(0).leader(myself).prevLogIndex(1).prevLogTerm(0).logEntry(new RaftLogEntry(0,data(3))).build());
  raft.handle(appendEntriesRequest().from(otherMember).leaderTerm(2).leader(myself).prevLogIndex(2).prevLogTerm(1).logEntry(new RaftLogEntry(2,data(4))).build());
  InOrder invocationOrder=inOrder(outbound);
  invocationOrder.verify(outbound,times(1)).send(same(otherMember),eq(appendEntriesResponse().from(myself).term(0).matchIndex(0).appendIndex(0).success().build()));
  invocationOrder.verify(outbound,times(1)).send(same(otherMember),eq(appendEntriesResponse().from(myself).term(0).matchIndex(1).appendIndex(1).success().build()));
  invocationOrder.verify(outbound,times(1)).send(same(otherMember),eq(appendEntriesResponse().from(myself).term(0).matchIndex(2).appendIndex(2).success().build()));
  invocationOrder.verify(outbound,times(1)).send(same(otherMember),eq(appendEntriesResponse().from(myself).term(2).matchIndex(-1).appendIndex(2).failure().build()));
}
