{
  ClusterState newClusterState=new ClusterState(previous);
  Queue<RaftMessages.RaftMessage<RaftTestMember>> inboundQueue=new LinkedList<>(previous.queues.get(member));
  RaftMessages.RaftMessage<RaftTestMember> message=inboundQueue.poll();
  if (message == null) {
    return previous;
  }
  newClusterState.queues.put(member,inboundQueue);
  return newClusterState;
}
