{
  if (nextElement != null) {
    return true;
  }
  do {
    if (relIds.hasNext()) {
      int nextId=relIds.next();
      try {
        Relationship possibleElement=nodeManager.getRelationshipById(nextId);
        if (direction == Direction.INCOMING && possibleElement.getEndNode().equals(fromNode)) {
          nextElement=possibleElement;
        }
 else         if (direction == Direction.OUTGOING && possibleElement.getStartNode().equals(fromNode)) {
          nextElement=possibleElement;
        }
 else         if (direction == Direction.BOTH) {
          nextElement=possibleElement;
        }
      }
 catch (      Throwable t) {
        log.log(Level.FINE,"Unable to get relationship " + nextId,t);
      }
    }
  }
 while (nextElement == null && relIds.hasNext());
  return nextElement != null;
}
