{
  RuntimeException startupError=new RuntimeException();
  RuntimeException shutdownError=new RuntimeException();
  InternalAbstractGraphDatabase db=newFaultyInternalAbstractGraphDatabase(startupError,shutdownError);
  try {
    db.run();
    fail("Should have thrown " + RuntimeException.class);
  }
 catch (  RuntimeException exception) {
    assertEquals(shutdownError,exception);
    assertEquals(startupError,Exceptions.rootCause(exception.getSuppressed()[0]));
  }
}
