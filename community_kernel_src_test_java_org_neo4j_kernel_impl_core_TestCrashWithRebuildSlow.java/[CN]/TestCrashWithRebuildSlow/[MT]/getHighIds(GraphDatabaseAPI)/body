{
  final Map<IdType,Long> highIds=new HashMap<>();
  NeoStores neoStores=db.getDependencyResolver().resolveDependency(DataSourceManager.class).getDataSource().getNeoStores();
  Visitor<CommonAbstractStore,RuntimeException> visitor=new Visitor<CommonAbstractStore,RuntimeException>(){
    @Override public boolean visit(    CommonAbstractStore store) throws RuntimeException {
      highIds.put(store.getIdType(),store.getHighId());
      return true;
    }
  }
;
  neoStores.visitStore(visitor);
  return highIds;
}
