def __import_asciidoc(self, reload=False):
    '\n        Import asciidoc module (script or compiled .pyc).\n        See\n        http://groups.google.com/group/asciidoc/browse_frm/thread/66e7b59d12cd2f91\n        for an explanation of why a seemingly straight-forward job turned out\n        quite complicated.\n        '
    if (os.path.splitext(self.cmd)[1] in ['.py', '.pyc']):
        sys.path.insert(0, os.path.dirname(self.cmd))
        try:
            try:
                if reload:
                    import __builtin__
                    __builtin__.reload(self.asciidoc)
                else:
                    import asciidoc
                    self.asciidoc = asciidoc
            except ImportError:
                raise AsciiDocError(('failed to import ' + self.cmd))
        finally:
            del sys.path[0]
    else:
        try:
            imp.load_source('asciidoc', self.cmd)
            import asciidoc
            self.asciidoc = asciidoc
        except ImportError:
            raise AsciiDocError(('failed to import ' + self.cmd))
    if (Version(self.asciidoc.VERSION) < Version(MIN_ASCIIDOC_VERSION)):
        raise AsciiDocError(('asciidocapi %s requires asciidoc %s or better' % (API_VERSION, MIN_ASCIIDOC_VERSION)))
