{
  CommandReader[] readers=null;
  byte key=0;
  if (version == 0) {
    readers=readersNeutral;
    key=legacyHeaderVersion;
  }
 else   if (version < 0) {
    readers=readersNegative;
    key=(byte)abs(version);
  }
  if (readers == null || key >= readers.length) {
    throw new IllegalArgumentException("Unsupported version:" + version + " headerVersion:"+ legacyHeaderVersion);
  }
  return readers[key];
}
