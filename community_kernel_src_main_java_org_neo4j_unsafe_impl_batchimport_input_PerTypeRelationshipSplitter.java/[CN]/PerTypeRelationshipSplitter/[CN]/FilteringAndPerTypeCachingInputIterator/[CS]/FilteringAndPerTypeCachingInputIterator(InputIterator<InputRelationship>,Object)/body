{
  super(actual);
  this.currentType=currentType;
  this.receivers=new Receiver[highestTypeId() + 1];
  try {
    for (    Object type : allRelationshipTypes) {
      if (type.equals(currentType)) {
        continue;
      }
      if (!minorityRelationshipTypes.test(type)) {
        int typeId=typeToId.applyAsInt(type);
        receivers[typeId]=inputCache.cacheRelationships(cacheSubType(type));
      }
    }
    minorityReceiver=inputCache.cacheRelationships(MINORITY_TYPE);
  }
 catch (  IOException e) {
    throw new InputException("Error creating a cacher",e);
  }
}
