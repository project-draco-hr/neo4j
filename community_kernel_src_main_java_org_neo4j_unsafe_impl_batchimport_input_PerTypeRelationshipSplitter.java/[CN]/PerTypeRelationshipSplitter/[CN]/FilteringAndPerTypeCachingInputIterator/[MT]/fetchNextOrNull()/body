{
  while (true) {
    InputRelationship candidate=super.fetchNextOrNull();
    if (candidate == null) {
      return null;
    }
    if (candidate.typeAsObject().equals(currentType)) {
      return candidate;
    }
    transport[0]=candidate;
    try {
      int typeId=typeToId.applyAsInt(candidate.typeAsObject());
      receivers[typeId].receive(transport);
    }
 catch (    IOException e) {
      throw new InputException("Error caching relationship " + candidate,e);
    }
  }
}
