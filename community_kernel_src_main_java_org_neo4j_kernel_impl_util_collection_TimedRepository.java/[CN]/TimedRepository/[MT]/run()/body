{
  long maxAllowedAge=clock.currentTimeMillis() - timeout;
  for (  KEY key : keys()) {
    Entry entry=repo.get(key);
    if (entry != null && entry.latestActivityTimestamp < maxAllowedAge) {
      if (entry.acquire() && entry.latestActivityTimestamp < maxAllowedAge) {
        end0(key,entry.value);
      }
    }
  }
}
