{
  long maxAllowedAge=clock.millis() - timeout;
  for (  KEY key : keys()) {
    Entry entry=repo.get(key);
    if ((entry != null) && (entry.latestActivityTimestamp < maxAllowedAge)) {
      if ((entry.latestActivityTimestamp < maxAllowedAge) && entry.acquire()) {
        end0(key,entry.value);
      }
    }
  }
}
