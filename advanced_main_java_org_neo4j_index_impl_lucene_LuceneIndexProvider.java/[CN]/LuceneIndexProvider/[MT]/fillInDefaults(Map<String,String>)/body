{
  Map<String,String> result=source != null ? new HashMap<String,String>(source) : new HashMap<String,String>();
  String type=result.get("type");
  if (type == null) {
    type="exact";
    result.put("type",type);
  }
  if (type.equals("fulltext")) {
    if (!result.containsKey(LuceneIndexProvider.KEY_TO_LOWER_CASE)) {
      result.put("to_lower_case","true");
    }
  }
  return result;
}
