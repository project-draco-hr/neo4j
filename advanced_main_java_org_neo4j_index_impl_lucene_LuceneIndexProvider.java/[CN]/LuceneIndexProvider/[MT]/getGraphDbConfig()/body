{
  if (graphDb instanceof EmbeddedGraphDatabase) {
    return ((EmbeddedGraphDatabase)graphDb).getConfig();
  }
 else   if (graphDb instanceof EmbeddedReadOnlyGraphDatabase) {
    return ((EmbeddedReadOnlyGraphDatabase)graphDb).getConfig();
  }
 else {
    throw new IllegalStateException("Unsupported Graph Database implementation: " + graphDb.getClass());
  }
}
