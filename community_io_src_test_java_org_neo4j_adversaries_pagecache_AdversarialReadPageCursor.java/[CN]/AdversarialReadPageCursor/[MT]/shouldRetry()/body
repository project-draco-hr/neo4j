{
  adversary.injectFailure(FileNotFoundException.class,IOException.class,SecurityException.class,IllegalStateException.class);
  if (currentReadIsPreparingInconsistent) {
    currentReadIsPreparingInconsistent=false;
    currentReadIsInconsistent=true;
    callCounter=ThreadLocalRandom.current().nextInt(callCounter + 1);
    inconsistentReadHistory=new ArrayList<>();
    delegate.shouldRetry();
    delegate.setOffset(0);
    return true;
  }
  if (currentReadIsInconsistent) {
    currentReadIsInconsistent=false;
    delegate.shouldRetry();
    delegate.setOffset(0);
    return true;
  }
  boolean retry=delegate.shouldRetry();
  return retry || (linkedCursor != null && linkedCursor.shouldRetry());
}
