{
  if (cluster != null) {
    return cluster;
  }
  clusterManager=clusterManagerBuilder.withRootDirectory(storeDirectory).build();
  try {
    clusterManager.start();
  }
 catch (  Throwable throwable) {
    throw new RuntimeException(throwable);
  }
  ClusterManager.ManagedCluster cluster=clusterManager.getDefaultCluster();
  for (  Predicate<ManagedCluster> availabilityCheck : availabilityChecks) {
    cluster.await(availabilityCheck);
  }
  return this.cluster=cluster;
}
