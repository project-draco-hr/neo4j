{
  if (response.getMessageType().name().equals(initiatedByMessageType.name() + "Failure")) {
    if (response.getPayload() != null) {
      if (response.getPayload() instanceof Throwable) {
        throw new ExecutionException((Throwable)response.getPayload());
      }
 else {
        throw new InterruptedException(response.getPayload().toString());
      }
    }
 else {
      throw new InterruptedException();
    }
  }
 else {
    return response.getPayload();
  }
}
