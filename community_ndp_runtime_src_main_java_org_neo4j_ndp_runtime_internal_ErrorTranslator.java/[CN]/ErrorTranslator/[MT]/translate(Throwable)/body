{
  for (Throwable cause=any; cause != null; cause=cause.getCause()) {
    if (cause instanceof Status.HasStatus) {
      return new Neo4jError(((Status.HasStatus)cause).status(),any.getMessage());
    }
  }
  String reference=UUID.randomUUID().toString();
  userLog.error(String.format("Client triggered unexpected error. Help us fix this error by emailing the " + "following report to issues@neotechnology.com: %n%s",generateReport(any,reference)));
  return new Neo4jError(Status.General.UnknownFailure,String.format("An unexpected failure occurred, see details in the database " + "logs, reference number %s.%n%s",reference,Exceptions.stringify(any)));
}
