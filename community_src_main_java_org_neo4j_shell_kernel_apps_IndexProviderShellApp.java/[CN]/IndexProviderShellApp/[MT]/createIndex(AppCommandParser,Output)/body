{
  String indexName=parser.arguments().get(0);
  Map config;
  try {
    config=parseJSONMap(parser.arguments().get(1));
  }
 catch (  JSONException e) {
    throw ShellException.wrapCause(e);
  }
  IndexStore indexStore=(IndexStore)((AbstractGraphDatabase)getServer().getDb()).getConfig().getParams().get(IndexStore.class);
  Class<? extends PropertyContainer> entityType=getEntityType(parser);
  if (indexStore.has(entityType,indexName)) {
    out.println(entityType.getSimpleName() + " index '" + indexName+ "' already exists");
    return;
  }
  indexStore.set(entityType,indexName,config);
}
