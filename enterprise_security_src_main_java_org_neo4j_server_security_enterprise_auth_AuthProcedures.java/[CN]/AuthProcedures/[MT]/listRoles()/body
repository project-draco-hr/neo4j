{
  try {
    StandardEnterpriseAuthSubject adminSubject=ensureAdminAuthSubject();
    EnterpriseUserManager userManager=adminSubject.getUserManager();
    Set<String> roles=userManager.getAllRoleNames();
    List<RoleResult> results=new ArrayList<>();
    for (    String r : roles) {
      results.add(new RoleResult(r,userManager.getUsernamesForRole(r)));
    }
    return results.stream();
  }
 catch (  Exception e) {
    securityLog.error(authSubject,"tried to list roles: %s",e.getMessage());
    throw e;
  }
}
