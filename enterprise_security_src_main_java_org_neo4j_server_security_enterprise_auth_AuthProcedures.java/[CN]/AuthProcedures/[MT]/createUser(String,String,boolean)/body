{
  ShiroAuthSubject shiroSubject=ShiroAuthSubject.castOrFail(authSubject);
  if (!shiroSubject.isAdmin()) {
    throw new AuthorizationViolationException("Permission Denied");
  }
  shiroSubject.getUserManager().newUser(username,password,requirePasswordChange);
}
