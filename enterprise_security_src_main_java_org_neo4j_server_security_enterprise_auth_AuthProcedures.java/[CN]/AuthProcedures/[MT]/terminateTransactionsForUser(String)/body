{
  EnterpriseAuthSubject adminSubject=ensureAdminAuthSubject();
  adminSubject.getUserManager().assertAndGetUser(username);
  DependencyResolver resolver=graph.getDependencyResolver();
  KernelTransactions kernelTransactions=resolver.resolveDependency(KernelTransactions.class);
  ArrayList<TransactionResult> killedTransactions=new ArrayList<>();
  for (  KernelTransaction tx : kernelTransactions.activeTransactions()) {
    if (((EnterpriseAuthSubject)tx.mode()).doesUsernameMatch(username)) {
      TransactionResult r=new TransactionResult(tx);
      tx.markForTermination();
      killedTransactions.add(r);
    }
  }
  return killedTransactions.stream();
}
