{
  RecordCursor<DynamicRecord> recordCursor=mock(RecordCursor.class);
  when(recordCursor.next()).thenReturn(true).thenReturn(false);
  DynamicRecord dynamicRecord=new DynamicRecord(42);
  dynamicRecord.setData(new byte[]{1,1,1,1,1});
  when(recordCursor.get()).thenReturn(dynamicRecord);
  S store=mock(clazz);
  when(store.newRecordCursor(any(DynamicRecord.class))).thenReturn(mock(RecordCursor.class));
  when(store.placeRecordCursor(anyLong(),any(RecordCursor.class),any(RecordLoad.class))).thenReturn(recordCursor);
  return store;
}
