{
  File keyStorePath=File.createTempFile("keyStore","test");
  File privateKeyPath=fileFromResources("/certificates/chained_key.der");
  File certificatePath=fileFromResources("/certificates/combined.pem");
  KeyStoreInformation keyStoreInformation=new KeyStoreFactory().createKeyStore(keyStorePath,privateKeyPath,certificatePath);
  KeyStore keyStore=KeyStore.getInstance("JKS");
  keyStore.load(new FileInputStream(keyStoreInformation.getKeyStorePath()),keyStoreInformation.getKeyStorePassword());
  Certificate[] chain=keyStore.getCertificateChain("key");
  assertEquals("3 certificates expected in chain: root, intermediary, and user's",3,chain.length);
}
