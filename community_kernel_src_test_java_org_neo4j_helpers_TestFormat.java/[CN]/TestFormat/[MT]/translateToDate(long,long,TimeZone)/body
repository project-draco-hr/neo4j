{
  Calendar calendar=Calendar.getInstance();
  calendar.setTimeInMillis(timeWithDate);
  Calendar timeCalendar=Calendar.getInstance();
  timeCalendar.setTimeInMillis(time);
  timeCalendar.set(Calendar.YEAR,calendar.get(Calendar.YEAR));
  timeCalendar.set(Calendar.MONTH,calendar.get(Calendar.MONTH));
  timeCalendar.set(Calendar.DAY_OF_MONTH,calendar.get(Calendar.DAY_OF_MONTH));
  int timeZoneOffset=TimeZone.getDefault().getOffset(timeWithDate) - timeIsGivenInThisTimeZone.getOffset(timeWithDate);
  return timeCalendar.getTimeInMillis() + timeZoneOffset;
}
