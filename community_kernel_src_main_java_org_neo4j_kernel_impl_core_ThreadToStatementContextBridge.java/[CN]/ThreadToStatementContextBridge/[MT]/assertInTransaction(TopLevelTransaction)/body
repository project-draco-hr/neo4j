{
  if (transaction == null) {
    throw new NotInTransactionException();
  }
  if (transaction.getTransaction().shouldBeTerminateed()) {
    throw new TransactionTerminateException();
  }
}
