{
  RaftRecordCursor recordCursor=mock(RaftRecordCursor.class);
  when(recordCursor.next()).thenReturn(true).thenReturn(true).thenReturn(true).thenReturn(false);
  when(recordCursor.get()).thenReturn(new RaftLogAppendRecord(0,entryA)).thenReturn(new RaftLogAppendRecord(1,entryB)).thenReturn(new RaftLogAppendRecord(2,entryC)).thenReturn(null);
  PhysicalRaftLogEntryCursor entryCursor=new PhysicalRaftLogEntryCursor(recordCursor,new Stack<>(),0);
  assertTrue(entryCursor.next());
  assertEquals(entryA,entryCursor.get().getLogEntry());
  assertTrue(entryCursor.next());
  assertEquals(entryB,entryCursor.get().getLogEntry());
  assertTrue(entryCursor.next());
  assertEquals(entryC,entryCursor.get().getLogEntry());
  assertFalse(entryCursor.next());
  assertEquals(null,entryCursor.get());
}
