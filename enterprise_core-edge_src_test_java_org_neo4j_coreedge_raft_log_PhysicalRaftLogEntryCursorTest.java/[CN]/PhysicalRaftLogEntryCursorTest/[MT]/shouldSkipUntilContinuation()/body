{
  RaftRecordCursor recordCursor=mock(RaftRecordCursor.class);
  when(recordCursor.next()).thenReturn(true).thenReturn(true).thenReturn(true).thenReturn(true).thenReturn(true).thenReturn(false);
  when(recordCursor.get()).thenReturn(new RaftLogAppendRecord(0,entryA)).thenReturn(new RaftLogAppendRecord(1,entryB)).thenReturn(new RaftLogAppendRecord(2,entryC)).thenReturn(new RaftLogContinuationRecord(1)).thenReturn(new RaftLogAppendRecord(1,entryD)).thenReturn(null);
  Stack<Long> skipStack=new Stack<>();
  skipStack.push(1L);
  PhysicalRaftLogEntryCursor entryCursor=new PhysicalRaftLogEntryCursor(recordCursor,skipStack,0);
  assertTrue(entryCursor.next());
  assertEquals(entryA,entryCursor.get().getLogEntry());
  assertTrue(entryCursor.next());
  assertEquals(entryD,entryCursor.get().getLogEntry());
  assertFalse(entryCursor.next());
  assertEquals(null,entryCursor.get());
}
