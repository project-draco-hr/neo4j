{
  if (retries > 20) {
    close();
  }
  if (!acquireWriteBuffer()) {
    retries++;
    return false;
  }
  log("Setup offer: " + logVersionToSend + ","+ logLength);
  buffer.put(HeaderConstants.OFFER_LOG);
  buffer.putLong(logVersionToSend);
  buffer.putLong(logLength);
  buffer.flip();
  setStatus(Status.SEND_OFFER);
  retries=0;
  return true;
}
