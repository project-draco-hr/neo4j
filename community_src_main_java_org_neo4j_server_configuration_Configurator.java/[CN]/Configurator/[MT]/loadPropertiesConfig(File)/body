{
  for (  File configFile : getCandidateConfigFiles(configDir,".properties")) {
    PropertiesConfiguration propertiesConfig=new PropertiesConfiguration(configFile);
    if (validator.validate(serverConfiguration,propertiesConfig)) {
      serverConfiguration.addConfiguration(propertiesConfig);
    }
 else {
      String failed=String.format("Error processing [%s], configuration file(s) corrupt or contains duplicates",configFile.getAbsolutePath());
      log.fatal(failed);
      throw new InvalidServerConfigurationException(failed);
    }
  }
}
