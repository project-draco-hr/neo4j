{
  DelegateInvocationHandler<Locks> lockManagerDelegate=new DelegateInvocationHandler<>(Locks.class);
  final Locks lockManager=(Locks)Proxy.newProxyInstance(Locks.class.getClassLoader(),new Class[]{Locks.class},lockManagerDelegate);
  new LockManagerModeSwitcher(memberStateMachine,lockManagerDelegate,masterDelegateInvocationHandler,requestContextFactory,availabilityGuard,config,new Factory<Locks>(){
    @Override public Locks newInstance(){
      return CommunityEditionModule.createLockManager(config,logging);
    }
  }
);
  return lockManager;
}
