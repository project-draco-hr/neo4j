{
  try {
    createEmptyStore(dynamicStoreFile(),30);
    DynamicArrayStore store=newStore();
    Collection<DynamicRecord> records=new ArrayList<>();
    store.allocateRecordsFromBytes(records,new byte[10]);
    long blockId=first(records).getId();
    for (    DynamicRecord record : records) {
      store.updateRecord(record);
    }
    store.close();
    try {
      store.getArrayFor(store.getRecords(blockId));
      fail("Closed store should throw exception");
    }
 catch (    RuntimeException e) {
    }
    try {
      store.getLightRecords(0);
      fail("Closed store should throw exception");
    }
 catch (    RuntimeException e) {
    }
  }
  finally {
    deleteBothFiles();
  }
}
