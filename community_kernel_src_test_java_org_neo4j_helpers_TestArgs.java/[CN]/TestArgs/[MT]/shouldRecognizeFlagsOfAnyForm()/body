{
  Args args=Args.withFlags("flag1","flag2","flag3").parse("-key1=Foo","-flag1","-key1","Bar","-flag2=true","-key3=Baz","-flag3","true");
  List<String> orphans=args.orphans();
  assertTrue("Orphan args expected to be empty, but were: " + orphans,orphans.isEmpty());
  assertTrue(args.getBoolean("flag1",false,true));
  assertTrue(args.getBoolean("flag2",false,false));
  assertTrue(args.getBoolean("flag3",false,false));
}
