{
  GraphDatabaseService graphDb=new EmbeddedGraphDatabase(DB_PATH);
  registerShutdownHook(graphDb);
  Transaction tx=graphDb.beginTx();
  try {
    Node firstNode=graphDb.createNode();
    firstNode.setProperty(NAME_KEY,"Hello");
    Node secondNode=graphDb.createNode();
    secondNode.setProperty(NAME_KEY,"World");
    firstNode.createRelationshipTo(secondNode,ExampleRelationshipTypes.EXAMPLE);
    String greeting=firstNode.getProperty(NAME_KEY) + " " + secondNode.getProperty(NAME_KEY);
    System.out.println(greeting);
    firstNode.getSingleRelationship(ExampleRelationshipTypes.EXAMPLE,Direction.OUTGOING).delete();
    firstNode.delete();
    secondNode.delete();
    tx.success();
  }
  finally {
    tx.finish();
  }
  System.out.println("Shutting down database ...");
  graphDb.shutdown();
}
