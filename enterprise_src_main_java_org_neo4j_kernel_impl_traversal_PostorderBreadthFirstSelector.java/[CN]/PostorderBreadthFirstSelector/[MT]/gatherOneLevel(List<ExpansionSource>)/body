{
  List<ExpansionSource> level=new LinkedList<ExpansionSource>();
  Integer depth=null;
  for (  ExpansionSource source : queue) {
    if (depth == null) {
      depth=source.depth();
    }
 else     if (source.depth() != depth) {
      break;
    }
    while (true) {
      ExpansionSource next=source.next();
      if (next == null) {
        break;
      }
      level.add(next);
    }
  }
  return level;
}
