{
  buffer.flip();
  try {
    channel.write(buffer);
  }
 catch (  ClosedChannelException e) {
    handleClosedChannelException(e);
  }
  buffer.clear();
}
