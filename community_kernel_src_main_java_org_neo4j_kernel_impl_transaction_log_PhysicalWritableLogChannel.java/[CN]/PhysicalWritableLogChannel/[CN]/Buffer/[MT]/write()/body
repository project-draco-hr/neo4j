{
  try {
    buffer.flip();
    if (buffer.hasRemaining()) {
      channel.write(buffer);
    }
    buffer.clear();
  }
  finally {
    buffers.release(this);
  }
}
