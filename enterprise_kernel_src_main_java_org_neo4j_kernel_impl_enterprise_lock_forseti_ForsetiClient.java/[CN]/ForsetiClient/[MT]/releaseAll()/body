{
  if (!stateHolder.incrementActiveClients()) {
    throw new LockClientAlreadyClosedException(String.format("%s is already closed",this));
  }
  try {
    releaseAllClientLocks();
  }
  finally {
    stateHolder.decrementActiveClients();
  }
}
