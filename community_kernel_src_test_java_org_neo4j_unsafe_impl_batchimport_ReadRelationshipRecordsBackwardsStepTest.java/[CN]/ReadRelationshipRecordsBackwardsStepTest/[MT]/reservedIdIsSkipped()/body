{
  long highId=5;
  int batchSize=(int)highId;
  RelationshipStore store=StoreWithReservedId.newRelationshipStoreMock(highId);
  when(store.getHighId()).thenReturn(highId);
  ReadRelationshipRecordsBackwardsStep step=new ReadRelationshipRecordsBackwardsStep(mock(StageControl.class),Configuration.DEFAULT,store);
  Object batch=step.nextBatchOrNull(0,batchSize);
  assertNotNull(batch);
  RelationshipRecord[] records=(RelationshipRecord[])batch;
  boolean hasRecordWithReservedId=Stream.of(records).anyMatch(recordWithReservedId());
  assertFalse("Batch contains record with reserved id " + Arrays.toString(records),hasRecordWithReservedId);
}
