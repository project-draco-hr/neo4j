{
  EmbeddedGraphDatabase tempdb=null;
  String randomDbName="tmpdb-" + rnd.nextInt();
  File possibleDirectory=new File("target" + File.separator + randomDbName);
  if (possibleDirectory.exists()) {
    FileUtils.deleteDirectory(possibleDirectory);
  }
  if (config == null) {
    tempdb=new EmbeddedGraphDatabase(randomDbName);
  }
 else {
    tempdb=new EmbeddedGraphDatabase(randomDbName,config);
  }
  return tempdb;
}
