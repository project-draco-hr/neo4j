{
  GraphDatabaseBuilder builder=new HighlyAvailableGraphDatabaseFactory().newHighlyAvailableDatabaseBuilder(path(serverId)).setConfig(HaSettings.server_id,"" + serverId).setConfig(HaSettings.ha_server,":" + (8001 + serverId)).setConfig(HaSettings.initial_hosts,"127.0.0.1:5002,127.0.0.1:5003,127.0.0.1:5004").setConfig(HaSettings.cluster_server,"127.0.0.1:" + (5001 + serverId)).setConfig(HaSettings.tx_push_factor,"0");
  HighlyAvailableGraphDatabase db=(HighlyAvailableGraphDatabase)builder.newGraphDatabase();
  Transaction tx=db.beginTx();
  tx.finish();
  try {
    Thread.sleep(2000);
  }
 catch (  InterruptedException e) {
    throw new RuntimeException(e);
  }
  return db;
}
