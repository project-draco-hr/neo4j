{
  while (true) {
    try {
      MemberId memberId=connectionStrategy.coreServer();
      log.info("Server starting, connecting to core server at %s",memberId.toString());
      discoveryService.registerEdgeServer(extractBoltAddress(config));
      return memberId;
    }
 catch (    CoreServerSelectionException ex) {
      log.info("Failed to connect to core server. Retrying in %d ms.",timeout.getMillis());
      LockSupport.parkUntil(timeout.getMillis() + System.currentTimeMillis());
      timeout.increment();
    }
  }
}
