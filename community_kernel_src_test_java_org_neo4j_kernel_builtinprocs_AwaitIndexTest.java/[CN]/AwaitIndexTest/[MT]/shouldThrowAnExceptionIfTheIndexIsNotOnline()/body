{
  when(operations.labelGetForName(anyString())).thenReturn(123);
  when(operations.propertyKeyGetForName(anyString())).thenReturn(456);
  when(operations.indexGetForLabelAndPropertyKey(anyInt(),anyInt())).thenReturn(new IndexDescriptor(-1,-1));
  when(operations.indexGetState(any(IndexDescriptor.class))).thenReturn(POPULATING);
  try {
    procedures.awaitIndex(null,null);
    fail("Expected an exception");
  }
 catch (  ProcedureException e) {
    assertThat(e.getMessage(),containsString("not online"));
  }
}
