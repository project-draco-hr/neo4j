{
  nodeManager.acquireLock(this,LockType.WRITE);
  try {
    EventData eventData=new EventData(new NodeOpData(this,id));
    if (!nodeManager.generateProActiveEvent(Event.NODE_DELETE,eventData)) {
      nodeManager.setRollbackOnly();
      throw new DeleteException("Generate pro-active event failed, " + "unable to delete " + this);
    }
    nodeRelPhase=NodePhase.EMPTY_REL;
    nodePropPhase=NodePhase.EMPTY_PROPERTY;
    relationshipMap=new ArrayMap<String,ArrayIntSet>();
    propertyMap=new ArrayMap<Integer,Property>(9,false,true);
    nodeManager.removeNodeFromCache(id);
    nodeManager.generateReActiveEvent(Event.NODE_DELETE,eventData);
  }
  finally {
    nodeManager.releaseLock(this,LockType.WRITE);
  }
}
