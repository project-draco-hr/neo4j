{
  Node node1=createNode();
  Node node2=createNode();
  Node node3=createNode();
  createRelationship(node1,node2,TestTypes.TEST);
  createRelationship(node3,node1,TestTypes.FOO);
  assertContainsAll(otherNodes(node1,node1.getRelationships()),node2,node3);
  assertContainsAll(otherNodes(node1,node1.getRelationships(Direction.OUTGOING)),node2);
  assertContainsAll(otherNodes(node1,node1.getRelationships(TestTypes.FOO)),node3);
  assertContainsAll(otherNodes(node1,node1.getRelationships(Direction.OUTGOING,TestTypes.FOO,TestTypes.TEST)),node2);
  assertContainsAll(otherNodes(node1,node1.getRelationships(TestTypes.FOO,Direction.INCOMING)),node3);
  assertEquals(node2,node1.getSingleRelationship(TestTypes.TEST,Direction.OUTGOING).getOtherNode(node1));
  assertTrue(node1.hasRelationship(Direction.OUTGOING));
  assertTrue(node1.hasRelationship(Direction.INCOMING,TestTypes.FOO));
  assertTrue(node1.hasRelationship(TestTypes.FOO));
  assertTrue(node1.hasRelationship(TestTypes.TEST,Direction.OUTGOING));
  assertTrue(node1.hasRelationship());
  assertFalse(node1.hasRelationship(TestTypes.TEST,Direction.INCOMING));
}
