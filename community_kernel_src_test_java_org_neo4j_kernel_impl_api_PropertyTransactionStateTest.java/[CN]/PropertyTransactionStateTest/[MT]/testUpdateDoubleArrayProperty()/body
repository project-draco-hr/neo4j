{
  Node node;
  try (Transaction tx=db.beginTx()){
    node=db.createNode();
    node.setProperty("foo",new double[]{0,0,0,0});
    tx.success();
  }
   try (Transaction ignore=db.beginTx()){
    for (int i=0; i < 100; i++) {
      double[] data=(double[])node.getProperty("foo");
      data[2]=i;
      data[3]=i;
      node.setProperty("foo",data);
      assertArrayEquals(new double[]{0,0,i,i},(double[])node.getProperty("foo"),0.1D);
    }
  }
 }
