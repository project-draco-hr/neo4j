{
  final FileSystemAbstraction fs=new DefaultFileSystemAbstraction();
  final File file=File.createTempFile("ReadLogHeader",getClass().getSimpleName());
  final ByteBuffer buffer=ByteBuffer.allocate(LOG_HEADER_SIZE);
  buffer.putLong(encodeLogVersion(expectedLogVersion));
  buffer.putLong(expectedTxId);
  try (OutputStream stream=fs.openAsOutputStream(file,false)){
    stream.write(buffer.array());
  }
   final LogHeader result=readLogHeader(fs,file);
  assertEquals(new LogHeader(CURRENT_LOG_VERSION,expectedLogVersion,expectedTxId),result);
}
