{
  Node node=entry.node();
  String labelName=entry.label().name();
  boolean hasEntity=expected.containsKey(node);
  if (!hasEntity && ignoreAdditionalData) {
    return;
  }
  assertTrue("Unexpected node " + node,hasEntity);
  Set<String> labels=expected.get(node);
  boolean hasLabel=labels.remove(labelName);
  if (!hasLabel && ignoreAdditionalData) {
    return;
  }
  assertTrue("Unexpected label " + labelName + " for "+ node,hasLabel);
  if (labels.isEmpty()) {
    expected.remove(node);
  }
}
