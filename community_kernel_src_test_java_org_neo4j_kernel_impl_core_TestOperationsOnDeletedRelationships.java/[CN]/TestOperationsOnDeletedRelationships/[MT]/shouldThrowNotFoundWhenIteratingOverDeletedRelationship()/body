{
  NodeImpl fromNode=new NodeImpl(1337l,false);
  NodeManager nodeManager=mock(NodeManager.class);
  Throwable exceptionCaught=null;
  fromNode.setRelChainPosition(1337l);
  when(nodeManager.getMoreRelationships(any(NodeImpl.class))).thenThrow(new InvalidRecordException("LURING!"));
  try {
    fromNode.getMoreRelationships(nodeManager);
  }
 catch (  Throwable e) {
    exceptionCaught=e;
  }
  assertThat(exceptionCaught,not(nullValue()));
  assertThat(exceptionCaught,is(instanceOf(NotFoundException.class)));
}
