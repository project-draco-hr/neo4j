{
  if (log.isDebugEnabled()) {
    log.debug("Applying recovered updates: " + recoveredNodeIds);
  }
  monitor.applyingRecoveredData(recoveredNodeIds);
  if (!recoveredNodeIds.isEmpty()) {
    try (IndexUpdaterMap updaterMap=indexMapRef.createIndexUpdaterMap(IndexUpdateMode.RECOVERY)){
      for (      IndexUpdater updater : updaterMap) {
        updater.remove(recoveredNodeIds);
      }
      IndexUpdates updates=readRecoveredUpdatesFromStore();
      apply(updates,IndexUpdateMode.RECOVERY);
      monitor.appliedRecoveredData(updates);
    }
   }
  recoveredNodeIds.clear();
}
