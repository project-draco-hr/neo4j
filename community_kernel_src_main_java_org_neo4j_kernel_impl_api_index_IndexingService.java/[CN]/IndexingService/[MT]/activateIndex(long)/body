{
  IndexProxy index=getProxyForRule(indexId);
  try {
    if (state == State.RUNNING) {
      index.awaitStoreScanCompleted();
      index.activate();
    }
  }
 catch (  InterruptedException e) {
    Thread.interrupted();
    throw new IndexActivationFailedKernelException(e,"Unable to activate index, thread was interrupted.");
  }
}
