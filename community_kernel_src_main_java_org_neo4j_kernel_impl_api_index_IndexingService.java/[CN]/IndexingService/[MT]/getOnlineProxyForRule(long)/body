{
  IndexProxy indexProxy=getProxyForRule(indexId);
switch (indexProxy.getState()) {
case ONLINE:
    return indexProxy;
default :
  throw new IndexNotFoundKernelException("Expected requested index with id " + indexId + " to be online.");
}
}
