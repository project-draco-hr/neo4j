{
  final List<NodePropertyUpdate> recoveredUpdates=new ArrayList<>();
  recoveredNodeIds.visitKeys(new PrimitiveLongVisitor<RuntimeException>(){
    private final NodeRecord nodeRecord=new NodeRecord(-1);
    @Override public boolean visited(    long nodeId){
      storeView.nodeAsUpdates(nodeId,nodeRecord,recoveredUpdates);
      return false;
    }
  }
);
  return new DirectIndexUpdates(recoveredUpdates);
}
