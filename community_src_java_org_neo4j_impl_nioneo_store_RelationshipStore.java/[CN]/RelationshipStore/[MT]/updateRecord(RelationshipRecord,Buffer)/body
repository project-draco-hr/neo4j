{
  int id=record.getId();
  int offset=(id - buffer.position()) * getRecordSize();
  buffer.setOffset(offset);
  if (record.inUse()) {
    byte inUse=Record.IN_USE.byteValue();
    buffer.put(inUse).putInt(record.getFirstNode()).putInt(record.getSecondNode()).putInt(record.getType()).putInt(record.getFirstPrevRel()).putInt(record.getFirstNextRel()).putInt(record.getSecondPrevRel()).putInt(record.getSecondNextRel()).putInt(record.getNextProp());
  }
 else {
    buffer.put(Record.NOT_IN_USE.byteValue()).putInt(0).putInt(0).putInt(0).putInt(Record.NO_PREV_RELATIONSHIP.intValue()).putInt(Record.NO_NEXT_RELATIONSHIP.intValue()).putInt(Record.NO_PREV_RELATIONSHIP.intValue()).putInt(Record.NO_NEXT_RELATIONSHIP.intValue()).putInt(Record.NO_NEXT_PROPERTY.intValue());
    if (!isInRecoveryMode()) {
      freeId(id);
    }
  }
}
