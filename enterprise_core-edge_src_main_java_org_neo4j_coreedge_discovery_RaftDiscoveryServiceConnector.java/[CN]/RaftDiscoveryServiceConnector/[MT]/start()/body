{
  discoveryService.addMembershipListener(this);
  ClusterTopology clusterTopology=discoveryService.currentTopology();
  Set<MemberId> initialMembers=clusterTopology.coreMembers();
  if (clusterTopology.canBeBootstrapped()) {
    raftMachine.bootstrapWithInitialMembers(new MemberIdSet(initialMembers));
  }
  onTopologyChange();
}
