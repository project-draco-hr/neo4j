{
  if (value instanceof Path) {
    Path path=(Path)value;
    if (pathLinks.isEmpty()) {
      boolean matches=path.length() == 0;
      matches&=singleNodePath.matches(path.startNode());
      matches&=singleNodePath.matches(path.endNode());
      return matches;
    }
 else {
      boolean matches=path.length() == pathLinks.size();
      if (matches) {
        Iterator<Relationship> relationships=path.relationships().iterator();
        for (        PathLinkMatcher pathLink : pathLinks) {
          pathLink.matches(relationships.next());
        }
      }
      return matches;
    }
  }
  return false;
}
