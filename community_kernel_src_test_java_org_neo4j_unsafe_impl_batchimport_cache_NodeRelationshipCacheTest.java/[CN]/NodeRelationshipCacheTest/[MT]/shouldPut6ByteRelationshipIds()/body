{
  cache=new NodeRelationshipCache(NumberArrayFactory.HEAP,1,100,base);
  long sparseNode=0;
  long denseNode=1;
  long relationshipId=(1L << 48) - 2;
  cache.incrementCount(denseNode);
  assertEquals(-1L,cache.getAndPutRelationship(sparseNode,0,OUTGOING,relationshipId,false));
  assertEquals(-1L,cache.getAndPutRelationship(denseNode,0,OUTGOING,relationshipId,false));
  GroupVisitor groupVisitor=mock(GroupVisitor.class);
  assertEquals(relationshipId,cache.getAndPutRelationship(sparseNode,0,OUTGOING,1,false));
  assertEquals(relationshipId,cache.getAndPutRelationship(denseNode,0,OUTGOING,1,false));
}
