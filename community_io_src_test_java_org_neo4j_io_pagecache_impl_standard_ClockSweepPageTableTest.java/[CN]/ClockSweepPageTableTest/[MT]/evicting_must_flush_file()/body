{
  ByteBuffer storageBuffer=ByteBuffer.allocate(1024);
  BufferPageIO io=new BufferPageIO(storageBuffer);
  PinnablePage page=table.load(io,12,PageLock.EXCLUSIVE);
  page.putBytes("Muaha".getBytes("UTF-8"),0);
  page.unpin(PageLock.EXCLUSIVE);
  Thread thread=new Thread(new Runnable(){
    @Override public void run(){
      BufferPageIO io=new BufferPageIO(ByteBuffer.allocate(1));
      try {
        table.load(io,3,PageLock.SHARED);
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
  }
);
  thread.start();
  thread.join();
  byte[] actual=new byte[5];
  storageBuffer.position(0);
  storageBuffer.get(actual);
  assertThat(actual,equalTo("Muaha".getBytes("UTF-8")));
}
