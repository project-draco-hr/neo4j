{
  PageIO io=new BufferPageIO(ByteBuffer.allocate(TEST_PAGE_SIZE));
  long pageId=12;
  PinnablePage page=table.load(io,pageId,PageLock.EXCLUSIVE);
  monitor.observe(Fault.class);
  CountDownLatch latch=monitor.trap(is(new Evict(io,pageId)));
  page.unpin(PageLock.EXCLUSIVE);
  monitor.observe(Evict.class);
  Thread pinForShared=fork($pinUnpin(page,io,pageId,PageLock.SHARED));
  Thread pinForExclusive=fork($pinUnpin(page,io,pageId,PageLock.EXCLUSIVE));
  awaitThreadState(pinForShared,Thread.State.WAITING);
  awaitThreadState(pinForExclusive,Thread.State.WAITING);
  latch.countDown();
  pinForShared.join();
  pinForExclusive.join();
}
