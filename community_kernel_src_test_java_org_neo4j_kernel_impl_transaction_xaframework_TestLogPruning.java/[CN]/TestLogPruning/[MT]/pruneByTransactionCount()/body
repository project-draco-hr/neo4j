{
  int transactionsToKeep=100;
  int transactionsPerLog=3;
  newDb(transactionsToKeep + " txs",transactionsToKeep * transactionsPerLog);
  for (int i=0; i < 100; i++) {
    doTransaction();
  }
  int transactionCount=transactionCount();
  assertTrue("Transaction count expected to be within " + transactionsToKeep + " <= txs <= "+ (transactionsToKeep + transactionsPerLog)+ ", but was "+ transactionCount,transactionCount >= transactionsToKeep && transactionCount <= (transactionsToKeep + transactionsPerLog));
}
