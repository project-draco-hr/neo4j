{
  SegmentedRaftLog raftLog=createRaftLog(100);
  int term=0;
  ReplicatedInteger content=ReplicatedInteger.valueOf(4);
  raftLog.append(new RaftLogEntry(term,content));
  raftLog.append(new RaftLogEntry(term,content));
  long entryIndex3=raftLog.append(new RaftLogEntry(term,content));
  long entryIndex4=raftLog.append(new RaftLogEntry(term,content));
  raftLog.truncate(entryIndex4);
  life.remove(raftLog);
  raftLog=createRaftLog(100);
  assertEquals(entryIndex3,raftLog.appendIndex());
}
