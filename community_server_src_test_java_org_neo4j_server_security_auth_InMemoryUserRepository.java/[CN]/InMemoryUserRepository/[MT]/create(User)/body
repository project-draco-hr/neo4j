{
synchronized (this) {
    for (    User other : users.values()) {
      if (other.name().equals(user.name())) {
        throw new IllegalUsernameException("The specified user already exists");
      }
    }
    users.put(user.name(),user);
  }
}
