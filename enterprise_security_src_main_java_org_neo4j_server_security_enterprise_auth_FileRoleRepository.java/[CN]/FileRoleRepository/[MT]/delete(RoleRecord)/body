{
  boolean foundRole=false;
synchronized (this) {
    List<RoleRecord> newRoles=new ArrayList<>();
    for (    RoleRecord other : roles) {
      if (other.name().equals(role.name())) {
        foundRole=true;
      }
 else {
        newRoles.add(other);
      }
    }
    if (foundRole) {
      roles=newRoles;
      saveRolesToFile();
      rolesByName.remove(role.name());
    }
    removeFromUserMap(role);
  }
  return foundRole;
}
