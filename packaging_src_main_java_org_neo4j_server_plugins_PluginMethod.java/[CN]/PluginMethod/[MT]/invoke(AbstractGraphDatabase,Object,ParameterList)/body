{
  Object[] arguments=new Object[extractors.length];
  for (int i=0; i < arguments.length; i++) {
    arguments[i]=extractors[i].extract(graphDb,source,params);
  }
  try {
    return result.convert(method.invoke(plugin,arguments));
  }
 catch (  InvocationTargetException exc) {
    Throwable targetExc=exc.getTargetException();
    for (    Class<?> excType : method.getExceptionTypes()) {
      if (excType.isInstance(targetExc))       throw new BadPluginInvocationException(targetExc);
    }
    throw new PluginInvocationFailureException(targetExc);
  }
catch (  IllegalArgumentException e) {
    throw new PluginInvocationFailureException(e);
  }
catch (  IllegalAccessException e) {
    throw new PluginInvocationFailureException(e);
  }
}
