{
  if ((sourceId & 0xFFFF0000) != 0) {
    throw new IllegalArgumentException("Collisions in too many sources (currently at " + sourceId + ")");
  }
  if ((lineNumber & ~LINE_NUMBER_MASK) != 0) {
    throw new IllegalArgumentException("Collision in source with too many lines (" + lineNumber + ")");
  }
  return ((long)sourceId << 48) | lineNumber;
}
