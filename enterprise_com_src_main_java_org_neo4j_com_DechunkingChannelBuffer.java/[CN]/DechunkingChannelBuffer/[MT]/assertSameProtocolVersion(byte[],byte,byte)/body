{
  byte readInternalProtocolVersion=(byte)((header[0] & 0x7C) >>> 2);
  if (readInternalProtocolVersion != internalProtocolVersion) {
    throw new IllegalProtocolVersionException("Unexpected internal protocol version " + readInternalProtocolVersion + ", expected "+ internalProtocolVersion);
  }
  if (header[1] != applicationProtocolVersion) {
    throw new IllegalProtocolVersionException("Unexpected application protocol version " + header[1] + ", expected "+ applicationProtocolVersion);
  }
}
