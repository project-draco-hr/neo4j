def get_source_options(asciidoc_file):
    '\n    Look for a2x command options in AsciiDoc source file.\n    Limitation: options cannot contain double-quote characters.\n    '

    def parse_options():
        inquotes = False
        opt = ''
        for c in options:
            if (c == '"'):
                if inquotes:
                    result.append(opt)
                    opt = ''
                    inquotes = False
                else:
                    inquotes = True
            elif (c == ' '):
                if inquotes:
                    opt += c
                elif opt:
                    result.append(opt)
                    opt = ''
            else:
                opt += c
        if opt:
            result.append(opt)
    result = []
    if os.path.isfile(asciidoc_file):
        options = ''
        for line in open(asciidoc_file):
            mo = re.search('^//\\s*a2x:', line)
            if mo:
                options += (' ' + line[mo.end():].strip())
        parse_options()
    return result
