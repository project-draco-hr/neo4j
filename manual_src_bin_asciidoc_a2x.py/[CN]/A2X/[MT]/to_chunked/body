def to_chunked(self):
    self.to_docbook()
    docbook_file = self.dst_path('.xml')
    opts = self.xsltproc_opts
    xsl_file = self.xsl_stylesheet()
    if (self.format == 'chunked'):
        dst_dir = self.dst_path('.chunked')
    elif (self.format == 'htmlhelp'):
        dst_dir = self.dst_path('.htmlhelp')
    if (not ('base.dir ' in opts)):
        opts += (' --stringparam base.dir "%s/"' % os.path.basename(dst_dir))
    shell_rmtree(dst_dir)
    shell_makedirs(dst_dir)
    exec_xsltproc(xsl_file, docbook_file, self.destination_dir, opts)
    html_files = find_files(dst_dir, '*.html')
    src_dir = os.path.dirname(self.asciidoc_file)
    self.copy_resources(html_files, src_dir, dst_dir)
