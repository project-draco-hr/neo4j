{
  byte nameId=command.getIndexNameId();
  String indexName=defineCommand.getIndexName(nameId);
  NeoCommandHandler applier=providerAppliers.get(indexName);
  if (applier == null) {
    IndexEntityType entityType=IndexEntityType.byId(command.getEntityType());
    String providerName=indexConfigStore.get(entityType.entityClass(),indexName).get(PROVIDER);
    applier=providerLookup.lookup(providerName).newApplier(recovery);
    applier.visitIndexDefineCommand(defineCommand);
    providerAppliers.put(indexName,applier);
  }
  return applier;
}
