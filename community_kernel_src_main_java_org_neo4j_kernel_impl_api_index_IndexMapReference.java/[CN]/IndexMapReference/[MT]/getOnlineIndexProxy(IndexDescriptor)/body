{
  IndexProxy proxy=getIndexProxy(descriptor);
switch (proxy.getState()) {
case ONLINE:
    return proxy;
default :
  throw new IndexNotFoundKernelException("Expected index on " + descriptor + " to be online.");
}
}
