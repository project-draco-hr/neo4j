{
  for (  long resourceId : resourceIds) {
    if (releaseLocalLock(resourceType,resourceId,exclusiveLockCounts[resourceType.typeId()])) {
      continue;
    }
    if (sharedLockCounts[resourceType.typeId()].containsKey(resourceId)) {
      lockMaps[resourceType.typeId()].put(resourceId,new SharedLock(this));
    }
 else {
      releaseGlobalLock(lockMaps[resourceType.typeId()],resourceId);
    }
  }
}
