{
  for (int i=0; i < sharedLockCounts.length; i++) {
    Map<Long,Integer> localLocks=sharedLockCounts[i];
    if (localLocks != null) {
      ConcurrentMap<Long,ForsetiLockManager.Lock> lockMap=lockMaps[i];
      for (      Long resourceId : localLocks.keySet()) {
        if (!exclusiveLockCounts[i].containsKey(resourceId)) {
          releaseGlobalLock(lockMap,resourceId);
        }
      }
      localLocks.clear();
    }
  }
}
