{
  for (int i=0; i < exclusiveLockCounts.length; i++) {
    Map<Long,Integer> exclusiveLocks=exclusiveLockCounts[i];
    Map<Long,Integer> sharedLocks=sharedLockCounts[i];
    if (exclusiveLocks != null) {
      ConcurrentMap<Long,ForsetiLockManager.Lock> lockMap=lockMaps[i];
      for (      Long resourceId : exclusiveLocks.keySet()) {
        releaseGlobalLock(lockMap,resourceId);
        if (sharedLocks != null) {
          sharedLocks.remove(resourceId);
        }
      }
      exclusiveLocks.clear();
    }
    if (sharedLocks != null) {
      ConcurrentMap<Long,ForsetiLockManager.Lock> lockMap=lockMaps[i];
      for (      Long resourceId : sharedLocks.keySet()) {
        releaseGlobalLock(lockMap,resourceId);
      }
      sharedLocks.clear();
    }
  }
}
