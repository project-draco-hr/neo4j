{
  ForsetiLockManager.Lock lock=lockMap.get(resourceId);
  if (lock instanceof ExclusiveLock) {
    lockMap.remove(resourceId);
  }
 else   if (lock instanceof SharedLock && ((SharedLock)lock).release(this)) {
    lockMap.remove(resourceId);
  }
}
