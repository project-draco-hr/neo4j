{
  String host="localhost";
  File targetDir=new File("/var/backup/neo4j/").getAbsoluteFile();
  String[] args={"-from",host,"-to",targetDir.getAbsolutePath(),"-verify","false"};
  BackupService service=mock(BackupService.class);
  PrintStream systemOut=mock(PrintStream.class);
  new BackupTool(service,systemOut).run(args);
  verify(service).doIncrementalBackupOrFallbackToFull(eq(host),eq(BackupServer.DEFAULT_PORT),eq(targetDir),eq(ConsistencyCheck.NONE),any(Config.class),eq(BackupClient.BIG_READ_TIMEOUT),eq(false));
  verify(systemOut).println("Performing backup from '" + new HostnamePort(host,BackupServer.DEFAULT_PORT) + "'");
  verify(systemOut).println("Done");
}
