{
  String[] args=new String[]{"-host","localhost","-to","my_backup"};
  BackupService service=mock(BackupService.class);
  PrintStream systemOut=mock(PrintStream.class);
  new BackupTool(service,systemOut).run(args);
  ArgumentCaptor<Config> config=ArgumentCaptor.forClass(Config.class);
  verify(service).doIncrementalBackupOrFallbackToFull(anyString(),anyInt(),eq(new File("my_backup")),anyBoolean(),config.capture(),eq(BackupClient.BIG_READ_TIMEOUT),eq(false));
  assertFalse(config.getValue().get(ConsistencyCheckSettings.consistency_check_property_owners));
  assertEquals(TaskExecutionOrder.MULTI_PASS,config.getValue().get(ConsistencyCheckSettings.consistency_check_execution_order));
}
