{
  Map<String,Pair<ServerExtension,ServerExtender>> extensions=new HashMap<String,Pair<ServerExtension,ServerExtender>>();
  for (  ServerExtension extension : ServerExtension.load()) {
    final ServerExtender extender=new ServerExtender();
    try {
      extension.loadServerExtender(extender,serverConfig);
    }
 catch (    Exception ex) {
      log.warn("Failed to load extension: " + extension,ex);
      continue;
    }
catch (    LinkageError err) {
      log.warn("Failed to load extension: " + extension,err);
      continue;
    }
    Pair<ServerExtension,ServerExtender> old=extensions.put(extension.name,Pair.of(extension,extender));
    if (old != null) {
      log.warn(String.format("Extension naming conflict \"%s\" between \"%s\" and \"%s\"",extension.name,old.first().getClass(),extension.getClass()));
    }
  }
  for (  Pair<ServerExtension,ServerExtender> extension : extensions.values()) {
    this.extensions.put(extension.first().name,extension.other());
  }
}
