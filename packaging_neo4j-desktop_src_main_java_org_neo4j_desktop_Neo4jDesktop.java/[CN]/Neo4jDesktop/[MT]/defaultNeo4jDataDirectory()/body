{
  ArrayList<File> locations=new ArrayList<>();
  String os=System.getProperty("os.name");
  if (os.startsWith("Windows")) {
    locations.add(getFileSystemView().getDefaultDirectory());
  }
  if (os.startsWith("Mac OS")) {
    locations.add(new File(new File(System.getProperty("user.home")),"Documents"));
  }
  locations.add(new File(System.getProperty("user.home")));
  File documents=selectFirstWritableDirectoryOrElse(locations,new File(System.getProperty("user.dir")));
  File neo4jData=new File(documents,"Neo4j");
  return ensureIsDirectory("Neo4j data directory",neo4jData);
}
