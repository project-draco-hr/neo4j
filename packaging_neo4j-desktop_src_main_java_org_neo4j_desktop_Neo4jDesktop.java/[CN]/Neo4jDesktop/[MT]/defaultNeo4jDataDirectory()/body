{
  ArrayList<File> locations=new ArrayList<>();
switch (OperatingSystemFamily.detect()) {
case WINDOWS:
    locations.add(getFileSystemView().getDefaultDirectory());
  break;
case MAC_OS:
locations.add(new File(new File(System.getProperty("user.home")),"Documents"));
break;
}
locations.add(new File(System.getProperty("user.home")));
File documents=selectFirstWritableDirectoryOrElse(locations,new File(System.getProperty("user.dir")));
File neo4jData=new File(documents,"Neo4j");
return ensureIsDirectory("Neo4j data directory",neo4jData);
}
