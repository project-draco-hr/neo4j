{
  GraphDatabaseBuilder builder=new EnterpriseGraphDatabaseFactory().newEmbeddedDatabaseBuilder(dbDir).setConfig(GraphDatabaseSettings.record_format,recordFormat);
  GraphDatabaseAPI db=(GraphDatabaseAPI)builder.newGraphDatabase();
  TransactionCommitProcess commitProcess=db.getDependencyResolver().resolveDependency(TransactionCommitProcess.class);
  PhysicalTransactionRepresentation tx=new PhysicalTransactionRepresentation(Collections.emptyList());
  byte[] txHeaderBytes=LogIndexTxHeaderEncoding.encodeLogIndexAsTxHeader(-1);
  tx.setHeader(txHeaderBytes,-1,-1,-1,-1,-1,-1);
  commitProcess.commit(new TransactionToApply(tx),CommitEvent.NULL,TransactionApplicationMode.EXTERNAL);
  db.shutdown();
}
