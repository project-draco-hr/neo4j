{
  Transaction tx=db.beginTx();
  StatementContext statement=ctxProvider.getCtxForWriting();
  long labelId=5, propertyKey=8;
  IndexDescriptor expectedRule=statement.addIndexRule(labelId,propertyKey);
  statement.close();
  tx.success();
  tx.finish();
  statement=ctxProvider.getCtxForReading();
  assertEquals(asSet(expectedRule),asSet(statement.getIndexRules(labelId)));
  assertEquals(expectedRule,statement.getIndexRule(labelId,propertyKey));
}
