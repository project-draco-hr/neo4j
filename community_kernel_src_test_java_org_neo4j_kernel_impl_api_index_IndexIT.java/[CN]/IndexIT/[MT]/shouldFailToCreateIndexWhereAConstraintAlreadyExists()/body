{
{
    SchemaWriteOperations statement=schemaWriteOperationsInNewTransaction();
    statement.uniquePropertyConstraintCreate(labelId,propertyKey);
    commit();
  }
  try {
    SchemaWriteOperations statement=schemaWriteOperationsInNewTransaction();
    statement.indexCreate(labelId,propertyKey);
    commit();
    fail("expected exception");
  }
 catch (  SchemaKernelException e) {
    assertEquals("Label 'label[5]' and property 'key[8]' have a unique constraint defined on " + "them, so an index is already created that matches this.",e.getMessage());
  }
}
