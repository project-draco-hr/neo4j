{
  try {
    if (config.get(gangliaEnabled)) {
      final GMetric ganglia=new GMetric(config.get(gangliaServer).getHost(),config.get(gangliaServer).getPort(),GMetric.UDPAddressingMode.MULTICAST,1);
      gangliaReporter=GangliaReporter.forRegistry(registry).prefixedWith(prefix).convertRatesTo(TimeUnit.SECONDS).convertDurationsTo(TimeUnit.MILLISECONDS).filter(MetricFilter.ALL).build(ganglia);
      gangliaReporter.start(config.get(gangliaInterval),TimeUnit.MILLISECONDS);
      logger.info("Sending metrics to Ganglia server at " + config.get(gangliaServer));
    }
  }
 catch (  IOException e) {
    logger.error("Could not start Ganglia output",e);
  }
}
