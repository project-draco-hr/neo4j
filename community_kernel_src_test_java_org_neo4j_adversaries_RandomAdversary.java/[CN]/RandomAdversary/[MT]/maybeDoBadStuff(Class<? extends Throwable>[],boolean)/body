{
  double luckyDraw=rng.nextDouble();
  double factor=probabilityFactor;
  boolean resetUponFailure=false;
  if (factor < 0) {
    resetUponFailure=true;
    factor=-factor;
  }
  if (luckyDraw <= errorRate * factor) {
    if (resetUponFailure) {
      probabilityFactor=STANDARD_PROPABILITY_FACTOR;
    }
    throwOneOf(OutOfMemoryError.class,NullPointerException.class);
  }
  if (failureTypes.length > 0 && luckyDraw <= (failureRate + errorRate) * factor) {
    if (resetUponFailure) {
      probabilityFactor=STANDARD_PROPABILITY_FACTOR;
    }
    throwOneOf(failureTypes);
  }
  return includingMischeif && luckyDraw <= (mischiefRate + failureRate + errorRate) * factor;
}
