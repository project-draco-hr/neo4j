{
  long deadline=SYSTEM_CLOCK.currentTimeMillis() + orUntilDeadline;
  while (transactionMonitor.getNumberOfActiveTransactions() > 0 && SYSTEM_CLOCK.currentTimeMillis() < deadline) {
    Thread.yield();
  }
}
