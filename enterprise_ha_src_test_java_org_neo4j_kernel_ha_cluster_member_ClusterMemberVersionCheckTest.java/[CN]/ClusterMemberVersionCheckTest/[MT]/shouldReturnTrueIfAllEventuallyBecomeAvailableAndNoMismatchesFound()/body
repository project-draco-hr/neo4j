{
  ClusterMembers members=changingClusterMembers(asList(member(ID_1,MASTER,true,EXPECTED_STORE_ID,true),member(ID_3,SLAVE,true,EXPECTED_STORE_ID,true),member(ID_4,SLAVE,true,EXPECTED_STORE_ID,true),member(ID_5,UNKNOWN,true,EXPECTED_STORE_ID,true)),member(ID_5,SLAVE,true,EXPECTED_STORE_ID,true));
  int timeoutMillis=1;
  Outcome outcome=new ClusterMemberVersionCheck(members,ID_2,twoTickClock(timeoutMillis)).doVersionCheck(EXPECTED_STORE_ID,timeoutMillis,MILLISECONDS);
  assertFalse(outcome.hasMismatched());
  assertFalse(outcome.hasUnavailable());
  verify(members,times(1)).waitForEvent(timeoutMillis);
}
