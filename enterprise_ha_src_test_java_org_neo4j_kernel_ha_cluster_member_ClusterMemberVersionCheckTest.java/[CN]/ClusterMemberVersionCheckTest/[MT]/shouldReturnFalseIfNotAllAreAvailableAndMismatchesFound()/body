{
  ClusterMembers members=clusterMembersWith(member(ID_1,MASTER,true,EXPECTED_STORE_ID),member(ID_3,SLAVE,true,EXPECTED_STORE_ID),member(ID_4,SLAVE,true,UNEXPECTED_STORE_ID),member(ID_5,UNKNOWN,true,EXPECTED_STORE_ID));
  int timeoutMillis=1;
  boolean versionCheckPassed=new ClusterMemberVersionCheck(members,ID_2,twoTickClock(timeoutMillis)).doVersionCheck(EXPECTED_STORE_ID,timeoutMillis,MILLISECONDS);
  assertFalse(versionCheckPassed);
  verify(members,times(1)).waitForEvent(timeoutMillis);
}
