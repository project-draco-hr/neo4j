{
  try {
    LockManager lockManager=getEmbeddedGraphDb().getConfig().getLockManager();
    LockReleaser lockReleaser=getEmbeddedGraphDb().getConfig().getLockReleaser();
    ds=new NeoStoreXaDataSource(file("neo"),path(),lockManager,lockReleaser);
  }
 catch (  InstantiationException e) {
    throw new IOException("" + e);
  }
  xaCon=(NeoStoreXaConnection)ds.getXaConnection();
  nStore=xaCon.getNodeConsumer();
  pStore=xaCon.getPropertyStore();
  relTypeStore=xaCon.getRelationshipTypeConsumer();
  rStore=xaCon.getRelationshipConsumer();
}
