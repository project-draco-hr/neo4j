{
  LinkedList<TOKEN> records=new LinkedList<>();
  long maxIdInUse=getHighestPossibleIdInUse();
  int found=0;
  for (int i=0; i <= maxIdInUse && found < maxCount; i++) {
    RECORD record;
    try {
      record=getRecord(i);
    }
 catch (    InvalidRecordException t) {
      continue;
    }
    found++;
    if (record != null && record.inUse() && record.getNameId() != Record.RESERVED.intValue()) {
      records.add(tokenFactory.newToken(getStringFor(record),i));
    }
  }
  return records;
}
