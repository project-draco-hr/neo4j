{
  if (version < logVersion) {
    return getLogicalLog(version,position);
  }
 else   if (version == logVersion) {
    String currentLogName=getCurrentLogFileName();
    FileChannel channel=new RandomAccessFile(currentLogName,"r").getChannel();
    channel=logBufferFactory.combine(channel,writeBuffer);
    channel.position(position);
    return channel;
  }
 else {
    throw new RuntimeException("Version[" + version + "] is higher then current log version["+ logVersion+ "]");
  }
}
