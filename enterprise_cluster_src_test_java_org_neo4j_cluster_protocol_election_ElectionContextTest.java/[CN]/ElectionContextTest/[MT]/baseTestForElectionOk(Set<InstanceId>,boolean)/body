{
  HeartbeatContext heartbeatContext=mock(HeartbeatContext.class);
  when(heartbeatContext.getFailed()).thenReturn(failed);
  Map<InstanceId,URI> members=new HashMap<InstanceId,URI>();
  members.put(new InstanceId(1),URI.create("server1"));
  members.put(new InstanceId(2),URI.create("server2"));
  members.put(new InstanceId(3),URI.create("server3"));
  ClusterConfiguration clusterConfiguration=mock(ClusterConfiguration.class);
  when(clusterConfiguration.getMembers()).thenReturn(members);
  ClusterContext clusterContext=mock(ClusterContext.class);
  when(clusterContext.getConfiguration()).thenReturn(clusterConfiguration);
  ElectionContext toTest=new ElectionContext(Iterables.<ElectionRole,ElectionRole>iterable(new ElectionRole("coordinator")),clusterContext,heartbeatContext);
  assertEquals(moreThanQuorum,!toTest.electionOk());
}
