{
  Document document=newBaseDocument(nodeId);
  document.add(new Field(NODE_ID_KEY,"" + nodeId,YES,NOT_ANALYZED));
  if (value instanceof Number) {
    NumericField numberField=new NumericField(NUMBER_PROPERTY_FIELD_IDENTIFIER,NO,true);
    numberField.setDoubleValue(((Number)value).doubleValue());
    document.add(numberField);
  }
 else   if (value instanceof Boolean) {
    document.add(field(BOOL_PROPERTY_FIELD_IDENTIFIER,value.toString()));
  }
 else   if (value.getClass().isArray()) {
    document.add(field(ARRAY_PROPERTY_FIELD_IDENTIFIER,encode(value)));
  }
 else {
    document.add(field(STRING_PROPERTY_FIELD_IDENTIFIER,value.toString()));
  }
  return document;
}
