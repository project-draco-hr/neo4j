{
  GraphDatabaseFactoryState state=new GraphDatabaseFactoryState();
  state.setCacheProviders(asList((CacheProvider)new NoCacheProvider()));
  state.setTransactionInterceptorProviders(Arrays.<TransactionInterceptorProvider>asList());
  return new EmbeddedGraphDatabase(storeLocation.absolutePath(),stringMap(cache_type.name(),NoCacheProvider.NAME),state.databaseDependencies()){
    @Override protected TxIdGenerator createTxIdGenerator(){
      return idGenerator;
    }
  }
;
}
