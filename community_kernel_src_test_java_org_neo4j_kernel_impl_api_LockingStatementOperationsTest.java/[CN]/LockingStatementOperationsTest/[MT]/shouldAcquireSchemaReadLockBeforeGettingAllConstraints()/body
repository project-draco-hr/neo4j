{
  Iterator<UniquenessConstraint> constraints=Collections.emptyIterator();
  when(schemaReadOps.constraintsGetAll(state)).thenReturn(constraints);
  Iterator<UniquenessConstraint> result=lockingOps.constraintsGetAll(state);
  assertSame(constraints,result);
  order.verify(locks).acquireShared(ResourceTypes.SCHEMA,ResourceTypes.schemaResource());
  order.verify(schemaReadOps).constraintsGetAll(state);
}
