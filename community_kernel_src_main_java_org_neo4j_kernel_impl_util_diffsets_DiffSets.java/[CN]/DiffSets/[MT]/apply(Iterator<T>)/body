{
  Iterator<T> result=source;
  if ((removedElements != null && !removedElements.isEmpty()) || (addedElements != null && !addedElements.isEmpty())) {
    ensureFilterHasBeenCreated();
    result=Iterables.filter(filter,result);
  }
  if (addedElements != null && !addedElements.isEmpty()) {
    result=concat(result,addedElements.iterator());
  }
  return result;
}
