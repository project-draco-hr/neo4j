{
  Map<String,String> argMap=parseArgs(args);
  String neoDbPath=argMap.get(ARG_PATH);
  if (neoDbPath == null) {
    System.err.println("ERROR: To start a local neo service and a " + "shell client on top of that you need to supply a path to a " + "neo store or just a new path where a new neo store will "+ "be created if it doesn't exist. -" + ARG_PATH + " /my/path/here");
    return;
  }
  try {
    boolean readOnly=argMap.containsKey(ARG_READONLY) && stringAsBoolean(argMap.get(ARG_READONLY),true);
    tryStartLocalServerAndClient(neoDbPath,readOnly,args);
  }
 catch (  Exception e) {
    if (storeWasLocked(e)) {
      if (wantToConnectReadOnlyInstead()) {
        try {
          tryStartLocalServerAndClient(neoDbPath,true,args);
        }
 catch (        Exception innerException) {
          handleException(innerException);
        }
      }
 else {
        handleException(e);
      }
    }
 else {
      handleException(e);
    }
  }
  System.exit(0);
}
