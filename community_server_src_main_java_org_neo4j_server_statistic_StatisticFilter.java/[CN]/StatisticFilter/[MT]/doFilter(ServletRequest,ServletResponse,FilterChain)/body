{
  final Long start=nanoTime();
  try {
    chain.doFilter(request,response);
  }
  finally {
    collector.update((nanoTime() - start) / 1000000.0,getResponseSize(response));
  }
}
