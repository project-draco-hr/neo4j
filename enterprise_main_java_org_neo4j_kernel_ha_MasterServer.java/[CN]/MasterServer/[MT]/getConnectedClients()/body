{
  Collection<Integer> clients=null;
synchronized (channelsPerClient) {
    clients=new ArrayList<Integer>(channelsPerClient.keySet());
  }
  Map<Integer,Collection<Integer>> txs=((MasterImpl)realMaster).getOngoingTransactions();
  Collection<Pair<Integer,Collection<Integer>>> result=new ArrayList<Pair<Integer,Collection<Integer>>>();
  for (  Integer id : clients) {
    result.add(new Pair<Integer,Collection<Integer>>(id,txs.get(id)));
  }
  return result;
}
