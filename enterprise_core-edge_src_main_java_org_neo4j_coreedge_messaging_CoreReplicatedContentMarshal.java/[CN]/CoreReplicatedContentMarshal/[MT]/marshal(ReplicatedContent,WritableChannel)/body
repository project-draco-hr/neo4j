{
  if (content instanceof ReplicatedTransaction) {
    channel.put(TX_CONTENT_TYPE);
    ReplicatedTransactionSerializer.marshal((ReplicatedTransaction)content,channel);
  }
 else   if (content instanceof MemberIdSet) {
    channel.put(RAFT_MEMBER_SET_TYPE);
    MemberIdSetSerializer.marshal((MemberIdSet)content,channel);
  }
 else   if (content instanceof ReplicatedIdAllocationRequest) {
    channel.put(ID_RANGE_REQUEST_TYPE);
    ReplicatedIdAllocationRequestSerializer.marshal((ReplicatedIdAllocationRequest)content,channel);
  }
 else   if (content instanceof ReplicatedTokenRequest) {
    channel.put(TOKEN_REQUEST_TYPE);
    ReplicatedTokenRequestSerializer.marshal((ReplicatedTokenRequest)content,channel);
  }
 else   if (content instanceof NewLeaderBarrier) {
    channel.put(NEW_LEADER_BARRIER_TYPE);
  }
 else   if (content instanceof ReplicatedLockTokenRequest) {
    channel.put(LOCK_TOKEN_REQUEST);
    ReplicatedLockTokenSerializer.marshal((ReplicatedLockTokenRequest)content,channel);
  }
 else   if (content instanceof DistributedOperation) {
    channel.put(DISTRIBUTED_OPERATION);
    ((DistributedOperation)content).serialize(channel);
  }
 else {
    throw new IllegalArgumentException("Unknown content type " + content.getClass());
  }
}
