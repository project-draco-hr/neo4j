{
  this.logFile=logFile;
  this.logRotation=logRotation;
  this.transactionIdStore=transactionIdStore;
  this.legacyIndexTransactionOrdering=legacyIndexTransactionOrdering;
  this.kernelHealth=kernelHealth;
  this.channel=logFile.getWriter();
  this.transactionMetadataCache=transactionMetadataCache;
  this.indexCommandDetector=new IndexCommandDetector(new CommandWriter(channel));
  this.transactionLogWriter=new TransactionLogWriter(new LogEntryWriterv1(channel,indexCommandDetector));
  forceLock=new ReentrantLock();
}
