{
  ShortestPathCostType shortestPathSum=null;
  for (  Node targetNode : nodeSet) {
    ShortestPathCostType cost=singleSourceShortestPath.getCost(targetNode);
    if (cost == null) {
      cost=zeroValue;
    }
    if (shortestPathSum == null) {
      shortestPathSum=cost;
    }
 else {
      shortestPathSum=centralityAccumulator.addCosts(shortestPathSum,cost);
    }
  }
  if (!shortestPathSum.equals(zeroValue)) {
    setCentralityForNode(node,centralityDivider.divideByCost(1.0,shortestPathSum));
  }
}
