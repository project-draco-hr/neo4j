{
  return new DependencyResolver.Adapter(){
    @Override public <T>T resolveDependency(    Class<T> type,    SelectionStrategy selector) throws IllegalArgumentException {
      if (type.isInstance(fileSystem)) {
        return type.cast(fileSystem);
      }
      if (type.isInstance(config)) {
        return type.cast(config);
      }
      throw new IllegalArgumentException(type.toString());
    }
  }
;
}
