{
  NeoStoreDataSource mockDatasource=mock(NeoStoreDataSource.class);
  when(mockDatasource.getStoreId()).thenReturn(new org.neo4j.kernel.impl.store.StoreId(1,2,3,4,5));
  StoreId copied=new StoreId(5,6,7,8);
  LocalDatabase localDatabase=createLocalDatabase(mockDatasource);
  MemberId memberId=mock(MemberId.class);
  StoreFetcher storeFetcher=mock(StoreFetcher.class);
  when(storeFetcher.storeId(memberId)).thenReturn(copied);
  localDatabase.start();
  localDatabase.stop();
  localDatabase.copyStoreFrom(memberId,storeFetcher);
  when(mockDatasource.getStoreId()).thenReturn(new org.neo4j.kernel.impl.store.StoreId(5,6,3,7,8));
  localDatabase.start();
  assertEquals(copied,localDatabase.storeId());
}
