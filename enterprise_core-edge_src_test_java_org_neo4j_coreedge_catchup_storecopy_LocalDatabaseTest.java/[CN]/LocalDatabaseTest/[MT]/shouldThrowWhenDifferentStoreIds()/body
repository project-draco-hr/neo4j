{
  StoreId storeId=new StoreId(6,7,8,9);
  CoreMember coreMember=mock(CoreMember.class);
  StoreFetcher storeFetcher=mock(StoreFetcher.class);
  when(storeFetcher.storeId(coreMember)).thenReturn(storeId);
  LocalDatabase localDatabase=createLocalDatabase(new org.neo4j.kernel.impl.store.StoreId(1,2,5,3,4));
  try {
    localDatabase.ensureSameStoreId(coreMember,storeFetcher);
    fail("should have thrown ");
  }
 catch (  IllegalStateException ex) {
    assertThat(ex.getMessage(),containsString("This edge machine cannot join the cluster. " + "The local database is not empty and has a mismatching storeId:"));
  }
}
