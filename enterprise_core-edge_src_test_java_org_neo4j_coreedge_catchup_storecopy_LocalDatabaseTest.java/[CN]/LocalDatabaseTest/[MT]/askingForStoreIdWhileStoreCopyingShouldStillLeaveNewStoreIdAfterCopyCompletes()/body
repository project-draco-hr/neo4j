{
  StoreId storeId=new StoreId(6,7,8,9);
  NeoStoreDataSource mockDatasource=mock(NeoStoreDataSource.class);
  when(mockDatasource.getStoreId()).thenReturn(new org.neo4j.kernel.impl.store.StoreId(1,2,5,3,4));
  StoreId copied=new StoreId(5,6,7,8);
  LocalDatabase localDatabase=createLocalDatabase(mockDatasource);
  MemberId memberId=mock(MemberId.class);
  StoreFetcher storeFetcher=mock(StoreFetcher.class);
  when(storeFetcher.storeId(memberId)).thenReturn(copied);
  localDatabase.start();
  localDatabase.stop();
  localDatabase.storeId();
  localDatabase.bringUpToDateOrReplaceStoreFrom(memberId,storeId,storeFetcher);
  when(mockDatasource.getStoreId()).thenReturn(new org.neo4j.kernel.impl.store.StoreId(5,6,12,7,8));
  localDatabase.start();
  assertEquals(copied,localDatabase.storeId());
}
