{
  if (state == IdGeneratorState.PENDING)   throw new IllegalStateException(state.name());
  try {
    return delegate.nextIdBatch(size);
  }
 catch (  UnsupportedOperationException e) {
    try {
      Thread.sleep(1000);
      return delegate.nextIdBatch(size);
    }
 catch (    InterruptedException e1) {
      throw new RuntimeException(e1);
    }
  }
}
