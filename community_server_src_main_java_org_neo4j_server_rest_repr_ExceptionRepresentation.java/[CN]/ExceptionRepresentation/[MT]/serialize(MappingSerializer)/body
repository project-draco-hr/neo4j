{
  String message=exception.getMessage();
  if (message != null) {
    serializer.putString("message",message);
  }
  serializer.putString("exception",exception.toString());
  StackTraceElement[] trace=exception.getStackTrace();
  if (trace != null) {
    Collection<String> lines=new ArrayList<String>(trace.length);
    for (    StackTraceElement element : trace) {
      if (element.toString().matches(".*(jetty|jersey|sun\\.reflect|mortbay|javax\\.servlet).*"))       continue;
      lines.add(element.toString());
    }
    serializer.putList("stacktrace",ListRepresentation.string(lines));
  }
}
