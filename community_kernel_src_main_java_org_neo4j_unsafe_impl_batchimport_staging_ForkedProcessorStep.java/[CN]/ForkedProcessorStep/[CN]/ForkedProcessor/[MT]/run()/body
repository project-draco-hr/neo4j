{
  while (!halted) {
    try {
      park();
      if (!halted && localTicket + 1 == globalTicket) {
        forkedProcess(id,forkedProcessors.size(),currentBatch);
        localTicket++;
      }
    }
 catch (    Throwable t) {
      error=t;
    }
 finally {
      doneSignal.decrementAndGet();
      LockSupport.unpark(ticketThread);
    }
  }
}
