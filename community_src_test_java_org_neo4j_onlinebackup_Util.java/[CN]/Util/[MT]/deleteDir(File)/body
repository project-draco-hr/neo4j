{
  if (directory.isDirectory()) {
    String[] contents=directory.list();
    for (int i=0; i < contents.length; i++) {
      if (!deleteDir(new File(directory,contents[i]))) {
        return false;
      }
    }
  }
  return directory.delete();
}
