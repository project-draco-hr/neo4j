{
  PrimitiveLongStack stack=new PrimitiveLongStack(100);
  stack.push(initialStart);
  stack.push(initialEnd);
  while (!stack.isEmpty()) {
    long end=stack.poll();
    long start=stack.poll();
    long diff=end - start;
    if (diff < 2) {
      incrementProgress(2);
      continue;
    }
    incrementProgress(1);
    long pivot=start + random.nextLong(diff);
    pivot=informedPivot(start,end,pivot);
    pivot=partition(start,end,pivot);
    if (pivot > start) {
      stack.push(start);
      stack.push(pivot);
    }
    if (pivot + 1 < end) {
      stack.push(pivot + 1);
      stack.push(end);
    }
  }
}
