{
  PrimitiveIntStack stack=new PrimitiveIntStack(100);
  stack.push(initialStart);
  stack.push(initialEnd);
  while (!stack.isEmpty()) {
    int end=stack.poll();
    int start=stack.poll();
    int diff=end - start;
    if (diff < 2) {
      incrementProgress(2);
      continue;
    }
    incrementProgress(1);
    int pivot=start + random.nextInt(diff);
    pivot=informedPivot(start,end,pivot);
    pivot=partition(start,end,pivot);
    if (pivot > start) {
      stack.push(start);
      stack.push(pivot);
    }
    if (pivot + 1 < end) {
      stack.push(pivot + 1);
      stack.push(end);
    }
  }
}
