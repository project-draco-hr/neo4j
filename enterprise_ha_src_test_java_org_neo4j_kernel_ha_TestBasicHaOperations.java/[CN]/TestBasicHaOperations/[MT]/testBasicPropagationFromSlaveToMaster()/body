{
  clusterManager=new ClusterManager(clusterOfSize(3),dir.cleanDirectory("propagation"),stringMap(tx_push_factor.name(),"2"));
  clusterManager.start();
  ClusterManager.ManagedCluster cluster=clusterManager.getDefaultCluster();
  cluster.await(ClusterManager.allSeesAllAsAvailable());
  long nodeId=0;
  HighlyAvailableGraphDatabase slave=cluster.getAnySlave();
  try (Transaction tx=slave.beginTx()){
    Node node=slave.createNode();
    node.setProperty("Hello","World");
    nodeId=node.getId();
    tx.success();
  }
   HighlyAvailableGraphDatabase master=cluster.getMaster();
  try (Transaction tx=master.beginTx()){
    String value=master.getNodeById(nodeId).getProperty("Hello").toString();
    logger.getLogger().info("Hello=" + value);
    assertEquals("World",value);
    tx.success();
  }
 }
