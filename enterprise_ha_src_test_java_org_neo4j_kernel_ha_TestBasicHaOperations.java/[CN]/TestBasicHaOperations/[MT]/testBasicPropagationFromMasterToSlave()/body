{
  clusterManager=new ClusterManager(clusterOfSize(3),dir.cleanDirectory("propagation"),stringMap(tx_push_factor.name(),"2"));
  clusterManager.start();
  ClusterManager.ManagedCluster cluster=clusterManager.getDefaultCluster();
  cluster.await(ClusterManager.allSeesAllAsAvailable());
  long nodeId=0;
  HighlyAvailableGraphDatabase master=cluster.getMaster();
  try (Transaction tx=master.beginTx()){
    Node node=master.createNode();
    node.setProperty("Hello","World");
    nodeId=node.getId();
    tx.success();
  }
   HighlyAvailableGraphDatabase slave1=cluster.getAnySlave();
  String value;
  try (Transaction tx=slave1.beginTx()){
    value=slave1.getNodeById(nodeId).getProperty("Hello").toString();
    logger.getLogger().info("Hello=" + value);
    assertEquals("World",value);
    tx.success();
  }
   HighlyAvailableGraphDatabase slave2=cluster.getAnySlave(slave1);
  try (Transaction tx=slave2.beginTx()){
    value=slave2.getNodeById(nodeId).getProperty("Hello").toString();
    logger.getLogger().info("Hello=" + value);
    assertEquals("World",value);
    tx.success();
  }
 }
