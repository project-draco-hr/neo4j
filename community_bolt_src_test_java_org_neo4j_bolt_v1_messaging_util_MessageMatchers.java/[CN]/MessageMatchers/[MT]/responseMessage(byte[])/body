{
  BoltResponseMessageReader unpacker=responseReader(bytes);
  BoltResponseMessageRecorder consumer=new BoltResponseMessageRecorder();
  try {
    if (unpacker.hasNext()) {
      unpacker.read(consumer);
      return consumer.asList().get(0);
    }
    throw new IllegalArgumentException("Expected a message in `" + HexPrinter.hex(bytes) + "`");
  }
 catch (  Throwable e) {
    throw new IOException("Failed to deserialize response, '" + e.getMessage() + "'.\n"+ "Raw data: \n"+ HexPrinter.hex(bytes),e);
  }
}
