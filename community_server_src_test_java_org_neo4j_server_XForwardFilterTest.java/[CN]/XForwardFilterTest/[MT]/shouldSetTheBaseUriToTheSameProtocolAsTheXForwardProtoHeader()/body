{
  final String theProtocol="https";
  XForwardHostFilter filter=new XForwardHostFilter();
  InBoundHeaders headers=new InBoundHeaders();
  headers.add(X_FORWARD_PROTO_HEADER_KEY,theProtocol);
  ContainerRequest request=new ContainerRequest(mock(WebApplication.class),"GET",URI.create("http://jimwebber.org:1234"),URI.create("http://jimwebber.org:1234/foo/bar"),headers,mock(InputStream.class));
  ContainerRequest result=filter.filter(request);
  assertThat(result.getBaseUri().getScheme(),containsString(theProtocol));
}
