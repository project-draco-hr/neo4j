{
  AbstractGraphDatabase db=new ImpermanentGraphDatabase();
  Transaction tx=db.beginTx();
  Node node=db.createNode();
  node.createRelationshipTo(db.createNode(),withName("a"));
  node.createRelationshipTo(db.createNode(),withName("b"));
  node.createRelationshipTo(db.createNode(),withName("c"));
  tx.success();
  tx.finish();
  Database database=new Database(db);
  DatabaseMetadataService service=new DatabaseMetadataService(database);
  Response response=service.getRelationshipTypes();
  assertEquals(200,response.getStatus());
  List<Map<String,Object>> jsonList=JsonHelper.jsonToList(response.getEntity().toString());
  assertEquals(3,jsonList.size());
  database.shutdown();
}
