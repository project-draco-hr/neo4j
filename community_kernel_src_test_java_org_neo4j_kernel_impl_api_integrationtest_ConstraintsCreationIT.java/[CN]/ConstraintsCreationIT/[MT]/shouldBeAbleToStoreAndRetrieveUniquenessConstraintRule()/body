{
  UniquenessConstraint constraint;
{
    SchemaWriteOperations statement=schemaWriteOperationsInNewTransaction();
    constraint=statement.uniquenessConstraintCreate(labelId,propertyKeyId);
    assertEquals(constraint,single(statement.constraintsGetForLabelAndPropertyKey(labelId,propertyKeyId)));
    assertEquals(constraint,single(statement.constraintsGetForLabel(labelId)));
    commit();
  }
{
    SchemaWriteOperations statement=schemaWriteOperationsInNewTransaction();
    Iterator<UniquenessConstraint> constraints=statement.constraintsGetForLabelAndPropertyKey(labelId,propertyKeyId);
    assertEquals(constraint,single(constraints));
  }
}
