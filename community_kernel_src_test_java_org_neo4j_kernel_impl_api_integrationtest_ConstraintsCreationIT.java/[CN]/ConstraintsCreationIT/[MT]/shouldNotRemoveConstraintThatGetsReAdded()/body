{
  UniquenessConstraint constraint;
{
    SchemaStatement statement=schemaStatementInNewTransaction();
    constraint=statement.uniquenessConstraintCreate(labelId,propertyKeyId);
    commit();
  }
  SchemaStateCheck schemaState=new SchemaStateCheck().setUp();
{
    SchemaStatement statement=schemaStatementInNewTransaction();
    statement.constraintDrop(constraint);
    statement.uniquenessConstraintCreate(labelId,propertyKeyId);
    commit();
  }
{
    SchemaStatement statement=schemaStatementInNewTransaction();
    assertEquals(singletonList(constraint),asCollection(statement.constraintsGetForLabelAndPropertyKey(labelId,propertyKeyId)));
    schemaState.assertNotCleared();
  }
}
