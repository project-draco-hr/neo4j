{
{
    SchemaWriteOperations statement=schemaWriteOperationsInNewTransaction();
    try {
      statement.constraintDrop(new UniquenessConstraint(labelId,propertyKeyId));
      fail("Should not have dropped constraint");
    }
 catch (    DropConstraintFailureException e) {
      assertThat(e.getCause(),instanceOf(NoSuchConstraintException.class));
    }
    commit();
  }
{
    SchemaWriteOperations statement=schemaWriteOperationsInNewTransaction();
    assertEquals(emptySetOf(IndexDescriptor.class),asSet(statement.uniqueIndexesGetAll()));
    commit();
  }
}
