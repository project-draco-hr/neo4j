{
  try {
    Naming.list(toShortUrl());
    return LocateRegistry.getRegistry(getHost(),getPort());
  }
 catch (  RemoteException e) {
    try {
      return LocateRegistry.createRegistry(getPort(),null,new HostBoundSocketFactory(host));
    }
 catch (    UnknownHostException hostException) {
      throw new RemoteException("Unable to bind to '" + host + "', unknown hostname.",hostException);
    }
  }
catch (  java.net.MalformedURLException e) {
    throw new RemoteException("Malformed URL",e);
  }
}
