{
  long currentLogVersion=logVersionRepository.getCurrentLogVersion();
  LatestCheckPointFinder.LatestCheckPoint latestCheckPoint=checkPointFinder.find(currentLogVersion);
  if (latestCheckPoint.checkPoint != null) {
    return latestCheckPoint.checkPoint.getLogPosition();
  }
 else   if (latestCheckPoint.commitsAfterCheckPoint) {
    if (latestCheckPoint.oldestLogVersionFound != INITIAL_LOG_VERSION) {
      throw new UnderlyingStorageException("No check point found in any log file from version " + Math.max(INITIAL_LOG_VERSION,latestCheckPoint.oldestLogVersionFound) + " to "+ currentLogVersion);
    }
    return LogPosition.start(0);
  }
  return LogPosition.UNSPECIFIED;
}
