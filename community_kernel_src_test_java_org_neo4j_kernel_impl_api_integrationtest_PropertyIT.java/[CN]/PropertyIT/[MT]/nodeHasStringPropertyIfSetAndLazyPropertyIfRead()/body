{
  long propertyKeyId;
  long nodeId;
  String value="Bozo the Clown is a clown character very popular in the United States, peaking in the 1960s";
{
    DataStatement statement=dataStatementInNewTransaction();
    Node node=db.createNode();
    propertyKeyId=statement.propertyKeyGetOrCreateForName("clown");
    nodeId=node.getId();
    statement.nodeSetProperty(nodeId,Property.stringProperty(propertyKeyId,value));
    assertTrue(statement.nodeGetProperty(nodeId,propertyKeyId).getClass().getSimpleName().equals("StringProperty"));
    commit();
  }
{
    DataStatement statement=dataStatementInNewTransaction();
    assertTrue(statement.nodeGetProperty(nodeId,propertyKeyId).getClass().getSimpleName().equals("LazyStringProperty"));
    assertEquals(value,statement.nodeGetProperty(nodeId,propertyKeyId).value());
    assertEquals(value.hashCode(),statement.nodeGetProperty(nodeId,propertyKeyId).hashCode());
    assertTrue(statement.nodeGetProperty(nodeId,propertyKeyId).valueEquals(value));
  }
}
