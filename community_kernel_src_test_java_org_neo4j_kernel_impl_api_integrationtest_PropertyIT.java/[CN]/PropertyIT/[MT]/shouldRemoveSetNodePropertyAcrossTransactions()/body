{
  newTransaction();
  Node node=db.createNode();
  long propertyKeyId=statement.propertyKeyGetOrCreateForName("clown");
  long nodeId=node.getId();
  statement.nodeSetProperty(nodeId,Property.stringProperty(propertyKeyId,"bozo"));
  commit();
  newTransaction();
  Object previous=statement.nodeRemoveProperty(nodeId,propertyKeyId).value();
  assertEquals("bozo",previous);
  assertFalse("node should not have property",statement.nodeHasProperty(nodeId,propertyKeyId));
  commit();
  newTransaction();
  assertFalse(statement.nodeHasProperty(nodeId,propertyKeyId));
}
