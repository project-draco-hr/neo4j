{
  while (!closed) {
    if (hasReadAhead || eof) {
      parkAWhile();
    }
 else {
      try {
        theOtherBuffer=actual.read(theOtherBuffer,theOtherBuffer.front());
        String sourceDescriptionAfterRead=actual.sourceDescription();
        if (!sourceDescription.equals(sourceDescriptionAfterRead)) {
          newSourceDescription=sourceDescriptionAfterRead;
        }
        if (!theOtherBuffer.hasAvailable()) {
          eof=true;
        }
        hasReadAhead=true;
        LockSupport.unpark(owner);
      }
 catch (      IOException e) {
        ioException=e;
        closed=true;
      }
catch (      Throwable e) {
        ioException=new IOException(e);
        closed=true;
      }
    }
  }
}
