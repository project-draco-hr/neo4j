{
  DefaultCheckPointerTracer tracer=new DefaultCheckPointerTracer(clock);
  clock.forward(10,TimeUnit.MILLISECONDS);
  try (LogCheckPointEvent event=tracer.beginCheckPoint()){
    clock.forward(20,TimeUnit.MILLISECONDS);
  }
   assertEquals(1,tracer.numberOfCheckPointEvents());
  assertEquals(20,tracer.checkPointAccumulatedTotalTimeMillis());
  clock.forward(200,TimeUnit.MILLISECONDS);
  try (LogCheckPointEvent event=tracer.beginCheckPoint()){
    clock.forward(30,TimeUnit.MILLISECONDS);
  }
   assertEquals(2,tracer.numberOfCheckPointEvents());
  assertEquals(50,tracer.checkPointAccumulatedTotalTimeMillis());
}
