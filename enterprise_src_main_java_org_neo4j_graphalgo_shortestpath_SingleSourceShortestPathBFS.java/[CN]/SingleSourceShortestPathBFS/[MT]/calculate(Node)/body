{
  while (depth <= maxDepth && (targetNode == null || !distances.containsKey(targetNode))) {
    if (!processNextNode()) {
      return false;
    }
  }
  return true;
}
