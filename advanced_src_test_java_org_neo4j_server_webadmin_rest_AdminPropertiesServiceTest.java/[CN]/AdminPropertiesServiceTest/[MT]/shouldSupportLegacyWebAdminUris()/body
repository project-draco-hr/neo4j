{
  PropertiesConfiguration config=new PropertiesConfiguration();
  String managementUri="http://neo-is-awesome.se/manage";
  config.setProperty("org.neo4j.server.webadmin.management.uri",managementUri);
  String dataUri="http://jimsucks.com/data";
  config.setProperty("org.neo4j.server.webadmin.data.uri",dataUri);
  UriInfo mockUri=mock(UriInfo.class);
  URI baseUri=new URI("http://peteriscool.com:6666/foo/bar?awesome=true");
  when(mockUri.getBaseUri()).thenReturn(baseUri);
  AdminPropertiesService adminPropertiesService=new AdminPropertiesService(mockUri,config,new OutputFormat(new JsonFormat(),baseUri,null));
  Response response=adminPropertiesService.getValue("neo4j-servers");
  String entity=new String((byte[])response.getEntity(),"UTF-8");
  assertIsValidJson(entity);
  assertThat(entity,containsString(managementUri));
  assertThat(entity,containsString(dataUri));
}
