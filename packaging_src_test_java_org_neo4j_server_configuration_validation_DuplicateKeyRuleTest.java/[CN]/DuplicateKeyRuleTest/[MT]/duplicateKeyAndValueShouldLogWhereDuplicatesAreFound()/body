{
  InMemoryAppender appender=new InMemoryAppender(DuplicateKeyRule.log);
  DuplicateKeyRule rule=new DuplicateKeyRule();
  BaseConfiguration configA=new BaseConfiguration();
  configA.addProperty("jim","webber");
  BaseConfiguration configB=new BaseConfiguration();
  configB.addProperty("jim","webber");
  CompositeConfiguration cc=new CompositeConfiguration();
  cc.addConfiguration(configA);
  rule.validate(cc,configB);
  assertThat(appender.toString(),not(EMPTY_STRING));
  assertThat(appender.toString(),containsString("Duplicate key [jim] found in configuration files"));
}
