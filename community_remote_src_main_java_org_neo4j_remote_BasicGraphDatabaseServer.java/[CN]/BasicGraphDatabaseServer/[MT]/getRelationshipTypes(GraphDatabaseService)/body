{
  final Iterator<RelationshipType> types;
  if (graphDb instanceof EmbeddedGraphDatabase) {
    types=((EmbeddedGraphDatabase)graphDb).getRelationshipTypes().iterator();
  }
 else {
    throw new UnsupportedOperationException("Cannot get the relationship types from this graph database server.");
  }
  return new SimpleIterator<String>(){
    @Override boolean hasNext(){
      return types.hasNext();
    }
    @Override String getNext(){
      return types.next().name();
    }
  }
;
}
