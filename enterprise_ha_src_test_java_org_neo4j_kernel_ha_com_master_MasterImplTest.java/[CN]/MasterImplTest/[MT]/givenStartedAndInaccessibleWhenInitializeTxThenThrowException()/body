{
  MasterImpl.SPI spi=mock(MasterImpl.SPI.class);
  Logging logging=new DevNullLoggingService();
  Map<String,String> params=new HashMap<String,String>();
  params.put(HaSettings.lock_read_timeout.name(),"20s");
  Config config=new Config(params,HaSettings.class);
  when(spi.isAccessible()).thenReturn(false);
  MasterImpl instance=new MasterImpl(spi,mock(MasterImpl.Monitor.class),logging,config);
  instance.start();
  try {
    instance.initializeTx(new RequestContext(0,1,2,new RequestContext.Tx[0],1,0));
    fail();
  }
 catch (  TransactionFailureException e) {
  }
}
