{
  MasterImpl.SPI spi=mock(MasterImpl.SPI.class);
  Config config=config(20);
  when(spi.isAccessible()).thenReturn(false);
  MasterImpl instance=new MasterImpl(spi,mock(ConversationManager.class),mock(MasterImpl.Monitor.class),config);
  instance.start();
  try {
    instance.newLockSession(new RequestContext(0,1,2,0,0));
    fail();
  }
 catch (  org.neo4j.kernel.api.exceptions.TransactionFailureException e) {
  }
}
