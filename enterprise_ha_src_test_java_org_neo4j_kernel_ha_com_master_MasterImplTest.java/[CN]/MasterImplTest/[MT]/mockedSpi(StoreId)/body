{
  Locks.Client locks=mock(Locks.Client.class);
  MasterImpl.SPI mock=mock(MasterImpl.SPI.class);
  when(mock.storeId()).thenReturn(storeId);
  when(mock.packEmptyResponse(any())).thenAnswer(new Answer(){
    @Override public Object answer(    InvocationOnMock invocation) throws Throwable {
      return new TransactionObligationResponse<>(invocation.getArguments()[0],storeId,TransactionIdStore.BASE_TX_ID,ResourceReleaser.NO_OP);
    }
  }
);
  when(mock.acquireClient()).thenReturn(locks);
  when(locks.description(anyString())).thenReturn(locks);
  return mock;
}
