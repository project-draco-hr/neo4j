{
  CoreReplicatedContentMarshal serializer=new CoreReplicatedContentMarshal();
  CoreMemberSet in=new CoreMemberSet(asSet(new CoreMember(new AdvertisedSocketAddress("host1:1001"),new AdvertisedSocketAddress("host1:1002"),new AdvertisedSocketAddress("host1:1003")),new CoreMember(new AdvertisedSocketAddress("host2:1002"),new AdvertisedSocketAddress("host2:1002"),new AdvertisedSocketAddress("host2:1003"))));
  ByteBuf buf=Unpooled.buffer();
  serializer.marshal(in,buf);
  ReplicatedContent out=serializer.unmarshal(buf);
  assertEquals(in,out);
}
