{
  try {
    ServiceReference[] services=bc.getServiceReferences(type.getName(),null);
    if (services != null) {
      Vector<T> serviceCollection=new Vector<T>();
      for (      ServiceReference sr : services) {
        serviceCollection.add((T)bc.getService(sr));
      }
      return serviceCollection;
    }
 else {
      return null;
    }
  }
 catch (  InvalidSyntaxException e) {
    System.out.println("Failed to load extensions of type: " + type);
    e.printStackTrace();
  }
  return null;
}
