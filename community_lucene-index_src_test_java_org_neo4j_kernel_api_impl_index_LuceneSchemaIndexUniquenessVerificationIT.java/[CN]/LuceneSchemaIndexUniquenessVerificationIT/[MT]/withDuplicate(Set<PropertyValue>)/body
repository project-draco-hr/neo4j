{
  List<PropertyValue> data=new ArrayList<>(set);
  if (data.isEmpty()) {
    throw new IllegalStateException();
  }
 else   if (data.size() == 1) {
    data.add(data.get(0));
  }
 else {
    int duplicateIndex=(int)randomLongInRange(0,data.size());
    int duplicateValueIndex;
    do {
      duplicateValueIndex=ThreadLocalRandom.current().nextInt(data.size());
    }
 while (duplicateValueIndex == duplicateIndex);
    PropertyValue duplicateValue=data.get(duplicateValueIndex);
    data.set(duplicateIndex,duplicateValue);
  }
  return data;
}
