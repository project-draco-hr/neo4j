{
  makeSureExportIsRunning();
  try {
    while (isExporting) {
      Thread.sleep(13);
    }
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
  String exportLink="/" + GraphMLExporter.EXPORT_FOLDER_PATH + "/"+ GraphMLExporter.EXPORT_FILE_PATH;
  String entity;
  try {
    entity=JsonRenderers.DEFAULT.render(new ExportRepresentation(new URI(exportLink)));
  }
 catch (  URISyntaxException e) {
    return buildExceptionResponse(Status.INTERNAL_SERVER_ERROR,"Internal error determining export URL.",e,JsonRenderers.DEFAULT);
  }
  return addHeaders(Response.ok(entity,JsonRenderers.DEFAULT.getMediaType())).build();
}
