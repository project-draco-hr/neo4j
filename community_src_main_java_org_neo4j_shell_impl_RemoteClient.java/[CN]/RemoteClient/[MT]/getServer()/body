{
  boolean shouldTryToReconnect=this.server == null;
  try {
    if (!shouldTryToReconnect) {
      this.server.welcome();
    }
  }
 catch (  RemoteException e) {
    shouldTryToReconnect=true;
  }
  Exception originException=null;
  if (shouldTryToReconnect) {
    this.server=null;
    try {
      this.server=findRemoteServer();
      getOutput().println("[Reconnected to server]");
      regrabVariablesFromServer();
    }
 catch (    ShellException ee) {
      originException=ee;
    }
catch (    RemoteException ee) {
      originException=ee;
    }
  }
  if (this.server == null) {
    throw new RuntimeException("Server closed or cannot be reached anymore: " + originException.getMessage(),originException);
  }
  return this.server;
}
