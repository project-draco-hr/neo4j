{
  long nextProp=nodeRecord.getNextProp();
  assertTrue(nextProp != Record.NO_NEXT_PROPERTY.intValue());
  boolean found=false;
  while (nextProp != Record.NO_NEXT_PROPERTY.intValue() && !found) {
    PropertyRecord propertyRecord=propertyStore.getRecord(nextProp);
    PropertyBlock propertyBlock=propertyRecord.removePropertyBlock(propertyKeyId);
    if (propertyBlock != null) {
      found=true;
      propertyStore.updateRecord(propertyRecord);
      if (propertyRecord.getPropertyBlocks().isEmpty()) {
        remover.fixUpPropertyLinksAroundUnusedRecord(nodeRecord,propertyRecord);
      }
    }
    nextProp=propertyRecord.getNextProp();
  }
  assertTrue(found);
}
