{
  long nextProp=nodeRecord.getNextProp();
  assertTrue(nextProp != Record.NO_NEXT_PROPERTY.intValue());
  boolean found=false;
  PropertyRecord propertyRecord=propertyStore.newRecord();
  while (nextProp != Record.NO_NEXT_PROPERTY.intValue() && !found) {
    propertyStore.getRecord(nextProp,propertyRecord,NORMAL);
    PropertyBlock propertyBlock=propertyRecord.removePropertyBlock(propertyKeyId);
    if (propertyBlock != null) {
      found=true;
      propertyStore.updateRecord(propertyRecord);
      if (!propertyRecord.iterator().hasNext()) {
        remover.fixUpPropertyLinksAroundUnusedRecord(nodeRecord,propertyRecord);
      }
    }
    nextProp=propertyRecord.getNextProp();
  }
  assertTrue(found);
}
