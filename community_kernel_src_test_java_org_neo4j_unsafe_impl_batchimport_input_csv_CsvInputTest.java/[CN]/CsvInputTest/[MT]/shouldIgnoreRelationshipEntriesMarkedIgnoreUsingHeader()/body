{
  Iterable<DataFactory<InputRelationship>> data=DataFactories.relationshipData(CsvInputTest.<InputRelationship>data(":START_ID,:TYPE,:END_ID,prop:IGNORE,other:int\n" + "1,KNOWS,2,Mattias,10\n" + "2,KNOWS,3,Johan,111\n"+ "3,KNOWS,4,Emil,12"));
  Input input=new CsvInput(null,null,data,defaultFormatRelationshipFileHeader(),IdType.INTEGER,COMMAS,badCollector(0));
  try (InputIterator<InputRelationship> relationships=input.relationships().iterator()){
    assertRelationship(relationships.next(),1L,2L,"KNOWS",new Object[]{"other",10});
    assertRelationship(relationships.next(),2L,3L,"KNOWS",new Object[]{"other",111});
    assertRelationship(relationships.next(),3L,4L,"KNOWS",new Object[]{"other",12});
    assertFalse(relationships.hasNext());
  }
 }
