{
  if (obj == this) {
    return true;
  }
  if (!(obj instanceof TraversalBranch)) {
    return false;
  }
  TraversalBranch branch=this;
  TraversalBranch other=(TraversalBranch)obj;
  if (branch.length() != other.length()) {
    return false;
  }
  while (branch.length() > 0) {
    if (!branch.lastRelationship().equals(other.lastRelationship())) {
      return false;
    }
    branch=branch.parent();
    other=other.parent();
  }
  return true;
}
