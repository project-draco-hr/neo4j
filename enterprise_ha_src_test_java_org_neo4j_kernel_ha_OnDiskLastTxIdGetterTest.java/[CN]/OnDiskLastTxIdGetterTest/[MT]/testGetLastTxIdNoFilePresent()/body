{
  InternalAbstractGraphDatabase graphdb=mock(InternalAbstractGraphDatabase.class);
  DependencyResolver resolver=mock(DependencyResolver.class);
  NeoStoreSupplier supplier=mock(NeoStoreSupplier.class);
  NeoStore neoStore=mock(NeoStore.class);
  when(graphdb.getDependencyResolver()).thenReturn(resolver);
  when(resolver.resolveDependency(NeoStoreSupplier.class)).thenReturn(supplier);
  when(supplier.get()).thenReturn(neoStore);
  when(neoStore.getLastCommittedTransactionId()).thenReturn(13L);
  OnDiskLastTxIdGetter getter=new OnDiskLastTxIdGetter(graphdb);
  assertEquals(13L,getter.getLastTxId());
}
