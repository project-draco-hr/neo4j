{
  when(table.load(swapper,12,PageLock.SHARED)).thenReturn(page);
  when(page.pin(swapper,12,PageLock.SHARED)).thenReturn(true);
  StandardPagedFile file=new StandardPagedFile(table,null,channel,512,PageCacheMonitor.NULL);
  int pf_flags=PF_EXCLUSIVE_LOCK | PF_SHARED_LOCK;
  try (PageCursor cursor=file.io(12,pf_flags)){
    assertTrue(cursor.next());
    assertThat(cursor.getCurrentPageId(),is(12L));
  }
 }
