{
  StandardPageCursor cursor=new StandardPageCursor();
  PageTable table=mock(PageTable.class);
  PinnablePage page=mock(PinnablePage.class);
  StoreChannel channel=mock(StoreChannel.class);
  StandardPageIO io=new StandardPageIO(channel);
  when(table.load(io,12,PageLock.SHARED)).thenReturn(page);
  when(page.pin(io,12,PageLock.SHARED)).thenReturn(true);
  StandardPagedFile file=new StandardPagedFile(table,channel);
  file.pin(cursor,PageLock.SHARED,12);
  file.unpin(cursor);
  verify(page).unpin(PageLock.SHARED);
}
