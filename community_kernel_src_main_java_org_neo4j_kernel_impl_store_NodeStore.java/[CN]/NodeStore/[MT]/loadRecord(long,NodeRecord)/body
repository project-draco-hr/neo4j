{
  long pageId=pageIdForRecord(id);
  int offset=offsetForId(id);
  try (PageCursor cursor=storeFile.io(pageId,PF_SHARED_LOCK)){
    boolean isInUse=false;
    if (cursor.next()) {
      do {
        cursor.setOffset(offset);
        byte inUseByte=cursor.getByte();
        isInUse=isInUse(inUseByte);
        if (isInUse) {
          if (record == null) {
            record=new NodeRecord(id);
          }
          record.setId(id);
          readIntoRecord(cursor,record,inUseByte,true);
        }
      }
 while (cursor.shouldRetry());
    }
    if (isInUse) {
      return record;
    }
    if (record != null) {
      record.setInUse(false);
    }
    return null;
  }
 catch (  IOException e) {
    throw new UnderlyingStorageException(e);
  }
}
