{
  super("Relationships" + topic,config,ORDER_SEND_DOWNSTREAM);
  add(new InputIteratorBatcherStep<>(control(),config,relationships,InputRelationship.class));
  RelationshipStore relationshipStore=neoStore.getRelationshipStore();
  PropertyStore propertyStore=neoStore.getPropertyStore();
  add(idAssigner=new AssignRelationshipIdBatchStep(control(),config,firstRelationshipId));
  add(new RelationshipPreparationStep(control(),config,idMapper));
  add(new RelationshipRecordPreparationStep(control(),config,neoStore.getRelationshipTypeRepository()));
  add(new PropertyEncoderStep<>(control(),config,neoStore.getPropertyKeyRepository(),propertyStore));
  add(new RelationshipEncoderStep(control(),config,cache));
  add(new EntityStoreUpdaterStep<>(control(),config,relationshipStore,propertyStore,writeMonitor,storeUpdateMonitor));
}
