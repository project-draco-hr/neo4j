{
  RelationshipRecordFormat format=new RelationshipRecordFormat(new CommunityRecordIO<RelationshipRecord>());
  int recordSize=format.getRecordSize(new IntStoreHeader(DATA_SIZE));
  StubPageCursor cursor=new StubPageCursor(0,(int)ByteUnit.kibiBytes(4));
  long recordId=0xF1F1F1F1F1F1L;
  int recordOffset=cursor.getOffset();
  RelationshipRecord record=createRecord(format,recordId);
  format.write(record,cursor,recordSize,null);
  RelationshipRecord recordFromStore=format.newRecord();
  recordFromStore.setId(recordId);
  resetCursor(cursor,recordOffset);
  format.read(recordFromStore,cursor,RecordLoad.NORMAL,recordSize,null);
  assertEquals(record.getFirstNextRel(),recordFromStore.getFirstNextRel());
  assertEquals(record.getFirstNode(),recordFromStore.getFirstNode());
  assertEquals(record.getFirstPrevRel(),recordFromStore.getFirstPrevRel());
  assertEquals(record.getSecondNextRel(),recordFromStore.getSecondNextRel());
  assertEquals(record.getSecondNode(),recordFromStore.getSecondNode());
  assertEquals(record.getSecondPrevRel(),recordFromStore.getSecondPrevRel());
  resetCursor(cursor,recordOffset);
  RelationshipRecord recordWithOtherId=format.newRecord();
  recordWithOtherId.setId(1L);
  format.read(recordWithOtherId,cursor,RecordLoad.NORMAL,recordSize,null);
  assertNotEquals(record.getFirstNextRel(),recordWithOtherId.getFirstNextRel());
  assertNotEquals(record.getFirstPrevRel(),recordWithOtherId.getFirstPrevRel());
  assertNotEquals(record.getSecondNextRel(),recordWithOtherId.getSecondNextRel());
  assertNotEquals(record.getSecondPrevRel(),recordWithOtherId.getSecondPrevRel());
}
