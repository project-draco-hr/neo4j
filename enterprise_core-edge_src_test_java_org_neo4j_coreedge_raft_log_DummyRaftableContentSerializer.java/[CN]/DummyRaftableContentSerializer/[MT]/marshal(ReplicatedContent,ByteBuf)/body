{
  if (content instanceof ReplicatedInteger) {
    buffer.writeByte((byte)REPLICATED_INTEGER_TYPE);
    buffer.writeInt(((ReplicatedInteger)content).get());
  }
 else   if (content instanceof ReplicatedString) {
    String value=((ReplicatedString)content).get();
    byte[] stringBytes=value.getBytes();
    buffer.writeByte((byte)REPLICATED_STRING_TYPE);
    buffer.writeInt(stringBytes.length);
    buffer.writeBytes(stringBytes);
  }
 else {
    throw new IllegalArgumentException("Unknown content type: " + content);
  }
}
