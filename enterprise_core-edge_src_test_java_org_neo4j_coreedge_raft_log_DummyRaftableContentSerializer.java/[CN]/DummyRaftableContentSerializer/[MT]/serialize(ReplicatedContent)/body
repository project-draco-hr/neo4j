{
  if (content instanceof ReplicatedInteger) {
    ByteBuffer buffer=ByteBuffer.allocate(1 + 4);
    buffer.put((byte)0);
    buffer.putInt(((ReplicatedInteger)content).get());
    buffer.flip();
    return buffer;
  }
 else   if (content instanceof ReplicatedString) {
    String value=((ReplicatedString)content).get();
    byte[] stringBytes=value.getBytes();
    ByteBuffer buffer=ByteBuffer.allocate(1 + stringBytes.length);
    buffer.put((byte)1);
    buffer.put(stringBytes);
    buffer.flip();
    return buffer;
  }
  throw new IllegalArgumentException("Unknown content type: " + content);
}
