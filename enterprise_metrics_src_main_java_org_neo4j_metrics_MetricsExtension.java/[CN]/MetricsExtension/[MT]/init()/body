{
  Log logger=logService.getUserLog(getClass());
  logger.info("Initiating metrics...");
  final MetricRegistry registry=new MetricRegistry();
  boolean outputBuilt=new OutputBuilder(configuration,registry,logger,kernelContext,life).build();
  if (outputBuilt) {
    Neo4jMetricsFactory factory=new Neo4jMetricsFactory(registry,configuration,monitors,dataSourceManager,transactionCounters,pageCacheCounters,checkPointerMonitor,logRotationMonitor,idGeneratorFactory,dependencyResolver,logService);
    life.add(factory.newInstance());
  }
  life.init();
}
