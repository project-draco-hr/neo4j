{
  Map<String,PropertyGetter> serialization=serializations.get(type);
  if (serialization == null) {
synchronized (type) {
      serialization=serializations.get(type);
      if (serialization == null) {
        serialization=new HashMap<String,PropertyGetter>();
        for (        Method method : type.getMethods()) {
          Mapping property=method.getAnnotation(Mapping.class);
          if (property != null) {
            serialization.put(property.value(),getter(method));
          }
        }
        serializations.put(type,serialization);
      }
    }
  }
  return serialization;
}
