{
switch (mode) {
case SESSION:
    return new SessionWaitStrategy(getSessionTimeout());
case STARTUP:
  return new StartupWaitStrategy(msgLog);
}
throw new IllegalArgumentException("Cannot create strategy from " + mode);
}
