{
  int timeOut=conf.lock_read_timeout(conf.read_timeout(Client.DEFAULT_READ_RESPONSE_TIMEOUT_SECONDS));
  return new MasterServer(new MasterImpl(graphDb,timeOut),Machine.splitIpAndPort(haServer).other(),graphDb.getMessageLog(),conf.max_concurrent_channels_per_slave(Client.DEFAULT_MAX_NUMBER_OF_CONCURRENT_CHANNELS_PER_CLIENT),clientLockReadTimeout,new BranchDetectingTxVerifier(graphDb));
}
