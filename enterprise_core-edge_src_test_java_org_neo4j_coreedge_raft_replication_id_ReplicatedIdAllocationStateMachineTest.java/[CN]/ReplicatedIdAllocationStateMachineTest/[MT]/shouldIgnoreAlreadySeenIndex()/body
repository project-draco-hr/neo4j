{
  final long AN_INDEX=24;
  IdAllocationState idAllocationState=new InMemoryIdAllocationState();
  ReplicatedIdAllocationStateMachine stateMachine=new ReplicatedIdAllocationStateMachine(me,idAllocationState,NullLogProvider.getInstance());
  ReplicatedIdAllocationRequest mockRequest=mock(ReplicatedIdAllocationRequest.class);
  when(mockRequest.owner()).thenReturn(someoneElse);
  when(mockRequest.idType()).thenReturn(someType);
  stateMachine.onReplicated(mockRequest,AN_INDEX);
  ReplicatedIdAllocationRequest replicatedMockRequest=mock(ReplicatedIdAllocationRequest.class);
  when(replicatedMockRequest.owner()).thenReturn(someoneElse);
  stateMachine.onReplicated(replicatedMockRequest,AN_INDEX - 3);
  ReplicatedIdAllocationRequest anotherReplicatedMockRequest=mock(ReplicatedIdAllocationRequest.class);
  when(anotherReplicatedMockRequest.owner()).thenReturn(someoneElse);
  stateMachine.onReplicated(anotherReplicatedMockRequest,AN_INDEX);
  verifyZeroInteractions(replicatedMockRequest);
  verifyZeroInteractions(anotherReplicatedMockRequest);
}
