{
  long propertyKey=4;
  int labelId=1;
  IndexRule indexRule=IndexRule.indexRule(store.nextId(),labelId,propertyKey,PROVIDER_DESCRIPTOR);
  byte[] serialized=new RecordSerializer().append(indexRule).serialize();
  IndexRule readIndexRule=(IndexRule)SchemaRule.Kind.deserialize(indexRule.getId(),wrap(serialized));
  assertEquals(indexRule.getId(),readIndexRule.getId());
  assertEquals(indexRule.getKind(),readIndexRule.getKind());
  assertEquals(indexRule.getLabel(),readIndexRule.getLabel());
  assertEquals(indexRule.getPropertyKey(),readIndexRule.getPropertyKey());
  assertEquals(indexRule.getProviderDescriptor(),readIndexRule.getProviderDescriptor());
}
