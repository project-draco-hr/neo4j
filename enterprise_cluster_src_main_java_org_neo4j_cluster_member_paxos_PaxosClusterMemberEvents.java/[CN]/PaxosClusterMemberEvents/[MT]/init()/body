{
  serializer=new AtomicBroadcastSerializer(lenientObjectInputStream,lenientObjectOutputStream);
  cluster.addClusterListener(clusterListener);
  atomicBroadcast.addAtomicBroadcastListener(atomicBroadcastListener);
  snapshot.setSnapshotProvider(new HighAvailabilitySnapshotProvider());
  heartbeat.addHeartbeatListener(heartbeatListener=new HeartbeatListenerImpl());
  executor=Executors.newSingleThreadExecutor(new NamedThreadFactory("Paxos event notification",monitors.newMonitor(NamedThreadFactory.Monitor.class)));
}
