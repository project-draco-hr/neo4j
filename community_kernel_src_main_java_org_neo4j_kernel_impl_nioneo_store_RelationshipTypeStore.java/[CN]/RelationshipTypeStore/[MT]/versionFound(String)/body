{
  if (!version.startsWith("RelationshipTypeStore")) {
    return false;
  }
  String nineFiveVersionString="RelationshipTypeStore v0.9.5";
  if (version.equals(nineFiveVersionString)) {
    try {
      long fileSize=getFileChannel().size();
      long recordCount=(fileSize - UTF8.encode(nineFiveVersionString).length) / getRecordSize();
      if (recordCount > 0xFFFF) {
        throw new NotCurrentStoreVersionException(VERSION,VERSION,"Store version[" + version + "] has "+ recordCount+ " different relationship types "+ "(limit is "+ 0xFFFF+ ") and can not be upgraded to a newer version.",false);
      }
    }
 catch (    IOException e) {
      throw new NotCurrentStoreVersionException(VERSION,VERSION,"Unable to verify relationship type count, can not upgrade " + "store from version[" + version + "]",false);
    }
    return true;
  }
  throw new NotCurrentStoreVersionException(VERSION,VERSION,"Store version [" + version + "]. Please make sure you are not running old Neo4j kernel "+ " towards a store that has been created by newer version "+ " of Neo4j.",false);
}
