{
  final byte markerByte=in.ensure(1).get();
  if (markerByte >= MINUS_2_TO_THE_4) {
    return markerByte;
  }
switch (markerByte) {
case INT_8:
    return in.ensure(1).get();
case INT_16:
  return in.ensure(2).getShort();
case INT_32:
return in.ensure(4).getInt();
case INT_64:
return in.ensure(8).getLong();
default :
throw new Unexpected("Expected an integer, but got: " + toHexString(markerByte));
}
}
