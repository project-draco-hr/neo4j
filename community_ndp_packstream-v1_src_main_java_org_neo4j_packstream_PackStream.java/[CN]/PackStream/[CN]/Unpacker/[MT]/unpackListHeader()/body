{
  final byte markerByte=in.ensure(1).get();
  final byte markerHighNibble=(byte)(markerByte & 0xF0);
  final byte markerLowNibble=(byte)(markerByte & 0x0F);
  if (markerHighNibble == TINY_LIST) {
    return markerLowNibble;
  }
switch (markerByte) {
case LIST_8:
    return unpackUINT8();
case LIST_16:
  return unpackUINT16();
case LIST_32:
return unpackUINT32();
default :
throw new Unexpected("Expected a list, but got: " + toHexString(markerByte));
}
}
