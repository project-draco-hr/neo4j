{
  Transaction tx=this.getCurrentTransaction();
  ResourceConnection con=txConnectionMap.get(tx);
  if (con != null) {
    try {
      tx.delistResource(con.getXAResource(),XAResource.TMSUCCESS);
    }
 catch (    SystemException e) {
      throw new TransactionFailureException("Failed to delist resource '" + con + "' from current transaction.",e);
    }
  }
}
