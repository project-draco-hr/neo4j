{
  Transaction tx=this.getCurrentTransaction();
  ResourceConnection con=txConnectionMap.get(tx);
  if (con != null) {
    try {
      tx.delistResource(con.getXAResource(),XAResource.TMSUCCESS);
    }
 catch (    Exception e) {
      e.printStackTrace();
      log.severe("Failed to delist resource '" + con + "' from current transaction.");
      throw new RuntimeException(e);
    }
  }
}
