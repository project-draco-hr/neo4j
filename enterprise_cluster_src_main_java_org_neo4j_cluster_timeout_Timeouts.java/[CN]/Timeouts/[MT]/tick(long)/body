{
synchronized (this) {
    now=time;
    timeoutStrategy.tick(now);
    triggeredTimeouts.clear();
    for (    Map.Entry<Object,Timeout> timeout : timeouts.entrySet()) {
      if (timeout.getValue().checkTimeout(now)) {
        triggeredTimeouts.add(timeout);
      }
    }
    for (    Map.Entry<Object,Timeout> triggeredTimeout : triggeredTimeouts) {
      timeouts.remove(triggeredTimeout.getKey());
    }
  }
  for (  Map.Entry<Object,Timeout> triggeredTimeout : triggeredTimeouts) {
    triggeredTimeout.getValue().trigger(receiver);
  }
}
