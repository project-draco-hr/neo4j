{
  URI[] servers=new URI[registry.size()];
  RefreshPayload[] refreshPayloads=new RefreshPayload[registry.size()];
  int currentIndex=0;
  for (  Map.Entry<URI,State> entry : registry.entrySet()) {
    servers[currentIndex]=entry.getKey();
    refreshPayloads[currentIndex]=RefreshPayload.fromState(entry.getValue(),-1);
    currentIndex++;
  }
  return new CollectResponsePayload(servers,refreshPayloads,readNum);
}
