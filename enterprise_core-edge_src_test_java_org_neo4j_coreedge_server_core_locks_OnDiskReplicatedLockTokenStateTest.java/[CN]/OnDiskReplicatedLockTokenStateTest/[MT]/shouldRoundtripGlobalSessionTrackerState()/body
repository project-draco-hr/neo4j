{
  EphemeralFileSystemAbstraction fsa=new EphemeralFileSystemAbstraction();
  fsa.mkdir(testDir.directory());
  OnDiskReplicatedLockTokenState<RaftTestMember> oldState=new OnDiskReplicatedLockTokenState<>(fsa,testDir.directory(),100,new RaftTestMarshal(),mock(Supplier.class));
  oldState.set(new ReplicatedLockTokenRequest<>(member(1),99),0);
  OnDiskReplicatedLockTokenState<RaftTestMember> newState=new OnDiskReplicatedLockTokenState<>(fsa,testDir.directory(),100,new RaftTestMarshal(),mock(Supplier.class));
  assertEquals(oldState.get().owner(),newState.get().owner());
  assertEquals(oldState.get().id(),newState.get().id());
}
