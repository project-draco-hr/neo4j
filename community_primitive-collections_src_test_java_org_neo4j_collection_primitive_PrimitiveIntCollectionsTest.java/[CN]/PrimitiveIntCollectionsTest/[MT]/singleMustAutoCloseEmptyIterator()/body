{
  AtomicInteger counter=new AtomicInteger();
  CountingPrimitiveIntIteratorResource itr=new CountingPrimitiveIntIteratorResource(PrimitiveIntCollections.emptyIterator(),counter);
  try {
    PrimitiveIntCollections.single(itr);
    fail("single() on empty iterator should have thrown");
  }
 catch (  NoSuchElementException ignore) {
  }
  assertEquals(1,counter.get());
}
