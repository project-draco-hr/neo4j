{
  if (txLog.getRecordCount() > maxTxLogRecordCount) {
    if (txLog.getName().endsWith(txLog1FileName)) {
      txLog.switchToLogFile(txLogDir + separator + txLog2FileName);
      changeActiveLog(txLog2FileName);
    }
 else     if (txLog.getName().endsWith(txLog2FileName)) {
      txLog.switchToLogFile(txLogDir + separator + txLog1FileName);
      changeActiveLog(txLog1FileName);
    }
 else {
      setTmNotOk(new Exception("Unknown active tx log file[" + txLog.getName() + "], unable to switch."));
      final IOException ex=new IOException("Unknown txLogFile[" + txLog.getName() + "] not equals to either ["+ txLog1FileName+ "] or ["+ txLog2FileName+ "]");
      throw logAndReturn("TM error accessing log file",ex);
    }
  }
  return txLog;
}
