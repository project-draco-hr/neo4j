{
  Iterator<List<TxLog.Record>> danglingRecordList=txLog.getDanglingRecords();
  boolean danglingRecordFound=danglingRecordList.hasNext();
  if (danglingRecordFound) {
    log.info("Unresolved transactions found, " + "recovery started ...");
    msgLog.logMessage("TM non resolved transactions found in " + txLog.getName(),true);
    xaDataSourceManager.recover(danglingRecordList);
    log.info("Recovery completed, all transactions have been " + "resolved to a consistent state.");
    msgLog.logMessage("Recovery completed, all transactions have been " + "resolved to a consistent state.");
  }
  getTxLog().truncate();
}
