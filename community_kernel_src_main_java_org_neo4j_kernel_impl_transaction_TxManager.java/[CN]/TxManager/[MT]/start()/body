{
  Iterator<List<TxLog.Record>> danglingRecordList=txLog.getDanglingRecords();
  boolean danglingRecordFound=danglingRecordList.hasNext();
  if (danglingRecordFound) {
    log.logMessage("TM non resolved transactions found in " + txLog.getName());
    xaDataSourceManager.recover(danglingRecordList);
    log.logMessage("Recovery completed, all transactions have been " + "resolved to a consistent state.");
  }
  getTxLog().truncate();
}
