{
  if (!tmOk) {
    SystemException ex=new SystemException("TM has encountered some problem, " + "please perform necessary action (tx recovery/restart)");
    if (tmNotOkCause != null) {
      ex=Exceptions.withCause(ex,tmNotOkCause);
    }
    throw ex;
  }
}
