{
  when(request.getHeader(CypherExecutor.MAX_EXECUTION_TIME_HEADER)).thenReturn(String.valueOf(CUSTOM_TRANSACTION_TIMEOUT));
  Config config=getConfiguredGuardConfig();
  CypherExecutor cypherExecutor=new CypherExecutor(database,config,logProvider);
  cypherExecutor.start();
  cypherExecutor.createSession(request);
  verify(databaseQueryService).beginTransaction(KernelTransaction.Type.implicit,AccessMode.Static.FULL,CUSTOM_TRANSACTION_TIMEOUT);
  logProvider.assertNoLoggingOccurred();
}
