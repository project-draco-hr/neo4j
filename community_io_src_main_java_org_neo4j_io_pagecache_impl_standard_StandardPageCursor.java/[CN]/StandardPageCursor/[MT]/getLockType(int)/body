{
switch (pf_flags & (PF_EXCLUSIVE_LOCK | PF_SHARED_LOCK)) {
case PF_EXCLUSIVE_LOCK:
    return PageLock.EXCLUSIVE;
case PF_SHARED_LOCK:
  return PageLock.SHARED;
case PF_EXCLUSIVE_LOCK | PF_SHARED_LOCK:
throw new IOException("Invalid flags: cannot ask to pin a page with both a shared and an exclusive lock");
default :
throw new IOException("Invalid flags: must specify either shared or exclusive lock for page pinning");
}
}
