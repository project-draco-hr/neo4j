{
  if (pagedFile.getReferenceCount() == 0) {
    throw new IllegalStateException("File has been unmapped");
  }
  currentPageId=nextPageId;
  nextPageId++;
  try {
    pagedFile.pin(this,pf_flags,currentPageId);
  }
 catch (  IOException e) {
    unpinCurrentPage();
    throw e;
  }
}
