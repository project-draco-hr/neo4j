{
  KernelExtension<?> jmx=Service.load(KernelExtension.class,"kernel jmx");
  if (jmx != null) {
    Method getManagementBean=null;
    Object state=jmx.getState(extensions);
    if (state != null) {
      try {
        getManagementBean=state.getClass().getMethod("getManagementBean",Class.class);
      }
 catch (      Exception e) {
      }
    }
    if (getManagementBean != null) {
      try {
        return beanClass.cast(getManagementBean.invoke(state,beanClass));
      }
 catch (      InvocationTargetException ex) {
        Throwable cause=ex.getTargetException();
        if (cause instanceof Error) {
          throw (Error)cause;
        }
        if (cause instanceof RuntimeException) {
          throw (RuntimeException)cause;
        }
      }
catch (      Exception ignored) {
      }
    }
  }
  throw new UnsupportedOperationException("Neo4j JMX support not enabled");
}
