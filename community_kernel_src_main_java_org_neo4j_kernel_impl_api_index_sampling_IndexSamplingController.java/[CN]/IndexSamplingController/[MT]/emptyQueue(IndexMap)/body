{
  emptyLock.lock();
  try {
    Iterable<IndexDescriptor> descriptors=jobQueue.pollAll();
    for (    IndexDescriptor descriptor : descriptors) {
      jobTracker.waitUntilCanExecuteMoreSamplingJobs();
      sampleIndex(indexMap,descriptor);
    }
  }
  finally {
    emptyLock.unlock();
  }
}
