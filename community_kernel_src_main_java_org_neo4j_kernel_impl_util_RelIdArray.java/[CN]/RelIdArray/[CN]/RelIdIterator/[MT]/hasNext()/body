{
  if (nextElementDetermined) {
    return nextElement != -1;
  }
  while (currentBlock != null) {
    if (relativePosition < currentBlock.length()) {
      nextElement=currentBlock.get(relativePosition++);
      nextElementDetermined=true;
      return true;
    }
 else {
      IdBlock nextBlock=selectNextBlock(currentBlock);
      if (nextBlock == null) {
        break;
      }
      int leftInBlock=currentBlock.length - relativePosition;
      currentBlock=nextBlock;
      relativePosition=0;
      absolutePosition+=leftInBlock;
    }
  }
  nextElementDetermined=false;
  nextElement=-1;
  return false;
}
