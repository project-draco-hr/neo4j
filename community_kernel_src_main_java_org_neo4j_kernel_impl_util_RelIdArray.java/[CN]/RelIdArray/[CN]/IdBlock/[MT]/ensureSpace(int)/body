{
  int length=length();
  int newLength=length + delta;
  if (newLength >= ids.length - 1) {
    int calculatedLength=ids.length * 3;
    if (newLength > calculatedLength) {
      calculatedLength=newLength * 2;
    }
    int[] newIds=new int[calculatedLength];
    System.arraycopy(ids,0,newIds,0,length + 1);
    ids=newIds;
  }
  return length;
}
