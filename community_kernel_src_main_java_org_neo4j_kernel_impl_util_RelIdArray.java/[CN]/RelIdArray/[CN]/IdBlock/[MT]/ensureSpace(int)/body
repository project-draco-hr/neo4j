{
  int length=length();
  int newLength=length + delta;
  int capacity=capacity();
  if (newLength >= capacity) {
    int calculatedLength=capacity * 2;
    if (newLength > calculatedLength) {
      calculatedLength=newLength * 2;
    }
    extendArrayTo(length,calculatedLength);
  }
  return length;
}
