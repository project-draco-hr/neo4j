{
  if (nextElementDetermined) {
    return nextElement != -1;
  }
  while (true) {
    if (currentState != null && currentState.hasNext()) {
      nextElement=currentState.next();
      nextElementDetermined=true;
      return true;
    }
 else {
      if (!nextBlock()) {
        break;
      }
    }
  }
  nextElementDetermined=false;
  nextElement=-1;
  return false;
}
