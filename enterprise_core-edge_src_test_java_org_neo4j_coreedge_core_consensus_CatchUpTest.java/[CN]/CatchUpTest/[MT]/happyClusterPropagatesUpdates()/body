{
  DirectNetworking net=new DirectNetworking();
  final MemberId leader=member(0);
  final MemberId[] allMembers={leader,member(1),member(2)};
  final RaftTestFixture fixture=new RaftTestFixture(net,3,allMembers);
  fixture.members().withId(leader).raftInstance().bootstrapWithInitialMembers(new RaftTestGroup(allMembers));
  final MemberId leaderMember=fixture.members().withId(leader).member();
  fixture.members().withId(leader).timeoutService().invokeTimeout(RaftMachine.Timeouts.ELECTION);
  net.processMessages();
  fixture.members().withId(leader).raftInstance().handle(new Request(leaderMember,valueOf(42)));
  net.processMessages();
  for (  MemberId aMember : allMembers) {
    assertThat(integerValues(fixture.members().withId(aMember).raftLog()),hasItems(42));
  }
}
