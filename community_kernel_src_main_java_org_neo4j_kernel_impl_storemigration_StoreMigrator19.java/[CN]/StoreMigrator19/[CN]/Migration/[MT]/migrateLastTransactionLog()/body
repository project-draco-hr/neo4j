{
  StoreChannel newLogChannel=legacyStore.beginTranslatingLastTransactionLog(neoStore);
  if (newLogChannel == null) {
    return;
  }
  LogBuffer logBuffer=new DirectMappedLogBuffer(newLogChannel,ByteCounterMonitor.NULL);
  LogEntryWriterv1 writer=new LogEntryWriterv1();
  writer.setCommandWriter(new PhysicalLogNeoXaCommandWriter());
  for (  LogEntry entry : loop(legacyStore.iterateLastTransactionLogEntries(logBuffer))) {
    writer.writeLogEntry(entry,logBuffer);
  }
  logBuffer.force();
  newLogChannel.close();
}
