{
  ByteArrayOutputStream output=new ByteArrayOutputStream();
  ExecutionResultSerializer serializer=new ExecutionResultSerializer(output,null,NullLogProvider.getInstance());
  Node a=node(1,properties(property("foo",12)));
  Node b=node(2,properties(property("bar",false)));
  Relationship r=relationship(1,properties(property("baz","quux")),a,"FRAZZLE",b);
  Result executionResult=mockExecutionResult(map("nested",new TreeMap<>(map("node",a,"edge",r,"path",path(a,link(r,b))))));
  serializer.statementResult(executionResult,false);
  serializer.finish();
  String result=output.toString(UTF_8.name());
  assertEquals("{\"results\":[{\"columns\":[\"nested\"]," + "\"data\":[{\"row\":[{\"edge\":{\"baz\":\"quux\"},\"node\":{\"foo\":12},\"path\":[{\"foo\":12},{\"baz\":\"quux\"},{\"bar\":false}]}]}]}]," + "\"errors\":[]}",result);
}
