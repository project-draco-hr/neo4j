{
  ByteArrayOutputStream output=new ByteArrayOutputStream();
  ExecutionResultSerializer serializer=getSerializerWith(output);
  Result executionResult=mockExecutionResult(map("point",new GeographicPoint(12.3,45.6,CRS.WGS84())),map("point",new CartesianPoint(123,456)));
  serializer.statementResult(executionResult,false);
  serializer.finish();
  String result=output.toString(UTF_8.name());
  assertEquals("{\"results\":[{\"columns\":[\"point\"]," + "\"data\":[{\"row\":[{\"type\":\"Point\",\"coordinates\":[12.3,45.6],\"crs\":{\"name\":\"WGS-84\",\"type\":\"link\",\"properties\":{\"href\":\"http://spatialreference.org/ref/epsg/4326/ogcwkt/\",\"type\":\"ogcwkt\"}}}],\"meta\":[null]}," + "{\"row\":[{\"type\":\"Point\",\"coordinates\":[123.0,456.0],\"crs\":{\"name\":\"cartesian\",\"type\":\"link\",\"properties\":{\"href\":\"http://spatialreference.org/ref/sr-org/7203/ogcwkt/\",\"type\":\"ogcwkt\"}}}],\"meta\":[null]}]}],\"errors\":[]}",result);
}
