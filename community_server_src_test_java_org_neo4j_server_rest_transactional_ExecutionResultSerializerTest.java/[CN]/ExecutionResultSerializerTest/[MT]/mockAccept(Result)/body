{
  doAnswer(new Answer<Void>(){
    @Override public Void answer(    InvocationOnMock invocation) throws Throwable {
      Result result=(Result)invocation.getMock();
      Result.ResultVisitor visitor=(Result.ResultVisitor)invocation.getArguments()[0];
      while (result.hasNext()) {
        visitor.visit(new MapRow(result.next()));
      }
      return null;
    }
  }
).when(mock).accept((Result.ResultVisitor<RuntimeException>)any(Result.ResultVisitor.class));
}
