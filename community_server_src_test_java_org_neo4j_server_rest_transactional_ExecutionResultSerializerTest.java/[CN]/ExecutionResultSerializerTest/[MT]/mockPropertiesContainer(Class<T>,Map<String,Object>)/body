{
  T propertyContainer=mock(containerType);
  when(propertyContainer.getPropertyKeys()).thenReturn(properties.keySet());
  for (  Map.Entry<String,Object> entry : properties.entrySet()) {
    when(propertyContainer.getProperty(entry.getKey())).thenReturn(entry.getValue());
  }
  return propertyContainer;
}
