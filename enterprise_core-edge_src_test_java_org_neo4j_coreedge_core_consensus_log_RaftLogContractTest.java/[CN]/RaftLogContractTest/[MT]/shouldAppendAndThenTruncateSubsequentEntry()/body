{
  RaftLog log=createRaftLog();
  log.append(new RaftLogEntry(0,valueOf(0)));
  long toBeSpared=log.append(new RaftLogEntry(0,valueOf(1)));
  long toTruncate=log.append(new RaftLogEntry(1,valueOf(2)));
  log.truncate(toTruncate);
  assertThat(log.appendIndex(),is(toBeSpared));
  assertThat(log.readEntryTerm(toBeSpared),is(0L));
}
