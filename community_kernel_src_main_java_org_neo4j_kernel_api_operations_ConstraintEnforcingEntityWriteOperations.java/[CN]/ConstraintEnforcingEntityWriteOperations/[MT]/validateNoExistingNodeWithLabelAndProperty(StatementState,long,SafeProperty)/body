{
  try {
    Object value=property.value();
    IndexDescriptor indexDescriptor=new IndexDescriptor(labelId,property.propertyKeyId());
    verifyIndexOnline(state,indexDescriptor);
    state.locks().acquireIndexEntryWriteLock(labelId,property.propertyKeyId(),property.valueAsString());
    PrimitiveLongIterator existingNodes=entityReadOperations.nodesGetFromIndexLookup(state,indexDescriptor,value);
    if (existingNodes.hasNext()) {
      throw new UniqueConstraintViolationKernelException(labelId,property.propertyKeyId(),value,existingNodes.next());
    }
  }
 catch (  IndexNotFoundKernelException|SchemaAndDataModificationInSameTransactionException e) {
    throw new UnableToValidateConstraintKernelException(e);
  }
}
