{
  Buffer buffer=window.getOffsettedBuffer(id);
  byte inUseByte=buffer.get();
  boolean inUse=(inUseByte == Record.IN_USE.byteValue());
  if (!inUse && !force) {
    throw new InvalidRecordException("Record[" + id + "] not in use");
  }
  if (inUseByte != Record.IN_USE.byteValue()) {
    throw new InvalidRecordException("Record[" + id + "] unknown in use flag["+ inUse+ "]");
  }
  T record=newRecord(id);
  record.setInUse(inUse);
  readRecord(record,buffer);
  return record;
}
