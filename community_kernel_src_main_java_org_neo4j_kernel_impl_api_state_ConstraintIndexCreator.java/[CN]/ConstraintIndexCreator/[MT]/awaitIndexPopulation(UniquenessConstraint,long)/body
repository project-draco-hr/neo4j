{
  try {
    indexingService.getIndexProxy(indexId).awaitStoreScanCompleted();
  }
 catch (  IndexNotFoundKernelException e) {
    throw new IllegalStateException(String.format("Index (indexId=%d) that we just created does not exist.",indexId));
  }
catch (  IndexPopulationFailedKernelException e) {
    Throwable cause=e.getCause();
    if (cause instanceof IndexEntryConflictException) {
      throw new UniquenessConstraintVerificationFailedKernelException(constraint,singleton((IndexEntryConflictException)cause));
    }
 else {
      throw new UniquenessConstraintVerificationFailedKernelException(constraint,cause);
    }
  }
}
