{
  tm.begin();
  try {
    TransactionImpl tx=(TransactionImpl)tm.getTransaction();
    EventManager.getManager().generateReActiveEvent(Event.TX_BEGIN,new EventData(tx.getEventIdentifier()));
    tx.registerSynchronization(TxEventGenerator.getInstance());
  }
 catch (  Exception e) {
    e.printStackTrace();
    throw new SystemException("Unable to generate tx events:" + e);
  }
}
