{
  int maxReadableBytes=source.readableBytes();
  if (maxReadableBytes > 0) {
    byteBuffer.clear();
    byteBuffer.limit(Math.min(byteBuffer.capacity(),maxReadableBytes));
    source.readBytes(byteBuffer);
    byteBuffer.flip();
    moreBlocks=byteBuffer.get() == BlockLogBuffer.FULL_BLOCK_AND_MORE;
  }
}
