{
  PackType valType=peekNextType();
switch (valType) {
case TEXT:
    return unpackText();
case INTEGER:
  return unpackLong();
case FLOAT:
return unpackDouble();
case BOOLEAN:
return unpackBoolean();
case NULL:
unpackNull();
return null;
case LIST:
{
return unpackList();
}
case MAP:
{
return unpackMap();
}
case STRUCT:
{
unpackStructHeader();
char signature=unpackStructSignature();
switch (signature) {
case NODE:
{
return ValueNode.unpackFields(this);
}
case RELATIONSHIP:
{
return ValueRelationship.unpackFields(this);
}
case UNBOUND_RELATIONSHIP:
{
return ValueUnboundRelationship.unpackFields(this);
}
case PATH:
{
return pathUnpacker.unpackFields(this);
}
default :
throw new BoltIOException(Status.Request.InvalidFormat,"Unknown struct type: " + Integer.toHexString(signature));
}
}
case END_OF_STREAM:
{
unpackEndOfStream();
return null;
}
default :
throw new BoltIOException(Status.Request.InvalidFormat,"Unknown value type: " + valType);
}
}
