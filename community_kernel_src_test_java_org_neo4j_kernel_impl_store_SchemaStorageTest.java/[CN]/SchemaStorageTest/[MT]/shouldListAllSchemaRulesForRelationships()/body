{
  createIndex(LABEL1,PROP1);
  createRelPropertyExistenceConstraint(TYPE1,PROP1);
  createRelPropertyExistenceConstraint(TYPE2,PROP1);
  createRelPropertyExistenceConstraint(TYPE1,PROP2);
  Set<RelationshipPropertyConstraintRule> listedRules=asSet(storage.schemaRulesForRelationships(Functions.<RelationshipPropertyConstraintRule>identity(),RelationshipPropertyConstraintRule.class,labelId(LABEL1),Predicates.<RelationshipPropertyConstraintRule>alwaysTrue()));
  Set<RelationshipPropertyConstraintRule> expectedRules=new HashSet<>();
  expectedRules.add(relPropertyExistenceConstraintRule(0,typeId(TYPE1),propId(PROP1)));
  expectedRules.add(relPropertyExistenceConstraintRule(1,typeId(TYPE1),propId(PROP2)));
  assertEquals(expectedRules,listedRules);
}
