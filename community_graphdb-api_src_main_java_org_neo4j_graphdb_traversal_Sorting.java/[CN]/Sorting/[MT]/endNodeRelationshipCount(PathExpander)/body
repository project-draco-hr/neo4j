{
  return new EndNodeComparator(){
    @Override protected int compareNodes(    Node endNode1,    Node endNode2){
      Integer count1=count(endNode1,expander);
      Integer count2=count(endNode2,expander);
      return count1.compareTo(count2);
    }
    private Integer count(    Node node,    PathExpander expander){
      Iterator<?> expand=expander.expand(singleNodePath(node),BranchState.NO_STATE).iterator();
      int count=0;
      while (expand.hasNext()) {
        count++;
      }
      return count;
    }
  }
;
}
