{
  int iterateNodeGet2PropertiesGet1RelationshipGet1Property=0, exceptions=0;
  Transaction tx=graphDb.beginTx();
  try {
    for (int j=0; j < 1000000; j++) {
      if (iterator.hasNext()) {
        Node node=iterator.next();
        try {
          for (          Relationship r : node.getRelationships()) {
            for (            String propertyKey : r.getPropertyKeys()) {
              r.getProperty(propertyKey);
            }
          }
          for (          String propertyKey : node.getPropertyKeys()) {
            node.getProperty(propertyKey);
          }
        }
 catch (        Exception e) {
          e.printStackTrace();
          exceptions+=1;
        }
        iterateNodeGet2PropertiesGet1RelationshipGet1Property++;
      }
    }
  }
  finally {
    tx.finish();
  }
  return new ReaderResultsSample(iterateNodeGet2PropertiesGet1RelationshipGet1Property,exceptions);
}
