{
  int pageSize=pagedFile.pageSize();
  long startPageId=trailerOffset / pageSize;
  int pageOffset=(int)(trailerOffset % pageSize);
  int bytesLeftToWrite=trailer.length;
  try (PageCursor cursor=pagedFile.io(startPageId,PagedFile.PF_EXCLUSIVE_LOCK)){
    do {
      cursor.next();
      cursor.setOffset(pageOffset);
      int bytesInThisPage=Math.min(bytesLeftToWrite,pageSize - pageOffset);
      do {
        cursor.putBytes(trailer,trailer.length - bytesLeftToWrite,bytesInThisPage);
      }
 while (cursor.shouldRetry());
      bytesLeftToWrite-=bytesInThisPage;
      pageOffset=0;
    }
 while (bytesLeftToWrite > 0);
  }
 }
