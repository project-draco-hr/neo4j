{
  int trailerPositionRelativeToFirstPageTrailerMightBeIn;
  int pageSize=pagedFile.pageSize();
  int expectedTrailerLength=UTF8.encode(expectedTrailer).length;
  long lastPageId=pagedFile.getLastPageId();
  long firstPageThatTrailerMightBeIn=getFirstPageThatTrailerMightBeIn(lastPageId,pageSize,expectedTrailerLength);
  try (PageCursor pageCursor=pagedFile.io(firstPageThatTrailerMightBeIn,PagedFile.PF_SHARED_LOCK)){
    byte[] allData=getTheBytesThatWillContainTheTrailer(pageSize,firstPageThatTrailerMightBeIn,lastPageId,pageCursor);
    trailerPositionRelativeToFirstPageTrailerMightBeIn=findTrailerPositionInArray(allData,UTF8.encode(expectedTrailer.split(" ")[0]));
  }
   if (trailerPositionRelativeToFirstPageTrailerMightBeIn == -1) {
    return trailerPositionRelativeToFirstPageTrailerMightBeIn;
  }
  return trailerPositionRelativeToFirstPageTrailerMightBeIn + firstPageThatTrailerMightBeIn * pageSize;
}
