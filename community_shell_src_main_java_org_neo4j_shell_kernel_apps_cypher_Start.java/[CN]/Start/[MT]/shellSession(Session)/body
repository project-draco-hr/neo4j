{
  GraphDatabaseQueryService graph=this.engine.queryService();
  InternalTransaction transaction=graph.beginTransaction(KernelTransaction.Type.implicit,AccessMode.FULL);
  Statement statement=graph.getDependencyResolver().resolveDependency(ThreadToStatementContextBridge.class).get();
  Neo4jTransactionalContext context=new Neo4jTransactionalContext(graph,transaction,statement,new PropertyContainerLocker());
  return new ShellQuerySession(session,context);
}
