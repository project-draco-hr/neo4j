{
  instantiateNeoStore(49);
  Pair<NeoStoreTransaction,NeoStoreTransactionContext> transactionContextPair=newWriteTransaction();
  NeoStoreTransaction tx=transactionContextPair.first();
  NeoStoreTransactionContext txCtx=transactionContextPair.other();
  int nodeId=(int)nextId(NODE), typeA=0;
  tx.nodeCreate(nodeId);
  tx.createRelationshipTypeToken(typeA,"A");
  createRelationships(tx,nodeId,typeA,OUTGOING,24);
  createRelationships(tx,nodeId,typeA,INCOMING,25);
  assertFalse(tx.nodeLoadLight(nodeId).isDense());
  createRelationships(tx,nodeId,typeA,INCOMING,1);
  assertTrue(tx.nodeLoadLight(nodeId).isDense());
  assertDenseRelationshipCounts(tx,txCtx,nodeId,typeA,24,26);
}
