{
  VerifyingXaLogicalLog log=new VerifyingXaLogicalLog(fs.get(),verifier);
  NeoStoreTransactionContext context=new NeoStoreTransactionContext(mock(NeoStoreTransactionContextSupplier.class),neoStore);
  when(transactionState.locks()).thenReturn(mock(Locks.Client.class));
  context.bind(transactionState);
  NeoStoreTransaction result=new NeoStoreTransaction(0l,log,neoStore,cacheAccessBackDoor,indexing,NO_LABEL_SCAN_STORE,new IntegrityValidator(neoStore,indexing),kernelTransaction,locks,context);
  result.setIdentifier(0);
  result.setCommitTxId(neoStore.getLastCommittedTx() + 1);
  return Pair.of(result,context);
}
