{
  if (content instanceof ReplicatedTransaction) {
    buffer.writeByte(TX_CONTENT_TYPE);
    ReplicatedTransactionSerializer.marshal((ReplicatedTransaction)content,buffer);
  }
 else   if (content instanceof CoreMemberSet) {
    buffer.writeByte(RAFT_MEMBER_SET_TYPE);
    CoreMemberSetSerializer.marshal((CoreMemberSet)content,buffer);
  }
 else   if (content instanceof ReplicatedIdAllocationRequest) {
    buffer.writeByte(ID_RANGE_REQUEST_TYPE);
    ReplicatedIdAllocationRequestSerializer.marshal((ReplicatedIdAllocationRequest)content,buffer);
  }
 else   if (content instanceof ReplicatedTokenRequest) {
    buffer.writeByte(TOKEN_REQUEST_TYPE);
    ReplicatedTokenRequestSerializer.marshal((ReplicatedTokenRequest)content,buffer);
  }
 else   if (content instanceof NewLeaderBarrier) {
    buffer.writeByte(NEW_LEADER_BARRIER_TYPE);
  }
 else   if (content instanceof ReplicatedLockTokenRequest) {
    buffer.writeByte(LOCK_TOKEN_REQUEST);
    ReplicatedLockTokenSerializer.marshal((ReplicatedLockTokenRequest<CoreMember>)content,buffer);
  }
 else {
    throw new IllegalArgumentException("Unknown content type " + content.getClass());
  }
}
