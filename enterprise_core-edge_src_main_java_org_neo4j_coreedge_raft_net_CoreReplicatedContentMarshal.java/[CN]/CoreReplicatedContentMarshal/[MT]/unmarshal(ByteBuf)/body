{
  try {
    byte type=buffer.readByte();
    final ReplicatedContent content;
switch (type) {
case TX_CONTENT_TYPE:
      content=ReplicatedTransactionSerializer.unmarshal(buffer);
    break;
case RAFT_MEMBER_SET_TYPE:
  content=CoreMemberSetSerializer.unmarshal(buffer);
break;
case ID_RANGE_REQUEST_TYPE:
content=ReplicatedIdAllocationRequestSerializer.unmarshal(buffer);
break;
case TOKEN_REQUEST_TYPE:
content=ReplicatedTokenRequestSerializer.unmarshal(buffer);
break;
case NEW_LEADER_BARRIER_TYPE:
content=new NewLeaderBarrier();
break;
case LOCK_TOKEN_REQUEST:
content=ReplicatedLockTokenSerializer.unmarshal(buffer);
break;
case DISTRIBUTED_OPERATION:
content=DistributedOperation.deserialize(buffer);
break;
default :
throw new IllegalArgumentException(String.format("Unknown content type 0x%x",type));
}
return content;
}
 catch (IndexOutOfBoundsException notEnoughBytes) {
return null;
}
}
