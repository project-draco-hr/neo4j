{
  ByteBuf txBuffer=Unpooled.wrappedBuffer(commandBytes);
  NetworkReadableClosableChannelNetty4 channel=new NetworkReadableClosableChannelNetty4(txBuffer);
  LogEntryReader<ReadableClosablePositionAwareChannel> reader=new VersionAwareLogEntryReader<>(new RecordStorageCommandReaderFactory());
  LogEntryCommand entryRead;
  List<StorageCommand> commands=new LinkedList<>();
  try {
    while ((entryRead=(LogEntryCommand)reader.readLogEntry(channel)) != null) {
      commands.add(entryRead.getXaCommand());
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  return commands;
}
