{
  TokenType type=TokenType.values()[buffer.readInt()];
  String tokenName=StringMarshal.deserialize(buffer);
  int commandBytesLength=buffer.readInt();
  byte[] commandBytes=new byte[commandBytesLength];
  buffer.readBytes(commandBytes,0,commandBytesLength);
  return new ReplicatedTokenRequest(type,tokenName,commandBytes);
}
