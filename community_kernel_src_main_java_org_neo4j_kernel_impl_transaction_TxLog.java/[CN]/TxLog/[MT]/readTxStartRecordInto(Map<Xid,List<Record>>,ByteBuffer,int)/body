{
  if (!buffer.hasRemaining()) {
    return 0;
  }
  byte globalId[]=new byte[buffer.get()];
  if (buffer.remaining() < globalId.length) {
    return 0;
  }
  buffer.get(globalId);
  Xid xid=new XidImpl(globalId,new byte[0]);
  if (recordMap.containsKey(xid)) {
    throw new IOException("Tx start for same xid[" + xid + "] found twice");
  }
  List<Record> recordList=new LinkedList<>();
  recordList.add(new Record(TX_START,globalId,null,seqNr));
  recordMap.put(xid,recordList);
  return 2 + globalId.length;
}
