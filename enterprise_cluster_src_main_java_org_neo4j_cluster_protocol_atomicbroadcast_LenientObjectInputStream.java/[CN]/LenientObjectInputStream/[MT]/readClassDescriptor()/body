{
  ObjectStreamClass wireClassDescriptor=super.readClassDescriptor();
  System.out.println("incoming message: " + wireClassDescriptor);
  if (!versionMapper.hasMappingFor(wireClassDescriptor.getName())) {
    System.out.println("add mapping for: " + wireClassDescriptor);
    versionMapper.addMappingFor(wireClassDescriptor.getName(),wireClassDescriptor.getSerialVersionUID());
  }
  Class localClass;
  try {
    localClass=Class.forName(wireClassDescriptor.getName());
  }
 catch (  ClassNotFoundException e) {
    return wireClassDescriptor;
  }
  ObjectStreamClass localClassDescriptor=ObjectStreamClass.lookup(localClass);
  if (localClassDescriptor != null) {
    final long localSUID=localClassDescriptor.getSerialVersionUID();
    final long wireSUID=wireClassDescriptor.getSerialVersionUID();
    if (wireSUID != localSUID) {
      wireClassDescriptor=localClassDescriptor;
    }
  }
  return wireClassDescriptor;
}
