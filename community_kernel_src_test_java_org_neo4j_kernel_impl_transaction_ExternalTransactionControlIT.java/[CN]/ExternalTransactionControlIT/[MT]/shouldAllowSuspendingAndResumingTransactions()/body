{
  GraphDatabaseAPI db=dbRule.getGraphDatabaseAPI();
  TransactionManager tm=db.getDependencyResolver().resolveDependency(TransactionManager.class);
  Node node=createNode();
  db.beginTx();
  node.addLabel(Labels.MY_LABEL);
  Transaction jtaTx=tm.suspend();
  assertFalse("I should not be able to see the label.",node.hasLabel(Labels.MY_LABEL));
  tm.resume(jtaTx);
  assertTrue("The label should be visible when I've resumed the transaction.",node.hasLabel(Labels.MY_LABEL));
}
