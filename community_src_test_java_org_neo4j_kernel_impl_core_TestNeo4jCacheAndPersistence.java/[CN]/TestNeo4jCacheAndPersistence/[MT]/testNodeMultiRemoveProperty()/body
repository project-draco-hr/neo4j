{
  Node node=getGraphDb().createNode();
  node.setProperty("key0","0");
  node.setProperty("key1","1");
  node.setProperty("key2","2");
  node.setProperty("key3","3");
  node.setProperty("key4","4");
  newTransaction();
  node.removeProperty("key3");
  node.removeProperty("key2");
  node.removeProperty("key3");
  newTransaction();
  getNodeManager().clearCache();
  assertEquals("0",node.getProperty("key0"));
  assertEquals("1",node.getProperty("key1"));
  assertEquals("4",node.getProperty("key4"));
  assertTrue(!node.hasProperty("key2"));
  assertTrue(!node.hasProperty("key3"));
  node.delete();
}
