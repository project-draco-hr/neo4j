{
  try (StoreStatement statement=storeLayer.acquireStatement()){
    counts.incrementNodeCount(ANY_LABEL,-1);
    PrimitiveIntIterator labels=storeLayer.nodeGetLabels(statement,id);
    if (labels.hasNext()) {
      final int[] removed=PrimitiveIntCollections.asArray(labels);
      for (      int label : removed) {
        counts.incrementNodeCount(label,-1);
      }
      storeLayer.nodeVisitDegrees(statement,id,new DegreeVisitor(){
        @Override public void visitDegree(        int type,        int outgoing,        int incoming){
          for (          int label : removed) {
            updateRelationshipsCountsFromDegrees(type,label,-outgoing,-incoming);
          }
        }
      }
);
    }
  }
 catch (  EntityNotFoundException e) {
  }
  recordState.nodeDelete(id);
}
