{
  try {
    PrimitiveIntIterator labels=storeLayer.nodeGetLabels(id);
    if (labels.hasNext()) {
      final int[] removed=PrimitiveIntCollections.asArray(labels);
      storeLayer.nodeVisitDegrees(id,new DegreeVisitor(){
        @Override public void visitDegree(        int type,        int outgoing,        int incoming){
          for (          int label : removed) {
            counts.incrementRelationshipCount(label,-1,-1,-outgoing);
            counts.incrementRelationshipCount(-1,-1,label,-incoming);
            counts.incrementRelationshipCount(label,type,-1,-outgoing);
            counts.incrementRelationshipCount(-1,type,label,-incoming);
          }
        }
      }
);
    }
  }
 catch (  EntityNotFoundException e) {
  }
  recordState.nodeDelete(id);
}
