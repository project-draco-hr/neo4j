{
  try {
    release();
    close();
    hooks.afterCommit(txState,this,hooksState);
  }
 catch (  ReleaseLocksFailedKernelException e) {
    throw new TransactionFailureException(new RuntimeException(e.getMessage(),e));
  }
 finally {
    closing=false;
  }
}
