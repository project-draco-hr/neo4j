{
  if (!terminated) {
    failure=true;
    terminated=true;
    if (!closed) {
      transactionMonitor.transactionTerminated(hasTxStateWithChanges());
    }
  }
}
