{
  if (!terminated) {
    failure=true;
    terminated=true;
    if (txTerminationAwareLocks && locks != null) {
      locks.markForTermination();
    }
    transactionMonitor.transactionTerminated();
  }
}
