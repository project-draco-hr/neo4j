{
  if (!terminated) {
    failure=true;
    terminated=true;
    if (TX_TERMINATION_AWARE_LOCKS) {
      locks.markForTermination();
    }
    transactionMonitor.transactionTerminated();
  }
}
