{
  if (kernelExtensionFactories.contains(kernelExtensionFactory)) {
    return;
  }
  Lifecycle extension=null;
  try {
    extension=kernelExtensionFactory.newKernelExtension(getKernelExtensionDependencies(kernelExtensionFactory));
    extensions.put(kernelExtensionFactory.getKeys(),extension);
    kernelExtensionFactories.add(kernelExtensionFactory);
  }
 catch (  Throwable throwable) {
    throw new LifecycleException(extension,LifecycleStatus.NONE,LifecycleStatus.INITIALIZING,throwable);
  }
  life.add(extension);
}
