{
  HighlyAvailableGraphDatabase db=(HighlyAvailableGraphDatabase)getServer().getDb();
  MasterServer master=db.getMasterServerIfMaster();
  out.println("I'm currently " + (master != null ? "master" : "slave"));
  if (master != null) {
    out.println("Connected slaves:");
    for (    Pair<Integer,Collection<Integer>> entry : master.getConnectedClients()) {
      out.println("\tMachine ID: " + entry.first());
      if (entry.other() != null && !entry.other().isEmpty()) {
        out.println("\tOngoing transactions: " + entry.other());
      }
    }
  }
  return null;
}
