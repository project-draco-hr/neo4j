{
  if (readIndex >= writeIndex) {
    return -1;
  }
  int actualLengthToRead=Math.min(dst.limit(),writeIndex - readIndex);
  try {
    dst.put(bytes,readIndex,actualLengthToRead);
    return actualLengthToRead;
  }
  finally {
    readIndex+=actualLengthToRead;
  }
}
