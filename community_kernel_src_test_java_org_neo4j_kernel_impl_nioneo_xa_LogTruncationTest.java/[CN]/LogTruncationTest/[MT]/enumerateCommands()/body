{
  List<XaCommand> commands=new ArrayList<>();
  for (  Class<?> cmd : Command.class.getClasses()) {
    if (XaCommand.class.isAssignableFrom(cmd)) {
      if (permutations.containsKey(cmd)) {
        commands.addAll(asList(permutations.get(cmd)));
      }
 else {
        throw new AssertionError("Unknown command type: " + cmd + ", please add missing instantiation to "+ "test serialization of this command.");
      }
    }
  }
  return commands;
}
