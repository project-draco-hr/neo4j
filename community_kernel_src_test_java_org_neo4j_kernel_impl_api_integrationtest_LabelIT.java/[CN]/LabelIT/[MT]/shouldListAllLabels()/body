{
  newTransaction();
  long label1Id=statement.getOrCreateLabelId("label1");
  long label2Id=statement.getOrCreateLabelId("label2");
  Iterator<LabelToken> labelIdsBeforeCommit=statement.listLabels();
  assertEquals(asList(new LabelToken("label1",(int)label1Id),new LabelToken("label2",(int)label2Id)),IteratorUtil.asCollection(labelIdsBeforeCommit));
  commit();
  newTransaction();
  Iterator<LabelToken> labelIdsAfterCommit=statement.listLabels();
  assertEquals(asList(new LabelToken("label1",(int)label1Id),new LabelToken("label2",(int)label2Id)),IteratorUtil.asCollection(labelIdsAfterCommit));
}
