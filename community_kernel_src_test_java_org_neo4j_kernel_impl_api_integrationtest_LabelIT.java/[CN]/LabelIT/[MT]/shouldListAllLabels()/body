{
  newTransaction();
  long label1Id=statement.labelGetOrCreateForName(getState(),"label1");
  long label2Id=statement.labelGetOrCreateForName(getState(),"label2");
  Iterator<Token> labelIdsBeforeCommit=statement.labelsGetAllTokens(getState());
  assertEquals(asList(new Token("label1",(int)label1Id),new Token("label2",(int)label2Id)),IteratorUtil.asCollection(labelIdsBeforeCommit));
  commit();
  newTransaction();
  Iterator<Token> labelIdsAfterCommit=statement.labelsGetAllTokens(getState());
  assertEquals(asList(new Token("label1",(int)label1Id),new Token("label2",(int)label2Id)),IteratorUtil.asCollection(labelIdsAfterCommit));
}
