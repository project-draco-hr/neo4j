{
  newTransaction();
  long label1Id=statement.getOrCreateLabelId("label1");
  long label2Id=statement.getOrCreateLabelId("label2");
  Iterator<Token> labelIdsBeforeCommit=statement.listLabels();
  assertEquals(asList(new Token("label1",(int)label1Id),new Token("label2",(int)label2Id)),IteratorUtil.asCollection(labelIdsBeforeCommit));
  commit();
  newTransaction();
  Iterator<Token> labelIdsAfterCommit=statement.listLabels();
  assertEquals(asList(new Token("label1",(int)label1Id),new Token("label2",(int)label2Id)),IteratorUtil.asCollection(labelIdsAfterCommit));
}
