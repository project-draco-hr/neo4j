{
  Map<MemberId,CoreAddresses> coreMembers=emptyMap();
  Set<EdgeAddresses> edgeMembers=emptySet();
  boolean canBeBootstrapped=false;
  ClusterId clusterId=null;
  if (hazelcastInstance != null) {
    Set<Member> hzMembers=hazelcastInstance.getCluster().getMembers();
    canBeBootstrapped=canBeBootstrapped(hzMembers);
    coreMembers=toCoreMemberMap(hzMembers,log);
    edgeMembers=edgeMembers(hazelcastInstance,log);
    clusterId=getClusterId(hazelcastInstance);
  }
 else {
    log.info("Cannot currently bind to distributed discovery service.");
  }
  return new ClusterTopology(clusterId,canBeBootstrapped,coreMembers,edgeMembers);
}
