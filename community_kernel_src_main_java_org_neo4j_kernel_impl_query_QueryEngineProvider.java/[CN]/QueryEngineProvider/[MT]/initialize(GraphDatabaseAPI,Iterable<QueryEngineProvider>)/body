{
  QueryEngineProvider provider=null;
  for (  QueryEngineProvider candidate : providers) {
    if (provider == null) {
      provider=candidate;
    }
 else {
      throw new IllegalStateException("Too many query engines.");
    }
  }
  if (provider == null) {
    return NoQueryEngine.INSTANCE;
  }
  return provider.createEngine(graphAPI);
}
