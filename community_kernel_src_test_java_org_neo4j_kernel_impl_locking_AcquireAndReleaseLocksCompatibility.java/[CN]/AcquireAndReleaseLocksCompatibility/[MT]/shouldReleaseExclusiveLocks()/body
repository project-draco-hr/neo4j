{
  clientA.acquireShared(NODE,1l);
  clientA.acquireExclusive(NODE,2l);
  Future<Object> clientBLock=acquireExclusive(clientB,NODE,2l).callAndAssertWaiting();
  clientA.releaseAllExclusive();
  assertNotWaiting(clientB,clientBLock);
  clientBLock=acquireExclusive(clientB,NODE,1l).callAndAssertWaiting();
  clientA.releaseAll();
  assertNotWaiting(clientB,clientBLock);
}
