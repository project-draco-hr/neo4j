{
  while (!done || processedTicket.get() < submittedTicket.get() || !processed.isEmpty()) {
    try {
      TO next=processed.poll(10,MILLISECONDS);
      if (next != null) {
        return next;
      }
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
      return null;
    }
    healthCheck.run();
  }
  return null;
}
