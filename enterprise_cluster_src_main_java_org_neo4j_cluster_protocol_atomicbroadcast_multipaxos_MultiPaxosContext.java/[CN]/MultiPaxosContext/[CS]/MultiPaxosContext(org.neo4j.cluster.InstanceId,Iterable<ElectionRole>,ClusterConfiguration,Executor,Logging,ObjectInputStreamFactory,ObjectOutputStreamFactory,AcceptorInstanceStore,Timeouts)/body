{
  this.me=me;
  this.configuration=configuration;
  this.executor=executor;
  this.logging=logging;
  this.objectInputStreamFactory=objectInputStreamFactory;
  this.objectOutputStreamFactory=objectOutputStreamFactory;
  this.instanceStore=instanceStore;
  this.timeouts=timeouts;
  clusterContext=new ClusterContextImpl();
  proposerContext=new ProposerContextImpl();
  acceptorContext=new AcceptorContextImpl();
  learnerContext=new LearnerContextImpl();
  heartbeatContext=new HeartbeatContextImpl();
  electionContext=new ElectionContextImpl(roles);
  atomicBroadcastContext=new AtomicBroadcastContextImpl();
  heartbeatContext.addHeartbeatListener(electionContext);
}
