{
  if (dragging) {
    Element element=node.getElement();
    int newX=event.getX() + element.getOffsetLeft() - dragStartX;
    int newY=event.getY() + element.getOffsetTop() - dragStartY;
    parent.reposition(node,newX,newY);
    int clientX=event.getClientX();
    int clientY=event.getClientY();
    if (clientX < 0 || clientY < 0 || clientX > Window.getClientWidth() || clientY > Window.getClientHeight()) {
      dragging=false;
    }
  }
  event.preventDefault();
}
