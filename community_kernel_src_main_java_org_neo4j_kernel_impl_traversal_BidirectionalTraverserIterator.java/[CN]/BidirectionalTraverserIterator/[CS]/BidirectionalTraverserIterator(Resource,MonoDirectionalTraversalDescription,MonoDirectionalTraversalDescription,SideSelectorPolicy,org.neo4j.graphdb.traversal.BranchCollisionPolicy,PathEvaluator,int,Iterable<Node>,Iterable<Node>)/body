{
  super(resource);
  this.sides.put(Direction.OUTGOING,new Side(start));
  this.sides.put(Direction.INCOMING,new Side(end));
  this.uniqueness=makeSureStartAndEndHasSameUniqueness(start,end);
  this.selector=fixedSide(Direction.OUTGOING);
  BranchSelector startSelector=start.branchOrdering.create(new AsOneStartBranch(this,startNodes,start.initialState,start.uniqueness),start.expander);
  this.selector=fixedSide(Direction.INCOMING);
  BranchSelector endSelector=end.branchOrdering.create(new AsOneStartBranch(this,endNodes,end.initialState,start.uniqueness),end.expander);
  this.selector=sideSelector.create(startSelector,endSelector,maxDepth);
  this.collisionDetector=collisionPolicy.create(collisionEvaluator,new Predicate<Path>(){
    @Override public boolean test(    Path path){
      return uniqueness.checkFull(path);
    }
  }
);
}
