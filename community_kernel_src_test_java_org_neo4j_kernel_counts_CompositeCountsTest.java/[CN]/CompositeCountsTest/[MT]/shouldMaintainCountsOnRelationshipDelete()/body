{
  Relationship relationship;
  try (Transaction tx=db.beginTx()){
    relationship=db.createNode(label("Foo")).createRelationshipTo(db.createNode(label("Bar")),withName("KNOWS"));
    tx.success();
  }
   try (Transaction tx=db.beginTx()){
    relationship.delete();
    tx.success();
  }
   numberOfRelationshipsMatching(label("Foo"),withName("KNOWS"),null).shouldBe(0);
  numberOfRelationshipsMatching(null,withName("KNOWS"),label("Foo")).shouldBe(0);
  numberOfRelationshipsMatching(null,withName("KNOWS"),label("Bar")).shouldBe(0);
  numberOfRelationshipsMatching(label("Bar"),withName("KNOWS"),null).shouldBe(0);
  verifyAllCounts();
}
