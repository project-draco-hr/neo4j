{
  String[] elements={"A","B","C"};
  LuceneAllDocumentsReader reader=new LuceneAllDocumentsReader(new SearcherManagerStub(new SearcherStub(new IndexReaderStub(false,elements),elements)));
  Iterator<Document> iterator=reader.iterator();
  List<Document> actualDocuments=new ArrayList<>(IteratorUtil.asCollection(iterator));
  for (int i=0; i < elements.length; i++) {
    assertEquals(elements[i],actualDocuments.get(i).get("element"));
  }
}
