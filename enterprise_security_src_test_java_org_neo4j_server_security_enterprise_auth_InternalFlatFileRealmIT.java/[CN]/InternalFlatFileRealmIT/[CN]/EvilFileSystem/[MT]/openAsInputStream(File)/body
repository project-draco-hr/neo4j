{
  if (fileName.equals(userStoreFile)) {
    return new ByteArrayInputStream(userStoreVersions.remove().getBytes("UTF-8"));
  }
  if (fileName.equals(roleStoreFile)) {
    if (userStoreVersions.size() < roleStoreVersions.size() - 1) {
      roleStoreVersions.remove();
    }
    return new ByteArrayInputStream(roleStoreVersions.remove().getBytes("UTF-8"));
  }
  return super.openAsInputStream(fileName);
}
