{
  if (!channel.isBlocking() && !channel.isConnected() && channel.isConnectionPending()) {
    try {
      return channel.finishConnect();
    }
 catch (    IOException e) {
      connectionRefused=true;
    }
  }
  return channel.isConnected();
}
