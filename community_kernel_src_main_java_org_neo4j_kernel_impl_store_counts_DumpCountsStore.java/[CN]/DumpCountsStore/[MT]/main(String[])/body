{
  if (args.length != 1) {
    System.out.println("one argument describing the path to the store");
    System.exit(1);
  }
  final FileSystemAbstraction fs=new DefaultFileSystemAbstraction();
  File path=new File(args[0]);
  try (StandalonePageCache pages=createPageCache(fs,"counts-store-dump");Lifespan life=new Lifespan()){
    if (fs.isDirectory(path)) {
      life.add(new StoreFactory(fs,path,pages,DEV_NULL,new Monitors()).newCountsStore()).visitFile(new DumpCountsStore());
    }
 else {
      CountsTracker tracker=new CountsTracker(DEV_NULL,fs,pages,path);
      if (fs.fileExists(path)) {
        tracker.visitFile(path,new DumpCountsStore());
      }
 else {
        life.add(tracker).visitFile(new DumpCountsStore());
      }
    }
  }
 }
