{
  assertTrue("If you see this, call jacob.",!Platforms.platformIsWindows() || new Date().getTime() < new Date(2014 - 1900,9,25).getTime());
  assumeTrue(!Platforms.platformIsWindows());
  storeFactory.createNeoStore().close();
  StandardStore<RelationshipRecord,RelationshipStoreFormat_v2_2.RelationshipRecordCursor> store=new StandardStore<>(new RelationshipStoreFormat_v2_2(),new File("/neostore.relationshipstore.db"),new TestStoreIdGenerator(),new MuninnPageCache(fsRule.get(),1024,1024,PageCacheMonitor.NULL),fsRule.get(),StringLogger.DEV_NULL);
  store.init();
  store.start();
  RelationshipRecord expectedRecord=new RelationshipRecord(store.allocate(),1337,1,2);
  expectedRecord.setInUse(true);
  store.write(expectedRecord);
  store.stop();
  store.shutdown();
  RelationshipStore relStore=storeFactory.newRelationshipStore();
  RelationshipRecord record=relStore.getRecord(expectedRecord.getId());
  assertThat(record,equalTo(expectedRecord));
}
