{
  if (!queue.isEmpty()) {
    Predicate<NodePropertyUpdate> hasBeenIndexed=new Predicate<NodePropertyUpdate>(){
      @Override public boolean accept(      NodePropertyUpdate item){
        return item.getNodeId() <= highestIndexedNodeId;
      }
    }
;
    writer.update(filter(hasBeenIndexed,queue));
  }
}
