{
  acquireExclusiveLockInThisThread();
  TxTerminationImpl txTermination=new TxTerminationImpl();
  Future<?> sharedLockAcquisition=acquireSharedLockInAnotherThread(txTermination);
  assertThreadIsWaitingForLock(sharedLockAcquisition);
  txTermination.markForTermination();
  assertLockAcquisitionFailed(sharedLockAcquisition);
}
