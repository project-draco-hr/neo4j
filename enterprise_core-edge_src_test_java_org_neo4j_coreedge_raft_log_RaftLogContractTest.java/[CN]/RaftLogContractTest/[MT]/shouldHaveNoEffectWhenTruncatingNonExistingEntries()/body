{
  RaftLog log=createRaftLog();
  RaftLogEntry logEntryA=new RaftLogEntry(1,ReplicatedInteger.valueOf(1));
  RaftLogEntry logEntryB=new RaftLogEntry(1,ReplicatedInteger.valueOf(2));
  log.append(logEntryA);
  log.append(logEntryB);
  log.truncate(5);
  assertThat(log.appendIndex(),is(1L));
  assertThat(readLogEntry(log,0),equalTo(logEntryA));
  assertThat(readLogEntry(log,1),equalTo(logEntryB));
}
