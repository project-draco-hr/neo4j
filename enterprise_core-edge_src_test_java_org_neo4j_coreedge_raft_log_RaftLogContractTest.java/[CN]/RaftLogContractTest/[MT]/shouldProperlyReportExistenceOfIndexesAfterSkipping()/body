{
  RaftLog log=createRaftLog();
  long term=0;
  long existingEntryIndex=log.append(new RaftLogEntry(term,valueOf(100)));
  long skipIndex=15;
  log.skip(skipIndex,term);
  assertEquals(skipIndex,log.appendIndex());
  for (long i=existingEntryIndex + 1; i < skipIndex + 2; i++) {
    try {
      readLogEntry(log,i);
      fail("Should have thrown exception at index " + i);
    }
 catch (    RaftLogCompactedException e) {
    }
  }
}
