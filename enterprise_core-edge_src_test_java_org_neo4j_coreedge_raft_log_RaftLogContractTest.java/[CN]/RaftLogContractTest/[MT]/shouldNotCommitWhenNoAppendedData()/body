{
  RaftLog log=createRaftLog();
  RaftLog.Listener listener=mock(RaftLog.Listener.class);
  log.registerListener(listener);
  log.commit(10);
  assertThat(log.appendIndex(),is(-1L));
  assertThat(log.commitIndex(),is(-1L));
  assertThat(log.entryExists(0),is(false));
  verify(listener,never()).onCommitted(any(ReplicatedContent.class));
}
