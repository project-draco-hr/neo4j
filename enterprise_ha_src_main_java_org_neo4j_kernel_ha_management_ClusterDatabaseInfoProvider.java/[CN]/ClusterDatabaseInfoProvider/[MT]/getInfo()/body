{
  ClusterMember self=members.getSelf();
  if (self == null)   return null;
  URI haUri=self.getHAUri();
  int serverId=-1;
  if (haUri != null) {
    serverId=HighAvailabilityModeSwitcher.getServerId(haUri);
  }
  return new ClusterDatabaseInfo(new ClusterMemberInfo(self.getMemberId().toString(),self.getHAUri() != null,true,self.getHARole(),Iterables.toArray(String.class,Iterables.map(Functions.TO_STRING,self.getRoleURIs())),Iterables.toArray(String.class,Iterables.map(Functions.TO_STRING,self.getRoles()))),txIdGetter.getLastTxId(),lastUpdateTime.getLastUpdateTime(),serverId);
}
