{
  value.putByte(0,(byte)0x7F);
  value.putByte(7,(byte)0x7F);
  assertTrue("format specifier",writer.writeHeader(key,value));
  assertTrue("end-of-header marker",writer.writeHeader(key,value));
  assertTrue("end marker + number of data items",writer.writeHeader(key,value));
  byte[] bytes={'a','l','l',' ','o','k'};
  writer.writeTrailer(new BigEndianByteArrayBuffer(0),new BigEndianByteArrayBuffer(bytes));
  stub.assertData(new byte[]{0x00,0,0,0,0,0,0,0x00,0x7F,0,0,0,0,0,0,0x7F,0x00,0,0,0,0,0,0,0x00,0x00,0,0,0,0,0,0,0x00,0x00,0,0,0,0,0,0,0x00,0x00,0,0,0,0,0,0,0x00,'a','l','l',' ','o','k'});
}
