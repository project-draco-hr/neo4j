{
  int writtenInThisCall=0;
  for (int i=0; i < byteBuffer.limit(); i++) {
    fs.checkOperation(BreakableFileSystemAbstraction.OperationType.WRITE,theFile,bytesWritten,1,inner.position());
    ByteBuffer toWrite=byteBuffer.slice();
    toWrite.limit(1);
    inner.write(toWrite,l + writtenInThisCall);
    byteBuffer.get();
    bytesWritten++;
    writtenInThisCall++;
  }
  return writtenInThisCall;
}
