{
  final File logDir=TargetDirectory.forTest(this.getClass()).cleanDirectory("logDir");
  final File confDir=TargetDirectory.forTest(this.getClass()).cleanDirectory("confDir");
  Configuration config=new MapBasedConfiguration();
  config.setProperty(Configurator.HTTP_LOGGING,"true");
  config.setProperty(Configurator.HTTP_LOG_CONFIG_LOCATION,createConfigFile(createLogbackConfigXml(logDir),confDir).getAbsolutePath());
  EnsurePreparedForHttpLogging rule=new EnsurePreparedForHttpLogging(config);
  boolean result=rule.run();
  assertTrue(result);
  assertEquals(StringUtils.EMPTY,rule.getFailureMessage());
}
