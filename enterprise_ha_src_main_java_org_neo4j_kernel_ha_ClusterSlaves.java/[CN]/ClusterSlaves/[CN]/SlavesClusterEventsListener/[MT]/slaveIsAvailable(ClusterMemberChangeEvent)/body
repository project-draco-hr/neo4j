{
  Map<URI,Slave> newSlaves=new HashMap<URI,Slave>(slaves);
  URI slaveHaUri=event.getServerHaUri();
  Slave slave=instantiateFullSlaveClients ? life.add(new SlaveClient(getServerId(slaveHaUri),slaveHaUri.getHost(),slaveHaUri.getPort(),msgLog,storeId,config.get(HaSettings.max_concurrent_channels_per_slave),config.get(ComSettings.com_chunk_size))) : new SlaveInformation(slaveHaUri,getServerId(slaveHaUri));
  newSlaves.put(event.getServerClusterUri(),slave);
  slaves=newSlaves;
}
