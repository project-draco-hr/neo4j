{
  this.fileA=fileA;
  this.fileB=fileB;
  this.fileSystemAbstraction=fileSystemAbstraction;
  this.numberOfEntriesBeforeRotation=numberOfEntriesBeforeRotation;
  this.marshal=marshal;
  this.currentStoreFile=currentStoreFile;
  this.currentStoreChannel=new PhysicalFlushableChannel(fileSystemAbstraction.open(currentStoreFile,"rw"));
  initialiseStoreFile(currentStoreFile);
  this.databaseHealthSupplier=databaseHealthSupplier;
}
