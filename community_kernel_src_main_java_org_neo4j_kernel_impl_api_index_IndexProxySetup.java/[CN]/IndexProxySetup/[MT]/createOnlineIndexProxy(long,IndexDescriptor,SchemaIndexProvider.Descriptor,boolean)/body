{
  try {
    IndexConfiguration config=new IndexConfiguration(unique);
    IndexAccessor onlineAccessor=onlineAccessorFromProvider(providerDescriptor,ruleId,config,samplingConfig);
    IndexProxy proxy;
    proxy=new OnlineIndexProxy(descriptor,config,onlineAccessor,storeView,providerDescriptor);
    proxy=new ContractCheckingIndexProxy(proxy,true);
    return proxy;
  }
 catch (  IOException e) {
    logProvider.getLog(getClass()).error("Failed to open index: " + ruleId + " ("+ descriptor.userDescription(tokenNameLookup)+ "), requesting re-population.",e);
    return createRecoveringIndexProxy(descriptor,providerDescriptor,unique);
  }
}
