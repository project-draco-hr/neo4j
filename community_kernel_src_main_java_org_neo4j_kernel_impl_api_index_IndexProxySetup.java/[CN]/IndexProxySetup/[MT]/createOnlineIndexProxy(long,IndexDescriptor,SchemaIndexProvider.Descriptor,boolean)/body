{
  try {
    IndexConfiguration config=new IndexConfiguration(unique);
    IndexAccessor onlineAccessor=onlineAccessorFromProvider(providerDescriptor,ruleId,config);
    IndexProxy proxy;
    proxy=new OnlineIndexProxy(descriptor,config,onlineAccessor,storeView,providerDescriptor);
    proxy=new ContractCheckingIndexProxy(proxy,true);
    return proxy;
  }
 catch (  IOException e) {
    return createFailedIndexProxy(ruleId,descriptor,providerDescriptor,unique,failure(e));
  }
}
