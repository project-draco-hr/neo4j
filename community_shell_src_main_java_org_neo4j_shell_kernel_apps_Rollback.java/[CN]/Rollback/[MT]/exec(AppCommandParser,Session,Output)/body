{
  Transaction tx=Begin.currentTransaction(getServer());
  if (tx == null) {
    throw Commit.fail(session,"Not in a transaction");
  }
 else {
    try {
      tx.rollback();
      out.println("Transaction rolled back");
      return Continuation.INPUT_COMPLETE;
    }
 catch (    SystemException e) {
      throw new ShellException(e.getMessage());
    }
  }
}
