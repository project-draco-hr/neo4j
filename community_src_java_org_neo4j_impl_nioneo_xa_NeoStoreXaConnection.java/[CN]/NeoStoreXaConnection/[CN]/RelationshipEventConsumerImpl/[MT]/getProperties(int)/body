{
  validate();
  if (xaCon.getNeoTransaction().relationshipDeleted(relId) || xaCon.getNeoTransaction().relationshipCreated(relId)) {
    return new PropertyData[0];
  }
  PropertyData[] propertyData=relStore.getProperties(relId);
  List<PropertyData> propertyDataList=new ArrayList<PropertyData>();
  for (int i=0; i < propertyData.length; i++) {
    int propertyId=propertyData[i].getId();
    if (!xaCon.getNeoTransaction().propertyDeleted(propertyId)) {
      propertyDataList.add(propertyData[i]);
    }
  }
  if (propertyDataList.size() == propertyData.length) {
    return propertyData;
  }
  return propertyDataList.toArray(new PropertyData[propertyDataList.size()]);
}
