{
  if (state.hasTxStateWithChanges()) {
    final Iterator<Property> properties=relationshipGetAllProperties(state,relationshipId);
    return new PrimitiveLongIterator(){
      @Override public long next(){
        return properties.next().propertyKeyId();
      }
      @Override public boolean hasNext(){
        return properties.hasNext();
      }
    }
;
  }
  return entityReadDelegate.relationshipGetPropertyKeys(state,relationshipId);
}
