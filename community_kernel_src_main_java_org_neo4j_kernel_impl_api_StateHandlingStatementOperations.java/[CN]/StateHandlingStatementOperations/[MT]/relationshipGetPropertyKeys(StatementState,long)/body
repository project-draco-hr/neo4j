{
  if (!state.txState().hasChanges()) {
    return entityReadDelegate.relationshipGetPropertyKeys(state,relationshipId);
  }
  final Iterator<Property> properties=relationshipGetAllProperties(state,relationshipId);
  return new PrimitiveLongIterator(){
    @Override public long next(){
      return properties.next().propertyKeyId();
    }
    @Override public boolean hasNext(){
      return properties.hasNext();
    }
  }
;
}
