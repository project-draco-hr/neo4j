{
  Property existingProperty=graphGetProperty(state,property.propertyKeyId());
  if (!existingProperty.isDefined()) {
    auxStoreOps.graphAddStoreProperty(property);
  }
 else {
    auxStoreOps.graphChangeStoreProperty((SafeProperty)existingProperty,property);
  }
  state.txState().graphDoReplaceProperty(existingProperty,property);
  return existingProperty;
}
