{
  if (state.txState().nodeIsDeletedInThisTx(nodeId)) {
    return IteratorUtil.emptyIterator();
  }
  if (state.txState().nodeIsAddedInThisTx(nodeId)) {
    return state.txState().getNodeStateLabelDiffSets(nodeId).getAdded().iterator();
  }
  Iterator<Long> committed=entityReadDelegate.nodeGetLabels(state,nodeId);
  return state.txState().getNodeStateLabelDiffSets(nodeId).apply(committed);
}
