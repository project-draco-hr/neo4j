{
  if (state.txState().relationshipIsAddedInThisTx(relationshipId)) {
    return state.txState().getRelationshipPropertyDiffSets(relationshipId).getAdded().iterator();
  }
  if (state.txState().relationshipIsDeletedInThisTx(relationshipId)) {
    throw new IllegalStateException("Relationship " + relationshipId + " has been deleted");
  }
  return state.txState().getRelationshipPropertyDiffSets(relationshipId).apply(entityReadDelegate.relationshipGetAllProperties(state,relationshipId));
}
