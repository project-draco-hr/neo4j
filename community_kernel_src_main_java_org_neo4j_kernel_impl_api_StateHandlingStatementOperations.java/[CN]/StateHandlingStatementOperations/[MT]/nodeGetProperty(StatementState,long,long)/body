{
  if (!state.txState().hasChanges()) {
    return entityReadDelegate.nodeGetProperty(state,nodeId,propertyKeyId);
  }
  Iterator<Property> properties=nodeGetAllProperties(state,nodeId);
  while (properties.hasNext()) {
    Property property=properties.next();
    if (property.propertyKeyId() == propertyKeyId) {
      return property;
    }
  }
  return Property.noNodeProperty(nodeId,propertyKeyId);
}
