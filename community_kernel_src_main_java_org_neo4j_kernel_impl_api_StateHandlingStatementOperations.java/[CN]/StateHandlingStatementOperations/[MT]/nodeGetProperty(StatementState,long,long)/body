{
  if (state.hasTxStateWithChanges()) {
    Iterator<Property> properties=nodeGetAllProperties(state,nodeId);
    while (properties.hasNext()) {
      Property property=properties.next();
      if (property.propertyKeyId() == propertyKeyId) {
        return property;
      }
    }
    return Property.noNodeProperty(nodeId,propertyKeyId);
  }
  return entityReadDelegate.nodeGetProperty(state,nodeId,propertyKeyId);
}
