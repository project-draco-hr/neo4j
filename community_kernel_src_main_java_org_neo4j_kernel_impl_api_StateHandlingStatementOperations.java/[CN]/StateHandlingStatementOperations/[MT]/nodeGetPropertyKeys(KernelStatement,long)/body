{
  try (NodeCursor nodeCursor=nodeCursor(state,nodeId)){
    if (!nodeCursor.next()) {
      throw new EntityNotFoundException(EntityType.NODE,nodeId);
    }
    PrimitiveIntStack keys=new PrimitiveIntStack(16);
    try (PropertyCursor properties=nodeCursor.properties()){
      while (properties.next()) {
        keys.push(properties.propertyKeyId());
      }
    }
     return keys.iterator();
  }
 }
