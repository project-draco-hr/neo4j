{
  try {
    relationshipVisit(statement,relationship,new RelationshipVisitor<LegacyIndexNotFoundKernelException>(){
      @Override public void visit(      long relId,      int type,      long startNode,      long endNode) throws LegacyIndexNotFoundKernelException {
        statement.legacyIndexTxState().relationshipChanges(indexName).removeRelationship(relId,startNode,endNode);
      }
    }
);
  }
 catch (  EntityNotFoundException e) {
    statement.legacyIndexTxState().relationshipChanges(indexName).remove(relationship);
    throw e;
  }
}
