{
  relTypes=deduplicate(relTypes);
  try (final NodeCursor nodeCursor=nodeCursor(state,nodeId)){
    if (nodeCursor.next()) {
      return new CursorRelationshipIterator(nodeCursor.relationships(direction,relTypes));
    }
 else {
      throw new EntityNotFoundException(EntityType.NODE,nodeId);
    }
  }
 }
