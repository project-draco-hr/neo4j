{
  super.setUp();
  log=Logger.getLogger("org.neo4j.impl.transaction.xaframework.XaLogicalLog/" + "nioneo_logical.log");
  level=log.getLevel();
  log.setLevel(Level.OFF);
  log=Logger.getLogger("org.neo4j.impl.nioneo.xa.NeoStoreXaDataSource");
  log.setLevel(Level.OFF);
  try {
    NeoStore.createStore("neo");
    eventManager=getEmbeddedNeo().getConfig().getEventModule().getEventManager();
    lockManager=getEmbeddedNeo().getConfig().getLockManager();
    lockReleaser=getEmbeddedNeo().getConfig().getLockReleaser();
    ds=new NeoStoreXaDataSource("neo","nioneo_logical.log",lockManager,lockReleaser,eventManager);
    xaCon=(NeoStoreXaConnection)ds.getXaConnection();
  }
 catch (  Exception e) {
    fail("" + e);
  }
}
