{
  CachedPageList list=new CachedPageList();
  Page page1=new BasicPage();
  Page page2=new BasicPage();
  Page page3=new BasicPage();
  page1.moveToTailOf(list);
  page2.moveToTailOf(list);
  page3.moveToTailOf(list);
  Page removedPage=list.removeHead();
  assertSame(page1,removedPage);
  assertEquals(2,list.size());
  assertSame(page2,list.head);
  assertSame(page3,list.tail);
  assertNull(page1.currentList);
  assertNull(page1.prevPage);
  assertNull(page1.nextPage);
  assertSame(list,page2.currentList);
  assertSame(list,page3.currentList);
  assertNull(page2.prevPage);
  assertSame(page2,page3.prevPage);
  assertSame(page3,page2.nextPage);
  assertNull(page3.nextPage);
}
