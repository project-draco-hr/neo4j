{
  IndexDefineCommand idc=new IndexDefineCommand();
  int count=IndexDefineCommand.HIGHEST_POSSIBLE_ID;
  for (int i=0; i < count; i++) {
    idc.getOrAssignKeyId("key" + i);
    idc.getOrAssignIndexNameId("index" + i);
  }
  try {
    idc.getOrAssignKeyId("dropThatOverflows");
    fail("IndexDefineCommand should not allow more than " + count + " indexes per transaction");
  }
 catch (  IllegalStateException e) {
  }
  try {
    idc.getOrAssignIndexNameId("dropThatOverflows");
    fail("IndexDefineCommand should not allow more than " + count + " keys per transaction");
  }
 catch (  IllegalStateException e) {
  }
}
