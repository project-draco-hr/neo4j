{
  NodeRecord nodeRecord=getNodeRecord(nodeId);
  if (nodeRecord != null && nodeRecord.isCreated()) {
    return null;
  }
  if (nodeRecord != null) {
    if (!nodeRecord.inUse() && !light) {
      throw new IllegalStateException("Node[" + nodeId + "] has been deleted in this tx");
    }
  }
  nodeRecord=getNodeStore().getRecord(nodeId);
  if (!nodeRecord.inUse()) {
    throw new InvalidRecordException("Node[" + nodeId + "] not in use");
  }
  return ReadTransaction.loadProperties(getPropertyStore(),nodeRecord.getNextProp());
}
