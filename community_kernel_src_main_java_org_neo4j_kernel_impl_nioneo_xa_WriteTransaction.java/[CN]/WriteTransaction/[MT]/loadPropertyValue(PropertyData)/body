{
  PropertyRecord propertyRecord=propertyRecords.get(propertyData.getId());
  if (propertyRecord == null) {
    propertyRecord=getPropertyStore().getRecord(propertyData.getId());
  }
  PropertyBlock block=propertyRecord.getPropertyBlock(propertyData.getIndex());
  if (block == null) {
    throw new IllegalStateException("Property with index[" + propertyData.getIndex() + "] is not present in property["+ propertyData.getId()+ "]");
  }
  if (block.isLight()) {
    getPropertyStore().makeHeavy(block);
  }
  return block.getType().getValue(block,getPropertyStore());
}
