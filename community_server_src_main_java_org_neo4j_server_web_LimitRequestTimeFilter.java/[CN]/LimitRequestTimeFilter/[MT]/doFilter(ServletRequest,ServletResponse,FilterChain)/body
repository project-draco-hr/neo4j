{
  HttpServletRequest request=(HttpServletRequest)req;
  int timeLimit=getTimeLimit(request);
  if (timeLimit <= 0) {
    chain.doFilter(req,res);
  }
 else {
    TimerTask timer=createTimer(timeLimit);
    try {
      chain.doFilter(req,res);
    }
  finally {
      timer.cancel();
    }
  }
}
