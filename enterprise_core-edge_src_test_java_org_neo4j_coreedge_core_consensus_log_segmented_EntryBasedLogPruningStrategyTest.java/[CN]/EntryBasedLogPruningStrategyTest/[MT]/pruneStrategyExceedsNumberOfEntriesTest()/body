{
  files=createSegmentFiles(10).subList(5,10);
  EntryBasedLogPruningStrategy strategy=new EntryBasedLogPruningStrategy(7,mock(LogProvider.class));
  long indexToKeep=strategy.getIndexToKeep(segments);
  assertEquals(4,indexToKeep);
}
