{
  Thread thread=Thread.currentThread();
  R resource=current.remove(thread);
  try {
    if (resource != null) {
      boolean dead=false;
synchronized (unused) {
        if (unused.size() < maxUnused) {
          unused.add(resource);
        }
 else {
          dead=true;
        }
      }
      if (dead)       dispose(resource);
    }
  }
  finally {
    resources.release();
  }
}
