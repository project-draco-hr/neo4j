{
  List<R> dead=new LinkedList<R>();
synchronized (unused) {
    dead.addAll(unused);
    unused.clear();
  }
  if (force) {
    dead.addAll(current.values());
  }
  for (  R resource : dead) {
    dispose(resource);
  }
}
