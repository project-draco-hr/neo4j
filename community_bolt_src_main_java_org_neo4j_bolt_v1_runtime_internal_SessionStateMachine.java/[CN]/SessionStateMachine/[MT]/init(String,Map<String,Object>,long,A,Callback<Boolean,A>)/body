{
  before(attachment,callback);
  try {
    state=state.init(this,clientName,authToken,currentHighestTransactionId);
  }
  finally {
    after();
  }
}
