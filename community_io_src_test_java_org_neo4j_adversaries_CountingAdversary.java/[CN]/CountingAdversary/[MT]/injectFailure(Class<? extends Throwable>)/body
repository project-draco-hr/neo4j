{
  int count, newCount;
  do {
    count=countDown.get();
    newCount=count - 1;
  }
 while (!countDown.compareAndSet(count,newCount));
  if (resetCountDownOnFailure && newCount < 1) {
    reset();
  }
  if (newCount == 0) {
    try {
      Thread.sleep(10);
    }
 catch (    InterruptedException e) {
      e.printStackTrace();
    }
    throwOneOf(failureTypes);
  }
}
