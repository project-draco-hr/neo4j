{
  if (!readAndFlip(byteChannel,buffer,8)) {
    return null;
  }
  long id=buffer.getLong();
  NodeRecord before=readNodeRecord(id,byteChannel,buffer);
  if (before == null) {
    return null;
  }
  NodeRecord after=readNodeRecord(id,byteChannel,buffer);
  if (after == null) {
    return null;
  }
  if (!before.inUse() && after.inUse()) {
    after.setCreated();
  }
  return new Command.NodeCommand().init(before,after);
}
