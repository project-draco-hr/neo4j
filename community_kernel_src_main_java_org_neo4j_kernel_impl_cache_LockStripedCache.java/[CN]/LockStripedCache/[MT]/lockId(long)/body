{
  int stripe=(int)(id / 32768) % locks.length;
  if (stripe < 0) {
    stripe*=-1;
  }
  ReentrantLock lock=locks[stripe];
  lock.lock();
  return lock;
}
