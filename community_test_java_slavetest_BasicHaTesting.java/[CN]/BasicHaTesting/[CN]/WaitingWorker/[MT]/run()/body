{
  beginTx();
  while (!halted.get() || hasMoreJobs()) {
    Job job=null;
synchronized (jobs) {
      job=jobs.poll();
    }
    if (job == null) {
      try {
        Thread.sleep(1);
      }
 catch (      InterruptedException e) {
        Thread.interrupted();
      }
      continue;
    }
    String result=job.execute(this);
synchronized (results) {
      if (result != null) {
        results.add(getName() + ":" + result);
      }
    }
  }
  endTx(true);
}
