{
  double firstNoneZeroValue=0;
  Iterator<Node> iter=nodeSet.iterator();
  while (iter.hasNext()) {
    Node next=iter.next();
    Double value=values.get(next);
    if (value == null) {
      values.put(next,0d);
      value=0d;
    }
    if (value < -1E-8 || value > 1E-8) {
      firstNoneZeroValue=value;
      break;
    }
  }
  if (firstNoneZeroValue < 0) {
    for (    Node node : nodeSet) {
      values.put(node,-values.get(node));
    }
  }
}
