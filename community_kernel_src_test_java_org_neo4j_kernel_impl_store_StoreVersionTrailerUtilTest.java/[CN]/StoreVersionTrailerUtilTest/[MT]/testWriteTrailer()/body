{
  String expectedTrailer=buildTypeDescriptorAndVersion(MetaDataStore.TYPE_DESCRIPTOR);
  byte[] encocdedTrailer=UTF8.encode(expectedTrailer);
  try (PagedFile pagedFile=pageCache.map(neoStoreFile,pageCache.pageSize())){
    long trailerOffset;
    trailerOffset=StoreVersionTrailerUtil.getTrailerPosition(pagedFile,expectedTrailer);
    StoreVersionTrailerUtil.writeTrailer(pagedFile,new byte[encocdedTrailer.length],trailerOffset);
    assertEquals(-1,StoreVersionTrailerUtil.getTrailerPosition(pagedFile,expectedTrailer));
    StoreVersionTrailerUtil.writeTrailer(pagedFile,encocdedTrailer,trailerOffset);
    assertEquals(trailerOffset,StoreVersionTrailerUtil.getTrailerPosition(pagedFile,expectedTrailer));
  }
 }
