{
  final String index="rels", key="name", value="Peter";
  GraphDatabaseService graphdb=graphdb();
  helper.createRelationshipIndex(index);
  Relationship rel;
  Transaction tx=graphdb.beginTx();
  try {
    Node node1=graphdb.createNode();
    Node node2=graphdb.createNode();
    rel=node1.createRelationshipTo(node2,MyRelationshipTypes.KNOWS);
    graphdb.index().forRelationships(index).add(rel,key,value);
    tx.success();
  }
  finally {
    tx.finish();
  }
  gen.get().noGraph().expectedStatus(409).payloadType(MediaType.APPLICATION_JSON_TYPE).payload("{\"key\": \"" + key + "\", \"value\": \""+ value+ "\", \"uri\":\""+ functionalTestHelper.relationshipUri(rel.getId())+ "\"}").post(functionalTestHelper.relationshipIndexUri() + index + "?uniqueness=create_or_fail");
}
