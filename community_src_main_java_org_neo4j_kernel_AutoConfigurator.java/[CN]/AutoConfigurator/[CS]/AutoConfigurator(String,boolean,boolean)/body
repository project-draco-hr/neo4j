{
  this.dbPath=dbPath;
  this.useMemoryMapped=useMemoryMapped;
  OperatingSystemMXBean osBean=ManagementFactory.getOperatingSystemMXBean();
  long mem=-1;
  try {
    Class<?> beanClass=Class.forName("com.sun.management.OperatingSystemMXBean");
    Method method=beanClass.getMethod("getTotalPhysicalMemorySize");
    mem=(Long)method.invoke(osBean);
  }
 catch (  Exception e) {
  }
catch (  LinkageError e) {
  }
  if (mem != -1) {
    totalPhysicalMemMb=(int)(mem / 1024 / 1024);
  }
 else {
    totalPhysicalMemMb=-1;
  }
  mem=Runtime.getRuntime().maxMemory();
  maxVmUsageMb=(int)(mem / 1024 / 1024);
  if (dump) {
    System.out.println(getNiceMemoryInformation());
  }
}
