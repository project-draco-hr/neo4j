{
  long[] nodes=createDijkstraGraph(false);
  Client client=Client.create();
  WebResource resource=client.resource(functionalTestHelper.nodeUri(nodes[0]) + "/path");
  ClientResponse response=resource.type(MediaType.APPLICATION_JSON).accept(MediaType.APPLICATION_JSON).entity(getAllPathsUsingDijkstraPayLoad(nodes[1],true)).post(ClientResponse.class);
  assertEquals(200,response.getStatus());
  Map<?,?> path=(Map<?,?>)JsonHelper.jsonToMap(response.getEntity(String.class));
  assertTrue(path.get("start").toString().endsWith("/node/" + nodes[0]));
  assertTrue(path.get("end").toString().endsWith("/node/" + nodes[1]));
  assertEquals(6,path.get("length"));
  assertEquals(6.0,path.get("weight"));
}
