{
  final MutableDouble shortestSoFar=new MutableDouble(Double.MAX_VALUE);
  final org.apache.commons.lang3.mutable.MutableDouble startSideShortest=new org.apache.commons.lang3.mutable.MutableDouble(0);
  final MutableDouble endSideShortest=new MutableDouble(0);
  PathExpander dijkstraExpander=new DijkstraBidirectionalPathExpander(expander,shortestSoFar,true,startSideShortest,endSideShortest,epsilon);
  GraphDatabaseService db=start.getGraphDatabase();
  TraversalDescription side=db.traversalDescription().expand(dijkstraExpander,stateFactory).order(new DijkstraSelectorFactory(interest,costEvaluator)).evaluator(new DijkstraBidirectionalEvaluator(costEvaluator)).uniqueness(Uniqueness.NODE_PATH);
  TraversalDescription startSide=side;
  TraversalDescription endSide=side.reverse();
  BidirectionalTraversalDescription traversal=db.bidirectionalTraversalDescription().startSide(startSide).endSide(endSide).collisionEvaluator(Evaluators.all()).collisionPolicy(new BranchCollisionPolicy(){
    @Override public BranchCollisionDetector create(    Evaluator evaluator,    Predicate<Path> pathPredicate){
      return new DijkstraBranchCollisionDetector(evaluator,costEvaluator,shortestSoFar,epsilon,pathPredicate);
    }
  }
);
  lastTraverser=traversal.traverse(start,end);
  return lastTraverser;
}
