{
  int position=channel.writerPosition();
  try (TransactionAppender appender=new PhysicalTransactionAppender(channel,txIdGenerator,positionCache)){
    PhysicalTransactionRepresentation transaction=new PhysicalTransactionRepresentation(singleCreateNodeCommand(),false);
    transaction.setHeader(additionalHeader,masterId,authorId,timeWritten,latestCommittedTxWhenStarted);
    appender.append(transaction);
  }
  finally {
    channel.positionWriter(position);
  }
}
