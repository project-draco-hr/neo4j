{
  long runTime=-1;
  Transaction tx=db.beginTx();
  try {
    Node startNode=db.getNodeById(startId);
    Node endNode=db.getNodeById(endId);
    for (int run=0; run < warmUpRuns; run++) {
      runPathOnce(startNode,endNode,db,pathFinder);
    }
    runTime=runPathOnce(startNode,endNode,db,pathFinder);
    tx.success();
  }
 catch (  Exception e) {
    tx.failure();
    throw new RuntimeException(e);
  }
 finally {
    tx.finish();
  }
  return runTime;
}
