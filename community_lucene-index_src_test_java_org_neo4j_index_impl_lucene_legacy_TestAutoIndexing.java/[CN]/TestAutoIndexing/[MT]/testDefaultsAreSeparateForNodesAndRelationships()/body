{
  stopDb();
  config=new HashMap<>();
  config.put(GraphDatabaseSettings.node_keys_indexable.name(),"propName");
  config.put(GraphDatabaseSettings.node_auto_indexing.name(),"true");
  startDb();
  newTransaction();
  Node node1=graphDb.createNode();
  Node node2=graphDb.createNode();
  node1.setProperty("propName","node1");
  node2.setProperty("propName","node2");
  node2.setProperty("propName_","node2");
  Relationship rel=node1.createRelationshipTo(node2,RelationshipType.withName("DYNAMIC"));
  rel.setProperty("propName","rel1");
  newTransaction();
  ReadableIndex<Node> autoIndex=graphDb.index().getNodeAutoIndexer().getAutoIndex();
  assertEquals(node1,autoIndex.get("propName","node1").getSingle());
  assertEquals(node2,autoIndex.get("propName","node2").getSingle());
  assertFalse(graphDb.index().getRelationshipAutoIndexer().getAutoIndex().get("propName","rel1").hasNext());
}
