{
  return (RemoteConnection)Proxy.newProxyInstance(RemoteConnection.class.getClassLoader(),new Class[]{RemoteConnection.class},new InvocationHandler(){
    public Object invoke(    Object proxy,    Method method,    Object[] args) throws Throwable {
      DynamicCallback<?> call=callback(method,method.getReturnType(),args);
      try {
        Object result=method.invoke(connection,args);
        call.success(result);
        return result;
      }
 catch (      Throwable ex) {
        call.failure(ex);
        throw ex;
      }
    }
  }
);
}
