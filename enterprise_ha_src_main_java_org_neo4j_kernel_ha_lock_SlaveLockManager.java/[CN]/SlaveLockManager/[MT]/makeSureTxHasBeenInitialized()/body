{
  if (!availabilityGuard.isAvailable(config.getAvailabilityTimeout())) {
    throw new RuntimeException("Timed out waiting for database to switch state");
  }
  txHook.remotelyInitializeTransaction(txManager.getEventIdentifier(),txManager.getTransactionState());
}
