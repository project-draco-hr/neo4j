{
  try (Cursor<NodeItem> cursor=nodeCursorById(state,nodeId)){
    NodeItem node=cursor.get();
    try (Cursor<LabelItem> labels=node.labels()){
      while (labels.next()) {
        int labelId=labels.get().getAsInt();
        int propertyKeyId=property.propertyKeyId();
        Iterator<NodePropertyConstraint> constraintIterator=uniquePropertyConstraints(schemaReadOperations.constraintsGetForLabelAndPropertyKey(state,labelId,propertyKeyId));
        if (constraintIterator.hasNext()) {
          validateNoExistingNodeWithLabelAndProperty(state,labelId,property.propertyKeyId(),property.value(),node.id());
        }
      }
    }
   }
   return entityWriteOperations.nodeSetProperty(state,nodeId,property);
}
