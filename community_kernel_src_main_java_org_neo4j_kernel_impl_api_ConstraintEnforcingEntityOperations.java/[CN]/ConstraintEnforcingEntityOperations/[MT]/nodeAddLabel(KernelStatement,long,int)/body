{
  Iterator<PropertyConstraint> constraints=uniquePropertyConstraints(schemaReadOperations.constraintsGetForLabel(state,labelId));
  while (constraints.hasNext()) {
    PropertyConstraint constraint=constraints.next();
    int propertyKeyId=constraint.propertyKeyId();
    Property property=entityReadOperations.nodeGetProperty(state,nodeId,propertyKeyId);
    if (property.isDefined()) {
      validateNoExistingNodeWithLabelAndProperty(state,labelId,(DefinedProperty)property,nodeId);
    }
  }
  return entityWriteOperations.nodeAddLabel(state,nodeId,labelId);
}
