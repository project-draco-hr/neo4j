{
  if (readOnly) {
    return new ReadOnlyNodeManager(config,this,lockManager,lockReleaser,txManager,persistenceManager,persistenceSource,relationshipTypeHolder,cacheType,propertyIndexManager,createNodeLookup(),createRelationshipLookups(),nodeCache,relCache,xaDataSourceManager);
  }
  return new NodeManager(config,this,lockManager,lockReleaser,txManager,persistenceManager,persistenceSource,relationshipTypeHolder,cacheType,propertyIndexManager,createNodeLookup(),createRelationshipLookups(),nodeCache,relCache,xaDataSourceManager);
}
