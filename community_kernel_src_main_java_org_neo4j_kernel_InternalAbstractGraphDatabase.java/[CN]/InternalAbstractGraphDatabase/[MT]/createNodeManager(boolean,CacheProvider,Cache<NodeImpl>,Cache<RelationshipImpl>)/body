{
  if (readOnly) {
    return new ReadOnlyNodeManager(config,logging.getMessagesLog(NodeManager.class),this,txManager,persistenceManager,persistenceSource,relationshipTypeHolder,cacheType,propertyIndexManager,createNodeLookup(),createRelationshipLookups(),nodeCache,relCache,xaDataSourceManager);
  }
  return new NodeManager(config,logging.getMessagesLog(NodeManager.class),this,txManager,persistenceManager,persistenceSource,relationshipTypeHolder,cacheType,propertyIndexManager,createNodeLookup(),createRelationshipLookups(),nodeCache,relCache,xaDataSourceManager);
}
