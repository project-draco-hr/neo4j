{
  create();
  Throwable error=null;
  try {
    enableAvailabilityLogging();
    registerRecovery();
    life.start();
  }
 catch (  final Throwable throwable) {
    error=new RuntimeException("Error starting " + getClass().getName() + ", "+ storeDir.getAbsolutePath(),throwable);
  }
 finally {
    if (error != null) {
      try {
        shutdown();
      }
 catch (      Throwable shutdownError) {
        msgLog.error("Failed to start database",error);
        error=Exceptions.withSuppressed(shutdownError,error);
      }
    }
  }
  if (error != null) {
    throw Exceptions.launderedException(error);
  }
}
