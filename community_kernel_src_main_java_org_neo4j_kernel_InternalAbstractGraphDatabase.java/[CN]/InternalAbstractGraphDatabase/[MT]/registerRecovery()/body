{
  life.addLifecycleListener(new LifecycleListener(){
    @Override public void notifyStatusChanged(    Object instance,    LifecycleStatus from,    LifecycleStatus to){
      if (instance instanceof KernelExtensions && to.equals(LifecycleStatus.STARTED) && txManager instanceof TxManager) {
        InternalAbstractGraphDatabase.this.doAfterRecoveryAndStartup();
      }
    }
  }
);
}
