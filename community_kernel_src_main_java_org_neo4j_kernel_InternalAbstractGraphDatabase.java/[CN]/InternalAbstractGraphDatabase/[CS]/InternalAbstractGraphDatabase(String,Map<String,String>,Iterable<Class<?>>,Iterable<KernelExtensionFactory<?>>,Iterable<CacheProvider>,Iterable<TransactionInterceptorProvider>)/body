{
  this.params=params;
  dependencyResolver=new DependencyResolverImpl();
  params.put(Configuration.store_dir.name(),storeDir);
  this.cacheProviders=mapCacheProviders(cacheProviders);
  config=new Config(params,getSettingsClasses(settingsClasses,kernelExtensions,cacheProviders));
  this.kernelExtensions=new KernelExtensions(kernelExtensions,config,dependencyResolver,UnsatisfiedDependencyStrategies.fail());
  this.transactionInterceptorProviders=new TransactionInterceptorProviders(transactionInterceptorProviders,dependencyResolver);
  this.storeDir=config.get(Configuration.store_dir);
}
