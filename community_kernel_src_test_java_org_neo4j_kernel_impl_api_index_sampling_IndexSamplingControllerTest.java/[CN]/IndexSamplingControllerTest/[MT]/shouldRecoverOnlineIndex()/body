{
  IndexSamplingController controller=newSamplingController();
  when(indexProxy.getState()).thenReturn(ONLINE);
  controller.recoverIndexSamples(Predicates.<IndexDescriptor>TRUE());
  verify(jobFactory).create(samplingConfig,indexProxy);
  verify(job).run();
  verifyNoMoreInteractions(jobFactory,job,tracker);
}
