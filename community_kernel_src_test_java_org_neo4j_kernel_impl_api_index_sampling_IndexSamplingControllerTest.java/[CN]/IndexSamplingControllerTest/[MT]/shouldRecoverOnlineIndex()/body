{
  IndexSamplingController controller=newSamplingController(TRUE);
  when(indexProxy.getState()).thenReturn(ONLINE);
  controller.recoverIndexSamples();
  verify(jobFactory).create(samplingConfig,indexProxy);
  verify(job).run();
  verifyNoMoreInteractions(jobFactory,job,tracker);
}
