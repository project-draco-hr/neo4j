{
  try (Transaction tx=db.beginTx()){
    db.schema().constraintFor(label).assertPropertyIsUnique(property).create();
    tx.success();
  }
   Node a, b;
  try (Transaction tx=db.beginTx()){
    a=db.createNode(label);
    a.setProperty(property,4611686018427387905L);
    tx.success();
  }
   try (Transaction tx=db.beginTx()){
    b=db.createNode(label);
    b.setProperty(property,4611686018427387907L);
    tx.success();
  }
   try (Transaction tx=db.beginTx()){
    assertThat(single(db.findNodesByLabelAndProperty(label,property,4611686018427387905L)),is(a));
    assertThat(single(db.findNodesByLabelAndProperty(label,property,4611686018427387907L)),is(b));
    tx.success();
  }
 }
