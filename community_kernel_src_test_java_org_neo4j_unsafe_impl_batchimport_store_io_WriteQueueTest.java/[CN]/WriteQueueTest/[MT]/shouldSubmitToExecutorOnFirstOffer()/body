{
  ExecutorService executor=mock(ExecutorService.class);
  JobMonitor jobMonitor=new JobMonitor();
  WriteQueue queue=new WriteQueue(executor,jobMonitor);
  assertFalse(jobMonitor.hasActiveJobs());
  WriteJob job1=mock(WriteJob.class);
  queue.offer(job1);
  verify(executor,times(1)).submit(any(Callable.class));
  assertTrue(jobMonitor.hasActiveJobs());
  WriteJob job2=mock(WriteJob.class);
  queue.offer(job2);
  verifyNoMoreInteractions(executor);
  assertTrue(jobMonitor.hasActiveJobs());
}
