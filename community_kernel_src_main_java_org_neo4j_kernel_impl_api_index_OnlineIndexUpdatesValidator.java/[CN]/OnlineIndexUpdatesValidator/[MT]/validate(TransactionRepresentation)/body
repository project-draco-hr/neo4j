{
  NodePropertyCommandsExtractor extractor=new NodePropertyCommandsExtractor();
  transaction.accept(extractor);
  if (!extractor.containsAnyNodeOrPropertyUpdate()) {
    return ValidatedIndexUpdates.NONE;
  }
  Iterable<NodePropertyUpdate> updates=new LazyIndexUpdates(nodeStore,propertyStore,propertyLoader,extractor.propertyCommandsByNodeIds,extractor.nodeCommandsById);
  return indexing.validate(updates,updateMode);
}
