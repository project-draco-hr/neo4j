{
  NodePropertyCommandsExtractor extractor=new NodePropertyCommandsExtractor();
  try {
    transaction.accept(extractor);
  }
 catch (  IOException cause) {
    kernelHealth.panic(cause);
    throw cause;
  }
  if (!extractor.containsAnyNodeOrPropertyUpdate()) {
    return ValidatedIndexUpdates.NONE;
  }
  Iterable<NodePropertyUpdate> updates=new LazyIndexUpdates(nodeStore,propertyStore,propertyLoader,extractor.propertyCommandsByNodeIds,extractor.nodeCommandsById);
  return indexing.validate(updates,updateMode);
}
