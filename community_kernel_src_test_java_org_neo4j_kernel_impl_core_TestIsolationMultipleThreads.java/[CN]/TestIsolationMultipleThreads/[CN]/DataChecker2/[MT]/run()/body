{
  System.out.println("Start checking data");
  int totalDiff=0;
  while (!done.get()) {
    try {
      int correctValue=-1;
      int diff=0;
      tx=database.beginTx();
      for (int i=0; i < count; i++) {
        int foo=getNodeValue(i);
        if (correctValue == -1)         correctValue=foo;
        diff=diff + foo - correctValue;
      }
      totalDiff+=diff;
      tx.success();
    }
 catch (    Exception e) {
      e.printStackTrace();
      tx.failure();
    }
 finally {
      tx.finish();
    }
  }
  System.out.printf("Done checking data, %d diff\n",totalDiff);
}
