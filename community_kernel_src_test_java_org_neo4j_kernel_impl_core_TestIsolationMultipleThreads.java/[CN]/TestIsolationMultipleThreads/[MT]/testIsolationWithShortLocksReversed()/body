{
  ExecutorService executor=Executors.newFixedThreadPool(2);
  final AtomicBoolean done=new AtomicBoolean(false);
  executor.submit(new DataChecker(done,database){
    @Override protected Integer getSecondValue(){
      Node nodeById=database.getNodeById(1);
      Lock lock=this.tx.acquireReadLock(nodeById);
      try {
        return (Integer)nodeById.getProperty("foo");
      }
  finally {
        lock.release();
      }
    }
    @Override protected Integer getFirstValue(){
      Node nodeById=database.getNodeById(1000);
      Lock lock=this.tx.acquireReadLock(nodeById);
      try {
        return (Integer)nodeById.getProperty("foo");
      }
  finally {
        lock.release();
      }
    }
  }
);
  new DataChanger(database,COUNT,done).call();
  executor.shutdownNow();
}
