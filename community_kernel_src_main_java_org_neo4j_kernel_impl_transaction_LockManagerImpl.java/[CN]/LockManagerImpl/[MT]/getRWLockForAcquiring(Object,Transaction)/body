{
  assertValidArguments(resource);
synchronized (resourceLockMap) {
    RWLock lock=resourceLockMap.get(resource);
    if (lock == null) {
      resourceLockMap.put(resource,lock=new RWLock(resource,ragManager));
    }
    lock.mark();
    return lock;
  }
}
