{
  assertValidArguments(resource,tx);
  RWLock lock=null;
synchronized (resourceLockMap) {
    lock=resourceLockMap.get(resource);
    if (lock == null) {
      lock=new RWLock(resource,ragManager);
      resourceLockMap.put(resource,lock);
    }
    lock.mark();
  }
  lock.acquireReadLock(tx);
}
