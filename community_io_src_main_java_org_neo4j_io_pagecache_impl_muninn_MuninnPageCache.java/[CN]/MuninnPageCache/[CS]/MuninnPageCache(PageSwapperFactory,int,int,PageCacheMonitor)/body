{
  verifyHacks();
  this.swapperFactory=swapperFactory;
  this.cachePageSize=cachePageSize;
  this.cursorPool=new MuninnCursorPool();
  this.monitor=monitor;
  this.pages=new MuninnPage[maxPages];
  MemoryReleaser memoryReleaser=new MemoryReleaser(maxPages);
  MuninnPage pageList=null;
  int cachePageId=maxPages;
  while (cachePageId-- > 0) {
    MuninnPage page=new MuninnPage(cachePageSize,cachePageId,memoryReleaser);
    pages[cachePageId]=page;
    page.nextFree=pageList;
    pageList=page;
  }
  freelist=new AtomicReference<>(pageList);
  freePageWaiters=new AtomicReference<>();
}
