{
  FileMapping prev=null;
  FileMapping current=mappedFiles;
  while (current != null) {
    if (current.file.equals(file)) {
      MuninnPagedFile pagedFile=current.pagedFile;
      if (pagedFile.decrementRefCount()) {
        if (prev == null) {
          mappedFiles=current.next;
        }
 else {
          prev.next=current.next;
        }
        monitor.unmappedFile(file);
        pagedFile.close();
      }
      break;
    }
    prev=current;
    current=current.next;
  }
}
