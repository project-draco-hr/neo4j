{
  Thread thread=Thread.currentThread();
  flushThread=thread;
  while (!thread.isInterrupted()) {
    boolean flushedAnything=flushAtIORatio(backgroundFlushIoRatio);
    if (!flushedAnything) {
      LockSupport.parkNanos(this,TimeUnit.SECONDS.toNanos(1));
    }
  }
}
