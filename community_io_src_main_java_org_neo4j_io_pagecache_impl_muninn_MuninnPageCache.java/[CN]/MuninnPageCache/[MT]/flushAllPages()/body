{
  try (MajorFlushEvent cacheFlush=tracer.beginCacheFlush()){
    for (int i=0; i < pages.length; i++) {
      MuninnPage page=pages[i];
      long stamp=page.readLock();
      try {
        page.flush(cacheFlush.flushEventOpportunity());
      }
  finally {
        page.unlockRead(stamp);
      }
    }
  }
 }
