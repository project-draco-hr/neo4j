{
  try (MajorFlushEvent cacheFlush=tracer.beginCacheFlush()){
    for (    MuninnPage page : pages) {
      long stamp=page.readLock();
      try {
        page.flush(cacheFlush.flushEventOpportunity());
      }
  finally {
        page.unlockRead(stamp);
      }
    }
    FileMapping fileMapping=mappedFiles;
    while (fileMapping != null) {
      fileMapping.pagedFile.force();
      fileMapping=fileMapping.next;
    }
  }
 }
