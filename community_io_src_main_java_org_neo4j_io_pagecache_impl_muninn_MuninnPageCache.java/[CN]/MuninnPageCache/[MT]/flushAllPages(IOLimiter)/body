{
  try (MajorFlushEvent cacheFlush=tracer.beginCacheFlush()){
    FlushEventOpportunity flushOpportunity=cacheFlush.flushEventOpportunity();
    FileMapping fileMapping=mappedFiles;
    while (fileMapping != null) {
      fileMapping.pagedFile.flushAndForceInternal(flushOpportunity,false,limiter);
      fileMapping=fileMapping.next;
    }
    syncDevice();
  }
 }
