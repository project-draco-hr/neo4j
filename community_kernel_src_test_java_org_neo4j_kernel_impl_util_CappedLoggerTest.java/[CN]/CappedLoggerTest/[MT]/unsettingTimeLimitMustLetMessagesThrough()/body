{
  FakeClock clock=new FakeClock(1000);
  logger.setTimeLimit(1,TimeUnit.MILLISECONDS,clock);
  logMethod.log(logger,"### AAA ###",null);
  logMethod.log(logger,"### BBB ###",null);
  clock.forward(1,TimeUnit.MILLISECONDS);
  logMethod.log(logger,"### CCC ###",null);
  logMethod.log(logger,"### DDD ###",null);
  logger.unsetTimeLimit();
  logMethod.log(logger,"### EEE ###",null);
  String output=buffer.toString();
  assertThat(output,containsString("### AAA ###"));
  assertThat(output,not(containsString("### BBB ###")));
  assertThat(output,containsString("### CCC ###"));
  assertThat(output,not(containsString("### DDD ###")));
  assertThat(output,containsString("### EEE ###"));
}
