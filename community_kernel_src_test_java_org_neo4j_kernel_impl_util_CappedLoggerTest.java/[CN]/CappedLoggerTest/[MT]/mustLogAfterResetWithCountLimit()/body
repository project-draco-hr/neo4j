{
  int limit=10;
  logger.setCountLimit(limit);
  String[] lines=logLines(limit + 1);
  logger.reset();
  String[] moreLines=logLines(1,limit + 1);
  assertLoggedLines(ArrayUtils.addAll(ArrayUtils.subarray(lines,0,limit),moreLines),1 + limit);
  logProvider.assertNone(currentLog(inLog(CappedLogger.class),containsString(lines[limit])));
  logProvider.assertContainsMessageMatching(containsString(moreLines[0]));
}
