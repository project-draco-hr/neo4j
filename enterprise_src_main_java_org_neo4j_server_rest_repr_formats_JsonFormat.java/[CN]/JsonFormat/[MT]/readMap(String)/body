{
  if (empty(input))   return Collections.emptyMap();
  try {
    return JsonHelper.jsonToMap(stripByteOrderMark(input));
  }
 catch (  JsonParseRuntimeException ex) {
    throw new BadInputException(ex);
  }
}
