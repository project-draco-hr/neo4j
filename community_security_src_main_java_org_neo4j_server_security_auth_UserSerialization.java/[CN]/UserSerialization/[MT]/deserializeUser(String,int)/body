{
  String[] parts=line.split(userSeparator,-1);
  boolean isSuspended;
  if (parts.length == 3) {
    isSuspended=false;
  }
 else   if (parts.length == 4) {
    isSuspended=parts[3].equals("is_suspended");
  }
 else {
    throw new FormatException(format("wrong number of line fields, expected 3 or 4, got %d [line %d]",parts.length,lineNumber));
  }
  return new User.Builder().withName(parts[0]).withCredentials(deserializeCredentials(parts[1],lineNumber)).withRequiredPasswordChange(parts[2].equals("password_change_required")).withIsSuspended(isSuspended).build();
}
