{
  try {
    assertValidName(name);
    users.save(new User.Builder().withName(name).withToken(newToken()).withPrivileges(privileges).build());
    authentication.setPassword(name,name);
    authentication.requirePasswordChange(name);
  }
 catch (  IllegalTokenException e) {
    throw new ThisShouldNotHappenError("Jake","There is no token set at this point.",e);
  }
}
