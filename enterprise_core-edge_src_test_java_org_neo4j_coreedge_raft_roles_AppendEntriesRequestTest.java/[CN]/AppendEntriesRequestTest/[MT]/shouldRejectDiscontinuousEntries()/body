{
  RaftState state=raftState().myself(myself).build();
  long leaderTerm=state.term() + leaderTermDifference;
  Outcome outcome=role.handler.handle(appendEntriesRequest().from(leader).leaderTerm(leaderTerm).prevLogIndex(state.entryLog().appendIndex() + 1).prevLogTerm(leaderTerm).logEntry(new RaftLogEntry(leaderTerm,content())).build(),state,log());
  Response response=(Response)messageFor(outcome,leader);
  assertEquals(state.entryLog().appendIndex(),response.appendIndex());
  assertFalse(response.success());
}
