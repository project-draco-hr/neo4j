{
  Throwable expected;
  Throwable exception=new ARuntimeException(new AnotherRuntimeException(new LevelFourException("",expected=new LevelThreeException("",new LevelFourException("")))));
  Throwable peeled=Exceptions.peel(exception,org.neo4j.function.Predicates.<Throwable>instanceOfAny(RuntimeException.class,LevelFourException.class));
  assertEquals(expected,peeled);
}
