{
  String path;
  try {
    path=file.getCanonicalPath();
  }
 catch (  IOException ex) {
    path=file.getAbsolutePath();
  }
  GraphDbContainer neo=instances.get(path);
  if (neo == null) {
    neo=new GraphDbContainer(new EmbeddedGraphDatabase(path));
    Runtime.getRuntime().addShutdownHook(new Thread(neo));
    instances.put(path,neo);
  }
  return neo;
}
