{
  int recordId=42;
  PageCursor pageCursor=mock(PageCursor.class);
  when(propertyStore.newReadCursor(recordId)).thenReturn(pageCursor);
  when(pageCursor.shouldRetry()).thenReturn(false);
  StorePropertyCursor storePropertyCursor=new StorePropertyCursor(propertyStore,cache);
  try (Cursor<PropertyItem> cursor=storePropertyCursor.init(recordId)){
    cursor.next();
    fail();
  }
 catch (  NotFoundException ex) {
    assertEquals("Property record with id " + recordId + " not in use",ex.getMessage());
  }
}
