{
  Map<String,String> configuration=new HashMap<String,String>(config);
  for (  Class settingsClass : settingsClasses) {
    for (    Field field : settingsClass.getFields()) {
      try {
        GraphDatabaseSetting setting=(GraphDatabaseSetting)field.get(null);
        if (!configuration.containsKey(setting.name())) {
          if (setting instanceof GraphDatabaseSetting.DefaultValue) {
            String defaultValue=((GraphDatabaseSetting.DefaultValue)setting).getDefaultValue();
            if (defaultValue != null)             configuration.put(setting.name(),defaultValue);
          }
 else {
            String defaultValue=getDefaultValue(field);
            if (defaultValue != null)             configuration.put(setting.name(),defaultValue);
          }
        }
      }
 catch (      IllegalAccessException e) {
        msgLog.logMessage("Could not apply defaults for");
      }
    }
  }
  return configuration;
}
