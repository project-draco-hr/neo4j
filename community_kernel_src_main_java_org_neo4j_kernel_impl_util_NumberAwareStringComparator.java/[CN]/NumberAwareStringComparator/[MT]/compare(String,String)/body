{
  Iterator<Comparable> c1=comparables(o1);
  Iterator<Comparable> c2=comparables(o2);
  boolean c1Has, c2Has;
  while ((c1Has=c1.hasNext()) | (c2Has=c2.hasNext())) {
    if (!c1Has) {
      return -1;
    }
    if (!c2Has) {
      return 1;
    }
    int diff=c1.next().compareTo(c2.next());
    if (diff != 0) {
      return diff;
    }
  }
  return 0;
}
