{
  List<E> result=new ArrayList<E>(batchSize);
  int size=0;
  for (; iterator.hasNext() && size < batchSize; size++) {
    result.add(iterator.next());
  }
  if (iterator.hasNext()) {
    map.put(token,iterator);
  }
  return result;
}
