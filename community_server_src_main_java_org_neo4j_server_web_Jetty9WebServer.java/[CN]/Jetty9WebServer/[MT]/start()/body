{
  if (jetty == null) {
    jetty=new Server(new QueuedThreadPool(jettyMaxThreads));
    HttpConfiguration httpConfig=new HttpConfiguration();
    httpConfig.setRequestHeaderSize(20 * 1024);
    HttpConnectionFactory httpFactory=new HttpConnectionFactory(httpConfig);
    ServerConnector connector=new ServerConnector(jetty,httpFactory);
    connector.setPort(jettyHttpPort);
    connector.setHost(jettyAddr);
    jetty.addConnector(connector);
    if (httpsEnabled) {
      if (httpsCertificateInformation != null) {
        jetty.addConnector(sslSocketFactory.createConnector(jetty,httpsCertificateInformation,jettyAddr,jettyHttpsPort));
      }
 else {
        throw new RuntimeException("HTTPS set to enabled, but no HTTPS configuration provided.");
      }
    }
  }
  handlers=new HandlerList();
  jetty.setHandler(handlers);
  MovedContextHandler redirector=new MovedContextHandler();
  handlers.addHandler(redirector);
  loadAllMounts();
  startJetty();
}
