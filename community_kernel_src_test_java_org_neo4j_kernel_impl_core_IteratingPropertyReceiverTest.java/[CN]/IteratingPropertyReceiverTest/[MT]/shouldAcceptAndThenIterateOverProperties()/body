{
  IteratingPropertyReceiver receiver=new IteratingPropertyReceiver();
  int propertyCount=100;
  for (int i=0; i < propertyCount; i++) {
    receiver.receive(Property.intProperty(1,i),5);
  }
  int count=0;
  while (receiver.hasNext()) {
    DefinedProperty property=receiver.next();
    assertEquals(count++,((Integer)property.value()).intValue());
  }
  assertFalse(receiver.hasNext());
  assertEquals(propertyCount,count);
}
