{
  Loaders loaders=new Loaders(neoStores);
  recordChangeSet=new RecordChangeSet(loaders);
  PropertyTraverser propertyTraverser=new PropertyTraverser();
  RelationshipGroupGetter relationshipGroupGetter=new RelationshipGroupGetter(neoStores.getRelationshipGroupStore());
  PropertyDeleter propertyDeleter=new PropertyDeleter(neoStores.getPropertyStore(),propertyTraverser);
  return new TransactionRecordState(neoStores,integrityValidator,recordChangeSet,0,new NoOpClient(),new RelationshipCreator(relationshipGroupGetter,neoStores.getRelationshipGroupStore().getDenseNodeThreshold()),new RelationshipDeleter(relationshipGroupGetter,propertyDeleter),new PropertyCreator(neoStores.getPropertyStore(),propertyTraverser),propertyDeleter);
}
