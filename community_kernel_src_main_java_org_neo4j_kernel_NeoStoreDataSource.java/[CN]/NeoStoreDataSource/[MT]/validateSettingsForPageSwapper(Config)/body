{
  if (config.get(GraphDatabaseSettings.pagecache_swapper) != null) {
    if (config.get(GraphDatabaseSettings.allow_store_upgrade)) {
      throw new IllegalArgumentException("Store upgrade not allowed with custom IO integrations");
    }
    String onlineBackup=config.getParams().get("dbms.backup.enabled");
    if (onlineBackup != null && !onlineBackup.equals("false")) {
      throw new IllegalArgumentException("Online Backup not allowed with custom IO integration");
    }
    for (    String configKey : config.getParams().keySet()) {
      if (configKey.contains("ha.")) {
        throw new IllegalArgumentException("HA mode not allowed with custom IO integrations");
      }
    }
  }
  return config;
}
