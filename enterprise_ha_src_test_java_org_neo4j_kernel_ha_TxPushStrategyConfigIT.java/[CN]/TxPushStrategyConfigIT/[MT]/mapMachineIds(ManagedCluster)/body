{
  machineIds=new InstanceId[cluster.size()];
  machineIds[0]=cluster.getServerId(cluster.getMaster());
  List<HighlyAvailableGraphDatabase> slaves=new ArrayList<HighlyAvailableGraphDatabase>();
  for (  HighlyAvailableGraphDatabase hadb : cluster.getAllMembers()) {
    if (!hadb.isMaster()) {
      slaves.add(hadb);
    }
  }
  Collections.sort(slaves,new Comparator<HighlyAvailableGraphDatabase>(){
    @Override public int compare(    HighlyAvailableGraphDatabase o1,    HighlyAvailableGraphDatabase o2){
      return cluster.getServerId(o1).compareTo(cluster.getServerId(o2));
    }
  }
);
  Iterator<HighlyAvailableGraphDatabase> iter=slaves.iterator();
  for (int i=1; iter.hasNext(); i++) {
    machineIds[i]=cluster.getServerId(iter.next());
  }
}
