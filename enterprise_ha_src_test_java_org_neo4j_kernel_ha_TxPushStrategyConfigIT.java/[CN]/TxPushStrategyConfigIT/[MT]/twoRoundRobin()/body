{
  ManagedCluster cluster=startCluster(4,2,HaSettings.TxPushStrategy.round_robin);
  long txId=getLastTx(cluster.getMaster());
  int count=15;
  for (int i=0; i < count; i++) {
    createTransactionOnMaster(cluster);
  }
  long min=-1, max=-1;
  for (  GraphDatabaseAPI db : cluster.getAllMembers()) {
    long tx=getLastTx(db);
    min=min == -1 ? tx : min(min,tx);
    max=max == -1 ? tx : max(max,tx);
  }
  assertEquals(txId + count,max);
  assertTrue("There should be members with transactions in the cluster",min != -1);
  assertTrue("There should be members with transactions in the cluster",max != -1);
  assertThat("There should at most be a txId gap of 1 among the cluster members since the transaction pushing " + "goes in a round robin fashion. min:" + min + ", max:"+ max,(int)(max - min),lessThanOrEqualTo(1));
}
