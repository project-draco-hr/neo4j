{
  TransactionTemplate template=new TransactionTemplate().with(db).retries(10).backoff(1,TimeUnit.SECONDS).monitor(new TransactionTemplate.Monitor.Adapter(){
    @Override public void retrying(){
      System.err.println("Retrying...");
    }
    @Override public void failure(    Throwable ex){
      System.err.println("Attempt failed with " + ex);
      cluster.await(allSeesAllAsAvailable());
      mapMachineIds(cluster);
    }
  }
);
  template.execute(new Consumer<Transaction>(){
    @Override public void accept(    Transaction transaction){
      db.createNode();
    }
  }
);
}
