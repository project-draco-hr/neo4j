{
  writeHeader(buffer);
  putIntOrLong(buffer,entityId);
switch (valueType) {
case VALUE_TYPE_STRING:
    write3bLengthAndString(buffer,value.toString());
  break;
case VALUE_TYPE_SHORT:
buffer.putShort(((Number)value).shortValue());
break;
case VALUE_TYPE_INT:
buffer.putInt(((Number)value).intValue());
break;
case VALUE_TYPE_LONG:
buffer.putLong(((Number)value).longValue());
break;
case VALUE_TYPE_FLOAT:
buffer.putFloat(((Number)value).floatValue());
break;
case VALUE_TYPE_DOUBLE:
buffer.putDouble(((Number)value).doubleValue());
break;
case VALUE_TYPE_NULL:
break;
default :
throw new RuntimeException("Unknown value type " + valueType);
}
}
