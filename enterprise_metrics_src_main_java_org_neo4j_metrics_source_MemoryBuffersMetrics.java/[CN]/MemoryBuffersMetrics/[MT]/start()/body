{
  for (  final BufferPoolMXBean pool : ManagementFactory.getPlatformMXBeans(BufferPoolMXBean.class)) {
    registry.register(name(MEMORY_BUFFER,prettifyName(pool.getName()),"count"),new Gauge<Long>(){
      @Override public Long getValue(){
        return pool.getCount();
      }
    }
);
    registry.register(name(MEMORY_BUFFER,prettifyName(pool.getName()),"used"),new Gauge<Long>(){
      @Override public Long getValue(){
        return pool.getMemoryUsed();
      }
    }
);
    registry.register(name(MEMORY_BUFFER,prettifyName(pool.getName()),"capacity"),new Gauge<Long>(){
      @Override public Long getValue(){
        return pool.getTotalCapacity();
      }
    }
);
  }
}
