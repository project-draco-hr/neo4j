{
  if (record.inUse()) {
    long nextMod=record.getNext() == Record.NO_NEXT_RELATIONSHIP.intValue() ? 0 : (record.getNext() & 0x700000000L) >> 31;
    long nextOutMod=record.getFirstOut() == Record.NO_NEXT_RELATIONSHIP.intValue() ? 0 : (record.getFirstOut() & 0x700000000L) >> 28;
    long nextInMod=record.getFirstIn() == Record.NO_NEXT_RELATIONSHIP.intValue() ? 0 : (record.getFirstIn() & 0x700000000L) >> 31;
    long nextLoopMod=record.getFirstLoop() == Record.NO_NEXT_RELATIONSHIP.intValue() ? 0 : (record.getFirstLoop() & 0x700000000L) >> 28;
    cursor.putByte(offset + IN_USE,(byte)(nextOutMod | nextMod | 1));
    cursor.putByte(offset + HIGH_BYTE,(byte)(nextLoopMod | nextInMod));
    cursor.putShort(offset + TYPE,(short)record.getType());
    cursor.putInt(offset + NEXT_LOW_BITS,(int)record.getNext());
    cursor.putInt(offset + NEXT_OUT_LOW_BITS,(int)record.getFirstOut());
    cursor.putInt(offset + NEXT_IN_LOW_BITS,(int)record.getFirstIn());
    cursor.putInt(offset + NEXT_LOOP_LOW_BITS,(int)record.getFirstLoop());
    cursor.putInt(offset + OWNER_LOW_BITS,(int)record.getOwningNode());
    cursor.putByte(offset + OWNER_HIGH_BITS,(byte)(record.getOwningNode() >> 32));
  }
 else {
    cursor.putByte(offset + IN_USE,(byte)0);
  }
}
