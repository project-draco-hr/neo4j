{
  ListIterator<RaftLogAppendRecord> iterator=staging.listIterator();
  while (iterator.hasNext()) {
    RaftLogAppendRecord next=iterator.next();
    if (condition.test(next.getLogIndex())) {
      logicallyNext.offer(next);
      iterator.remove();
    }
  }
  currentEntry=logicallyNext.poll();
}
