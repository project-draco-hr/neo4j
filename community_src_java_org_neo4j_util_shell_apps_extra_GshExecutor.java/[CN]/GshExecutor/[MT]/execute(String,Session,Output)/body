{
  this.ensureGroovyIsInClasspath();
  if (line == null || line.trim().length() == 0) {
    throw new ShellException("Need to supply groovy scripts");
  }
  List<String> pathList=this.getEnvPaths(session);
  Object groovyScriptEngine=this.newGroovyScriptEngine(pathList.toArray(new String[pathList.size()]));
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("out",new GshOutput(out));
  properties.put("session",session);
  this.runGroovyScripts(groovyScriptEngine,properties,line);
}
