{
  EphemeralFileSystemAbstraction fsa=new EphemeralFileSystemAbstraction();
  fsa.mkdir(testDir.directory());
  OnDiskRaftMembershipState<RaftTestMember> onDiskRaftMembershipState=new OnDiskRaftMembershipState<>(fsa,testDir.directory(),100,mock(Supplier.class),new RaftTestMarshal());
  final Set<RaftTestMember> members=new RaftTestGroup(1,2,3,4).getMembers();
  onDiskRaftMembershipState.setVotingMembers(members);
  assertEquals(new RaftTestGroup(1,2,3,4).getMembers(),onDiskRaftMembershipState.votingMembers());
}
