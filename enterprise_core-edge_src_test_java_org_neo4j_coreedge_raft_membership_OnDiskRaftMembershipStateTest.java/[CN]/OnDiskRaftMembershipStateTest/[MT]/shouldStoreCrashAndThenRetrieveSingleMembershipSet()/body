{
  EphemeralFileSystemAbstraction fsa=new EphemeralFileSystemAbstraction();
  fsa.mkdir(testDir.directory());
  RaftTestGroup raftTestGroup=new RaftTestGroup(1,2,3,4);
  long atLogIndex=123L;
  OnDiskRaftMembershipState<RaftTestMember> initial=new OnDiskRaftMembershipState<>(fsa,testDir.directory(),100,mock(Supplier.class),new RaftTestMarshal(),NullLogProvider.getInstance());
  initial.setVotingMembers(raftTestGroup.getMembers());
  initial.logIndex(atLogIndex);
  final OnDiskRaftMembershipState<RaftTestMember> state=new OnDiskRaftMembershipState<>(fsa,testDir.directory(),100,mock(Supplier.class),new RaftTestMarshal(),NullLogProvider.getInstance());
  assertEquals(raftTestGroup.getMembers(),state.votingMembers());
  assertEquals(atLogIndex,state.logIndex());
}
