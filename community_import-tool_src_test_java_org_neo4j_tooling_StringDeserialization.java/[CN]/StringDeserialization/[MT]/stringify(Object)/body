{
  if (value instanceof String) {
    String string=(String)value;
    boolean quote=string.indexOf('.') != -1 || string.indexOf(config.quotationCharacter()) != -1;
    if (quote) {
      builder.append(config.quotationCharacter());
    }
    builder.append(string);
    if (quote) {
      builder.append(config.quotationCharacter());
    }
  }
 else   if (value.getClass().isArray()) {
    int length=Array.getLength(value);
    for (int i=0; i < length; i++) {
      Object item=Array.get(value,i);
      if (i > 0) {
        builder.append(config.arrayDelimiter());
      }
      stringify(item);
    }
  }
 else   if (value instanceof Number) {
    Number number=(Number)value;
    if (value instanceof Float) {
      builder.append(number.floatValue());
    }
 else     if (value instanceof Double) {
      builder.append(number.doubleValue());
    }
 else {
      builder.append(number.longValue());
    }
  }
 else   if (value instanceof Boolean) {
    builder.append(((Boolean)value).booleanValue());
  }
 else {
    throw new IllegalArgumentException(value.toString() + " " + value.getClass().getSimpleName());
  }
}
