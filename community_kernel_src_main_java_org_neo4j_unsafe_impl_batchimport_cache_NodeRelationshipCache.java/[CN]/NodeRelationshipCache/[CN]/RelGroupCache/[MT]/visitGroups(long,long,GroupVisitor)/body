{
  long currentIndex=relGroupIndex;
  long first=-1;
  while (currentIndex != EMPTY) {
    int type=NextFieldManipulator.getType(getField(currentIndex,INDEX_NEXT_AND_TYPE));
    long out=IdFieldManipulator.getId(getField(currentIndex,INDEX_OUT));
    long in=IdFieldManipulator.getId(getField(currentIndex,INDEX_IN));
    long loop=IdFieldManipulator.getId(getField(currentIndex,INDEX_LOOP));
    long next=NextFieldManipulator.getNext(getField(currentIndex,INDEX_NEXT_AND_TYPE));
    long id=visitor.visit(nodeId,type,next,out,in,loop);
    if (first == -1) {
      first=id;
    }
    currentIndex=next;
  }
  return first;
}
