{
  log.info("Instance " + leftInstanceId + " is leaving the cluster");
  this.members=new HashMap<InstanceId,URI>(members);
  members.remove(leftInstanceId);
  Iterator<Map.Entry<String,InstanceId>> entries=roles.entrySet().iterator();
  while (entries.hasNext()) {
    Map.Entry<String,InstanceId> roleEntry=entries.next();
    if (roleEntry.getValue().equals(leftInstanceId)) {
      log.info("Removed role " + roleEntry.getValue() + " from leaving instance "+ roleEntry.getKey());
      entries.remove();
    }
  }
}
