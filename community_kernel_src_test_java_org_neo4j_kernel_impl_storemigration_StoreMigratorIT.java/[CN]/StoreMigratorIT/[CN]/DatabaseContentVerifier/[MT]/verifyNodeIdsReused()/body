{
  Transaction transaction=database.beginTx();
  try {
    database.getNodeById(1);
    fail("Node 2 should not exist");
  }
 catch (  NotFoundException e) {
  }
 finally {
    transaction.finish();
  }
  transaction=database.beginTx();
  try {
    Node newNode=database.createNode();
    assertEquals(1,newNode.getId());
    transaction.success();
  }
  finally {
    transaction.finish();
  }
}
