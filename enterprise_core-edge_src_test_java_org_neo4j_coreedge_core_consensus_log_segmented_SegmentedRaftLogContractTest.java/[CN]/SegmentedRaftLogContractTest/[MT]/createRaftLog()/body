{
  File directory=new File(PHYSICAL_LOG_DIRECTORY_NAME);
  FileSystemAbstraction fileSystem=fsRule.get();
  fileSystem.mkdir(directory);
  LogProvider logProvider=getInstance();
  CoreLogPruningStrategy pruningStrategy=new CoreLogPruningStrategyFactory("1 entries",logProvider).newInstance();
  return life.add(new SegmentedRaftLog(fileSystem,directory,1024,new DummyRaftableContentSerializer(),logProvider,8,Clocks.fakeClock(),new OnDemandJobScheduler(),pruningStrategy));
}
