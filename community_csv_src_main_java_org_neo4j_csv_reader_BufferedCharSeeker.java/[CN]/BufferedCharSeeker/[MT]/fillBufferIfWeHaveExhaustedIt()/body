{
  if (bufferPos >= bufferEnd) {
    if (bufferPos - seekStartPos >= charBuffer.pivot()) {
      throw new IllegalStateException("Tried to read in a value larger than effective buffer size " + charBuffer.pivot());
    }
    absoluteBufferStartPosition+=charBuffer.available();
    charBuffer=reader.read(charBuffer,seekStartPos);
    buffer=charBuffer.array();
    bufferPos=charBuffer.pivot();
    bufferEnd=charBuffer.front();
    int shift=seekStartPos - charBuffer.back();
    seekStartPos=charBuffer.back();
    lineStartPos-=shift;
    String sourceDescriptionAfterRead=reader.sourceDescription();
    if (!sourceDescription.equals(sourceDescriptionAfterRead)) {
      lineNumber=0;
      sourceDescription=sourceDescriptionAfterRead;
    }
    return charBuffer.hasAvailable();
  }
  return true;
}
