{
  OwnerCheck decorator=new OwnerCheck(true);
  RecordCheck<RelationshipRecord,ConsistencyReport.RelationshipConsistencyReport> relationshipChecker=decorator.decorateRelationshipChecker(dummyRelationshipChecker());
  RecordAccessStub records=new RecordAccessStub();
  RelationshipRecord relationship1=records.add(inUse(new RelationshipRecord(1,0,1,0)));
  relationship1.setNextProp(7);
  RelationshipRecord relationship2=records.add(inUse(new RelationshipRecord(2,0,1,0)));
  relationship2.setNextProp(relationship1.getNextProp());
  ConsistencyReport.RelationshipConsistencyReport report1=check(ConsistencyReport.RelationshipConsistencyReport.class,relationshipChecker,relationship1,records);
  ConsistencyReport.RelationshipConsistencyReport report2=check(ConsistencyReport.RelationshipConsistencyReport.class,relationshipChecker,relationship2,records);
  verifyZeroInteractions(report1);
  verify(report2).multipleOwners(relationship1);
}
