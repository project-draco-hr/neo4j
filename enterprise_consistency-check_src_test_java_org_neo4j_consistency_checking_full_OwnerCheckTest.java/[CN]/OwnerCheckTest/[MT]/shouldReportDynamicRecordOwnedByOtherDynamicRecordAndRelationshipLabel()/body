{
  RecordAccessStub records=new RecordAccessStub();
  OwnerCheck decorator=new OwnerCheck(true,DynamicStore.RELATIONSHIP_LABEL);
  RecordCheck<DynamicRecord,ConsistencyReport.DynamicConsistencyReport> dynChecker=decorator.decorateDynamicChecker(RecordType.RELATIONSHIP_LABEL_NAME,dummyDynamicCheck(configureDynamicStore(50),DynamicStore.RELATIONSHIP_LABEL));
  RecordCheck<RelationshipTypeRecord,ConsistencyReport.LabelConsistencyReport> labelCheck=decorator.decorateLabelChecker(dummyRelationshipLabelCheck());
  DynamicRecord owned=records.addLabelName(inUse(string(new DynamicRecord(42))));
  DynamicRecord dynamic=records.addLabelName(inUse(string(new DynamicRecord(1))));
  RelationshipTypeRecord label=records.add(inUse(new RelationshipTypeRecord(1)));
  dynamic.setNextBlock(owned.getId());
  label.setNameId((int)owned.getId());
  ConsistencyReport.DynamicConsistencyReport dynReport=check(ConsistencyReport.DynamicConsistencyReport.class,dynChecker,dynamic,records);
  ConsistencyReport.LabelConsistencyReport labelReport=check(ConsistencyReport.LabelConsistencyReport.class,labelCheck,label,records);
  verifyOnlyReferenceDispatch(dynReport);
  verify(labelReport).nameMultipleOwners(dynamic);
  verifyOnlyReferenceDispatch(labelReport);
}
