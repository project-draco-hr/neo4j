{
  this.logFile=logFile;
  this.transactionIdStore=transactionIdStore;
  this.legacyIndexTransactionOrdering=legacyIndexTransactionOrdering;
  this.channel=logFile.getWriter();
  this.txIdGenerator=txIdGenerator;
  this.transactionMetadataCache=transactionMetadataCache;
  this.indexCommandDetector=new IndexCommandDetector(new CommandWriter(channel));
  this.transactionLogWriter=new TransactionLogWriter(new LogEntryWriterv1(channel,indexCommandDetector));
}
