def test_relate_Person(self):
    with self.graphdb.transaction:
        cypher = Person(self.graphdb, name='Cypher', birthday=datetime.datetime(1972, 10, 16))
        smith = Person(self.graphdb, name='Agent Smith', birthday=datetime.datetime(1996, 1, 1))
        cypher.friends.add(smith)
    friends = list(smith.friends)
    self.assertEqual(1, len(friends))
    self.assertEqual(cypher, friends[0])
