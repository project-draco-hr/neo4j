def test_access_relationship(self):
    with self.graphdb.transaction:
        cypher = Person(self.graphdb, name='Cypher', birthday=datetime.datetime(1972, 10, 16))
        smith = Person(self.graphdb, name='Agent Smith', birthday=datetime.datetime(1996, 1, 1))
        cypher.friends.add(smith, introduced=datetime.datetime(1999, 1, 1))
    friendships = list(smith.friends.rels())
    self.assertEqual(1, len(friendships))
    self.assertEqual(datetime.datetime(1999, 1, 1), friendships[0].introduced)
