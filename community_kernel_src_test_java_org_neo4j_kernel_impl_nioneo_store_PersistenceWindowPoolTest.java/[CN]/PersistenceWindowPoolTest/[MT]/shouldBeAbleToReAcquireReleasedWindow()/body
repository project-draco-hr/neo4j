{
  String filename=new File(directory.directory(),"mapped.file").getAbsolutePath();
  RandomAccessFile file=resources.add(new RandomAccessFile(filename,"rw"));
  PersistenceWindowPool pool=new PersistenceWindowPool(new File("test.store"),8,file.getChannel(),0,false,false,new ConcurrentHashMap<Long,PersistenceRow>(),StringLogger.DEV_NULL);
  PersistenceWindow initialWindow=pool.acquire(0,OperationType.READ);
  pool.release(initialWindow);
  PersistenceWindow window=pool.acquire(0,OperationType.READ);
  assertNotSame(initialWindow,window);
  pool.close();
  file.close();
}
