{
  this.neo=new EmbeddedGraphDatabase(path,params);
  this.xaDs=(NeoStoreXaDataSource)neo.getConfig().getTxModule().getXaDataSourceManager().getXaDataSource("nioneodb");
  xaDs.keepLogicalLogs(true);
  this.port=listenPort;
  try {
    serverChannel=ServerSocketChannel.open();
    serverChannel.configureBlocking(false);
    serverChannel.socket().bind(new InetSocketAddress(listenPort));
  }
 catch (  IOException e) {
    throw new SocketException("Unable to bind at port[" + listenPort + "]",e);
  }
  jobEater=new JobEater();
  jobEater.addJob(new AcceptJob(this,serverChannel));
  jobEater.start();
}
