{
  msgLog.logMessage("MasterClient shutdown");
synchronized (channels) {
    for (    Pair<Channel,ChannelBuffer> channel : unusedChannels) {
      channel.first().close();
    }
    for (    Pair<Channel,ChannelBuffer> channel : channels.values()) {
      channel.first().close();
    }
    executor.shutdown();
  }
}
