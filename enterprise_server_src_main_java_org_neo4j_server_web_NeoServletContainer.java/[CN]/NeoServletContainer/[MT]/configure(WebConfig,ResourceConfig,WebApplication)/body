{
  super.configure(wc,rc,wa);
  rc.getSingletons().add(new DatabaseProvider(server.getDatabase()));
  rc.getSingletons().add(new GraphDatabaseServiceProvider(server.getDatabase().graph));
  rc.getSingletons().add(new NeoServerProvider(server));
  rc.getSingletons().add(new ConfigurationProvider(server.getConfiguration()));
  if (server.getDatabase().rrdDb() != null) {
    rc.getSingletons().add(new RrdDbProvider(server.getDatabase().rrdDb()));
  }
  RepresentationFormatRepository repository=new RepresentationFormatRepository(server.getExtensionManager());
  rc.getSingletons().add(new InputFormatProvider(repository));
  rc.getSingletons().add(new OutputFormatProvider(repository));
  rc.getSingletons().add(new PluginInvocatorProvider(server.getExtensionManager()));
}
