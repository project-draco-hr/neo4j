{
  Directory directory=directoryFactory.open(indexDir);
  SearcherManager manager=new SearcherManager(directory,new SearcherFactory());
  IndexSearcher searcher=manager.acquire();
  try {
    List<Long> nodes=new ArrayList<Long>();
    LuceneDocumentStructure documentStructure=new LuceneDocumentStructure();
    searcher.search(documentStructure.newQuery(propertyValue),new AllNodesCollector(documentStructure,nodes));
    return nodes;
  }
  finally {
    manager.release(searcher);
    manager.close();
    directory.close();
  }
}
