{
  if (firstAvail && otherAvail) {
    int cmp=firstKey.compareTo(otherKey.buffer);
    if (cmp < 0) {
      firstKey.read(key);
      firstValue.read(value);
      firstAvail=first.visit(firstKey,firstValue);
    }
 else {
      otherKey.read(key);
      otherValue.read(value);
      otherAvail=other.visit(otherKey,otherValue);
      if (cmp == 0) {
        firstAvail=first.visit(firstKey,firstValue);
      }
    }
    return true;
  }
 else   if (firstAvail) {
    firstKey.read(key);
    firstValue.read(value);
    firstAvail=first.visit(firstKey,firstValue);
    return true;
  }
 else   if (otherAvail) {
    otherKey.read(key);
    otherValue.read(value);
    otherAvail=other.visit(otherKey,otherValue);
    return true;
  }
 else {
    return false;
  }
}
