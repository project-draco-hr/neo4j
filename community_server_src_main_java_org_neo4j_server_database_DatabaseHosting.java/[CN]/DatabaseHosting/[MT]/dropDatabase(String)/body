{
  if (registry.contains(dbKey)) {
    DatabaseDefinition definition=configDb.dropDatabase(dbKey);
    registry.drop(dbKey);
    if (definition.mode() == Mode.MANAGED) {
      File path=definition.path();
      if (path != null && path.getPath().length() > 0) {
        try {
          FileUtils.deleteRecursively(path);
        }
 catch (        IOException e) {
          throw new RuntimeException(e);
        }
      }
    }
  }
}
