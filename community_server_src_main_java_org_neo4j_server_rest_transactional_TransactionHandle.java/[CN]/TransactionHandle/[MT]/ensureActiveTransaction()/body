{
  if (context == null) {
    try {
      context=(TransitionalTxManagementTransactionContext)kernel.newTransactionContext();
    }
 catch (    RuntimeException e) {
      log.error("Failed to start transaction.",e);
      throw new InternalBeginTransactionError(e);
    }
  }
 else {
    context.resumeSinceTransactionsAreStillThreadBound();
  }
}
