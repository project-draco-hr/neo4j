{
  Integer previous;
  if ((previous=nameToId.put(token.name(),token.id())) != null && previous != token.id()) {
    throw new NonUniqueTokenException(owningClass,token.name(),token.id(),previous);
  }
}
