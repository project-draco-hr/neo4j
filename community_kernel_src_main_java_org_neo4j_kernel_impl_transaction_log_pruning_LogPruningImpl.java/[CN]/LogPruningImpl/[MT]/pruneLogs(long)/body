{
  if (pruneLock.tryLock()) {
    Thread thread=Thread.currentThread();
    String threadStr="[" + thread.getId() + ":"+ thread.getName()+ "]";
    msgLog.info(prefix(upToVersion) + threadStr + " Starting log pruning.");
    try {
      pruneStrategy.prune(upToVersion);
    }
  finally {
      pruneLock.unlock();
    }
    msgLog.info(prefix(upToVersion) + threadStr + " Log pruning complete.");
  }
}
