{
  final CoreTopologyService coreTopologyService=mock(CoreTopologyService.class);
  Map<MemberId,CoreAddresses> coreMembers=new HashMap<>();
  coreMembers.put(member(0),coreAddresses(0));
  final CoreTopology clusterTopology=new CoreTopology(clusterId,false,coreMembers);
  when(coreTopologyService.coreServers()).thenReturn(clusterTopology);
  final DiscoverEndpointAcquisitionServersProcedure proc=new DiscoverEndpointAcquisitionServersProcedure(coreTopologyService,NullLogProvider.getInstance());
  final List<Object[]> members=asList(proc.apply(null,new Object[0]));
  assertArrayEquals(members.get(0),new Object[]{coreAddresses(0).getRaftServer().toString()});
}
