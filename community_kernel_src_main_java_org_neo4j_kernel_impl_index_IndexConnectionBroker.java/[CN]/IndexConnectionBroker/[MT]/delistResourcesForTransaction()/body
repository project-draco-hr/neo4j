{
  Transaction tx=this.getCurrentTransaction();
  if (tx == null) {
    throw new NotInTransactionException();
  }
  T con=txConnectionMap.get(tx);
  if (con != null) {
    try {
      con.delistResource(tx,XAResource.TMSUCCESS);
    }
 catch (    IllegalStateException|SystemException e) {
      throw new RuntimeException("Unable to delist lucene resource from tx",e);
    }
  }
}
