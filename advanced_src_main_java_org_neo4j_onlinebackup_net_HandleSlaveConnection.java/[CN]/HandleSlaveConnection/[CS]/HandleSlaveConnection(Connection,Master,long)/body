{
  super(connection,master);
  this.master=master;
  if (master.hasLog(slaveVersion)) {
    logVersionToSend=slaveVersion;
    logLength=master.getLogLength(slaveVersion);
    try {
      logToSend=master.getLog(slaveVersion);
    }
 catch (    IOException e) {
      throw new SocketException("Error getting next log",e);
    }
  }
  setStatus(Status.GET_MESSAGE);
}
