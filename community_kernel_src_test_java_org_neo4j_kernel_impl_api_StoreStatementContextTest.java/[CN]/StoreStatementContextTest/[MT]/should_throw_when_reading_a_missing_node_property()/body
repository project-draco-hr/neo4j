{
  String propertyKey="myproperty";
  int propertyValue=42;
  Transaction tx=db.beginTx();
  Node node=db.createNode();
  node.setProperty(propertyKey,propertyValue);
  long nodeId=db.createNode().getId();
  tx.success();
  tx.finish();
  long propertyKeyId=statement.getPropertyKeyId(propertyKey);
  try {
    statement.getNodePropertyValue(nodeId,propertyKeyId);
    fail("Should have thrown exception");
  }
 catch (  PropertyNotFoundException e) {
    assertEquals("No property with id 0 on node with id 2",e.getMessage());
  }
}
