{
  ResourcePool<Something> pool=new ResourcePool<Something>(10,5){
    @Override protected Something create(){
      return new Something();
    }
    @Override protected boolean isAlive(    Something resource){
      return !resource.closed;
    }
  }
;
  Something somethingFirst=pool.acquire(true);
  somethingFirst.doStuff();
  pool.release();
  Something something=pool.acquire(true);
  assertEquals(somethingFirst,something);
  something.doStuff();
  something.close();
  pool.release();
  Something somethingElse=pool.acquire(true);
  assertFalse(something == somethingElse);
  somethingElse.doStuff();
}
