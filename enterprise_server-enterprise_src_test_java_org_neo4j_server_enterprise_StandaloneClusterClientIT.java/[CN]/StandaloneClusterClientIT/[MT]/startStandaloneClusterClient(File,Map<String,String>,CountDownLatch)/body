{
  Process process=null;
  ProcessStreamHandler handler=null;
  try {
    process=startStandaloneClusterClientProcess(configFile,config);
    new InputStreamAwaiter(process.getInputStream()).awaitLine(START_SIGNAL,20,SECONDS);
    handler=new ProcessStreamHandler(process,false,"",IGNORE_FAILURES);
    handler.launch();
    return latch.await(10,SECONDS);
  }
  finally {
    if (process != null) {
      kill(process);
      process.waitFor();
    }
    if (handler != null) {
      handler.done();
    }
  }
}
