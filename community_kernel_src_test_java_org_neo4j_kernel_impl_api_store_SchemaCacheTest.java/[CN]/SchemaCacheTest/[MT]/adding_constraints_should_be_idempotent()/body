{
  Collection<SchemaRule> rules=asList();
  SchemaCache cache=new SchemaCache(rules);
  cache.addSchemaRule(uniquenessConstraintRule(0l,1,2,133l));
  cache.addSchemaRule(uniquenessConstraintRule(0l,1,2,133l));
  assertEquals(asList(new UniquenessConstraint(1,2)),IteratorUtil.asList(cache.constraints()));
}
