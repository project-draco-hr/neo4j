{
  SchemaCache cache=newSchemaCache();
  cache.addSchemaRule(uniquenessConstraintRule(0l,1,2,133l));
  cache.addSchemaRule(uniquenessConstraintRule(1l,3,4,133l));
  cache.addSchemaRule(mandatoryRelPropertyConstraintRule(2l,5,6));
  cache.addSchemaRule(mandatoryNodePropertyConstraintRule(3l,7,8));
  assertEquals(asSet(new UniquenessConstraint(1,2),new UniquenessConstraint(3,4),new MandatoryRelationshipPropertyConstraint(5,6),new MandatoryNodePropertyConstraint(7,8)),asSet(cache.constraints()));
  assertEquals(asSet(new UniquenessConstraint(1,2)),asSet(cache.constraintsForLabel(1)));
  assertEquals(asSet(new UniquenessConstraint(1,2)),asSet(cache.constraintsForLabelAndProperty(1,2)));
  assertEquals(asSet(),asSet(cache.constraintsForLabelAndProperty(1,3)));
  assertEquals(asSet(new MandatoryRelationshipPropertyConstraint(5,6)),asSet(cache.constraintsForRelationshipType(5)));
  assertEquals(asSet(new MandatoryRelationshipPropertyConstraint(5,6)),asSet(cache.constraintsForRelationshipTypeAndProperty(5,6)));
}
