{
  MandatoryRelationshipPropertyConstraintRule rule1=mandatoryRelPropertyConstraintRule(0,1,1);
  MandatoryRelationshipPropertyConstraintRule rule2=mandatoryRelPropertyConstraintRule(0,2,1);
  MandatoryRelationshipPropertyConstraintRule rule3=mandatoryRelPropertyConstraintRule(0,1,2);
  SchemaCache cache=newSchemaCache(rule1,rule2,rule3);
  Set<RelationshipPropertyConstraint> listed=asSet(cache.constraintsForRelationshipType(1));
  Set<RelationshipPropertyConstraint> expected=asSet(rule1.toConstraint(),rule3.toConstraint());
  assertEquals(expected,listed);
}
