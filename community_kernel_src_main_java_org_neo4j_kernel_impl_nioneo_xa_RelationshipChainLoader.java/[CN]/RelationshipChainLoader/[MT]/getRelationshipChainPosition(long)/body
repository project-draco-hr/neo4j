{
  NodeRecord node;
  try {
    node=nodeStore.getRecord(id);
  }
 catch (  InvalidRecordException e) {
    return RelationshipLoadingPosition.EMPTY;
  }
  if (node.isDense()) {
    long firstGroup=node.getNextRel();
    if (firstGroup == Record.NO_NEXT_RELATIONSHIP.intValue()) {
      return RelationshipLoadingPosition.EMPTY;
    }
    Map<Integer,RelationshipGroupRecord> groups=loadRelationshipGroups(node);
    return new DenseNodeChainPosition(groups);
  }
  long firstRel=node.getNextRel();
  return firstRel == Record.NO_NEXT_RELATIONSHIP.intValue() ? RelationshipLoadingPosition.EMPTY : new SingleChainPosition(firstRel);
}
