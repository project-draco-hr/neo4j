{
  return new NestingIterable<Relationship,RelationshipType>(Arrays.asList(types)){
    @Override protected Iterator<Relationship> createNestedIterator(    RelationshipType item){
      Direction direction=directions.get(item.name());
      direction=direction == null ? Direction.BOTH : direction;
      direction=reversedDirection ? direction.reverse() : direction;
      return direction == Direction.BOTH ? start.getRelationships(item).iterator() : start.getRelationships(item,direction).iterator();
    }
  }
;
}
