{
  long highestSeen=-1;
  for (  File file : fileSystem.listFiles(logBaseName.getParentFile())) {
    String fileName=file.getName();
    if (fileName.startsWith(logBaseName.getName())) {
      Pattern p=Pattern.compile("^.*\\.v([0-9]+)$");
      Matcher m=p.matcher(fileName);
      if (m.find()) {
        highestSeen=Math.max(highestSeen,Integer.parseInt(m.group(1)));
      }
    }
  }
  return highestSeen > -1 ? highestSeen + 1 : fallbackVersion;
}
