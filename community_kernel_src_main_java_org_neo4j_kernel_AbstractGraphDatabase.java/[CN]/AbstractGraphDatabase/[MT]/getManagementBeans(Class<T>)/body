{
  KernelExtension<?> jmx=Service.load(KernelExtension.class,"kernel jmx");
  if (jmx != null) {
    Method getManagementBeans=null;
    Object state=jmx.getState(extensions);
    if (state != null) {
      try {
        getManagementBeans=state.getClass().getMethod("getManagementBeans",Class.class);
      }
 catch (      Exception e) {
      }
    }
    if (getManagementBeans != null) {
      try {
        @SuppressWarnings("unchecked") Collection<T> result=(Collection<T>)getManagementBeans.invoke(state,beanClass);
        if (result == null)         return Collections.emptySet();
        return result;
      }
 catch (      InvocationTargetException ex) {
        Throwable cause=ex.getTargetException();
        if (cause instanceof Error) {
          throw (Error)cause;
        }
        if (cause instanceof RuntimeException) {
          throw (RuntimeException)cause;
        }
      }
catch (      Exception ignored) {
      }
    }
  }
  throw new UnsupportedOperationException("Neo4j JMX support not enabled");
}
