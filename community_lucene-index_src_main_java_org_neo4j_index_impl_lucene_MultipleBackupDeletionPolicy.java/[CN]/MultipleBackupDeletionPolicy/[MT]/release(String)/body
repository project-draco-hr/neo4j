{
  if ((--snapshotUsers) > 0) {
    return;
  }
  super.release(id);
  snapshot=null;
  if (snapshotUsers < 0) {
    snapshotUsers=0;
    throw new IllegalStateException("Cannot release snapshot, no snapshot held");
  }
}
