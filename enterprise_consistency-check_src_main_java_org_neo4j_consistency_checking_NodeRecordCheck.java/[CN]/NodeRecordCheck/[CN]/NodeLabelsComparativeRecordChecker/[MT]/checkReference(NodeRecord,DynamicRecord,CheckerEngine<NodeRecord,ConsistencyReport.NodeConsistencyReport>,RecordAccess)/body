{
  recordIds.put(dynamicRecord.getId(),dynamicRecord);
  if (dynamicRecord.inUse()) {
    if (allInUse) {
      recordList.add(dynamicRecord);
    }
  }
 else {
    allInUse=false;
    engine.report().dynamicLabelRecordNotInUse(dynamicRecord);
  }
  long nextBlock=dynamicRecord.getNextBlock();
  if (Record.NO_NEXT_BLOCK.is(nextBlock)) {
    if (allInUse) {
      validateLabelIds(labelIds(recordList),engine,records);
    }
  }
 else {
    if (recordIds.containsKey(nextBlock)) {
      engine.report().dynamicRecordChainCycle(recordIds.get(nextBlock));
    }
 else {
      engine.comparativeCheck(records.nodeLabels(nextBlock),this);
    }
  }
}
