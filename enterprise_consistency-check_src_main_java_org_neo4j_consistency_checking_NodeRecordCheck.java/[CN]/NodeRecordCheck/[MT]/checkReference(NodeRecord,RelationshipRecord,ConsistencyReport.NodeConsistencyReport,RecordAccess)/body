{
  if (!relationship.inUse()) {
    report.relationshipNotInUse(relationship);
  }
 else {
    RelationshipNodeField selectedField=RelationshipNodeField.select(relationship,node);
    if (selectedField == null) {
      report.relationshipForOtherNode(relationship);
    }
 else {
      RelationshipNodeField[] fields;
      if (relationship.getFirstNode() == relationship.getSecondNode()) {
        fields=RelationshipNodeField.values();
      }
 else {
        fields=new RelationshipNodeField[]{selectedField};
      }
      for (      RelationshipNodeField field : fields) {
        if (!Record.NO_NEXT_RELATIONSHIP.is(field.prev(relationship))) {
          field.notFirstInChain(report,relationship);
        }
      }
    }
  }
}
