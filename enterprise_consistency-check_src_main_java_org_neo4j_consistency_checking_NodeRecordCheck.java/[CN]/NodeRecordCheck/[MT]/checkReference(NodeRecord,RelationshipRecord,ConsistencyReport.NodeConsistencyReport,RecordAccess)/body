{
  if (!relationship.inUse()) {
    report.relationshipNotInUse(relationship);
  }
 else {
    NodeField selectedField=NodeField.select(relationship,node);
    if (selectedField == null) {
      report.relationshipForOtherNode(relationship);
    }
 else {
      NodeField[] fields;
      if (relationship.getFirstNode() == relationship.getSecondNode()) {
        fields=NodeField.values();
      }
 else {
        fields=new NodeField[]{selectedField};
      }
      for (      NodeField field : fields) {
        if (!Record.NO_NEXT_RELATIONSHIP.is(field.prev(relationship))) {
          field.notFirstInChain(report,relationship);
        }
      }
    }
  }
}
