{
  channels=new DefaultChannelGroup();
  nioChannelFactory=new NioServerSocketChannelFactory(Executors.newCachedThreadPool(daemon("Cluster boss",monitor)),Executors.newFixedThreadPool(2,daemon("Cluster worker",monitor)),2);
  serverBootstrap=new ServerBootstrap(nioChannelFactory);
  serverBootstrap.setOption("child.tcpNoDelay",true);
  serverBootstrap.setPipelineFactory(new NetworkNodePipelineFactory());
  int[] ports=config.clusterServer().getPorts();
  int minPort=ports[0];
  int maxPort=ports.length == 2 ? ports[1] : minPort;
  port=listen(minPort,maxPort);
  msgLog.debug("Started NetworkReceiver at " + config.clusterServer().getHost() + ":"+ port);
}
