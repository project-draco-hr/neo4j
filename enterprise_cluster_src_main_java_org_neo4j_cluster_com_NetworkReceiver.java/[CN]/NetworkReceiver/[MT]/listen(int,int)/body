{
  ChannelException ex=null;
  for (int checkPort=minPort; checkPort <= maxPort; checkPort++) {
    try {
      InetAddress host;
      String address=config.clusterServer().getHost();
      InetSocketAddress localAddress;
      if (address == null || address.equals("0.0.0.0")) {
        localAddress=new InetSocketAddress(checkPort);
      }
 else {
        host=InetAddress.getByName(address);
        localAddress=new InetSocketAddress(host,checkPort);
      }
      Channel listenChannel=serverBootstrap.bind(localAddress);
      listeningAt(getURI(localAddress));
      channels.add(listenChannel);
      return;
    }
 catch (    ChannelException e) {
      ex=e;
    }
  }
  nioChannelFactory.releaseExternalResources();
  throw ex;
}
