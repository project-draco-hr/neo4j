{
  if (!hasMoreRelationshipsToLoad()) {
    return null;
  }
  Pair<ArrayMap<String,RelIdArray>,Map<Long,RelationshipImpl>> pair=nodeManager.getMoreRelationships(this);
  ArrayMap<String,RelIdArray> addMap=pair.first();
  if (addMap.size() == 0) {
    return null;
  }
  for (  String type : addMap.keySet()) {
    RelIdArray addRels=addMap.get(type);
    RelIdArray srcRels=tmpRelMap.get(type);
    if (srcRels == null) {
      tmpRelMap.put(type,addRels);
    }
 else {
      RelIdArray newSrcRels=srcRels.addAll(addRels);
      if (newSrcRels != srcRels) {
        tmpRelMap.put(type,newSrcRels);
      }
    }
  }
  return pair.other();
}
