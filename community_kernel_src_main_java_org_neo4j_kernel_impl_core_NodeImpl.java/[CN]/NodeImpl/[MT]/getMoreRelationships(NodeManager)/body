{
  Triplet<ArrayMap<String,RelIdArray>,List<RelationshipImpl>,Long> rels;
  if (!hasMoreRelationshipsToLoad()) {
    return false;
  }
synchronized (this) {
    if (!hasMoreRelationshipsToLoad()) {
      return false;
    }
    int sizeBefore=size();
    rels=nodeManager.getMoreRelationships(this);
    ArrayMap<String,RelIdArray> addMap=rels.first();
    if (addMap.size() == 0) {
      return false;
    }
    for (    String type : addMap.keySet()) {
      RelIdArray addRels=addMap.get(type);
      RelIdArray srcRels=getRelIdArray(type);
      if (srcRels == null) {
        putRelIdArray(addRels);
      }
 else {
        RelIdArray newSrcRels=srcRels.addAll(addRels);
        if (newSrcRels != srcRels) {
          putRelIdArray(newSrcRels);
        }
      }
    }
    nodeManager.updateCacheSize(this,sizeBefore,size());
    setRelChainPosition(rels.third());
  }
  nodeManager.putAllInRelCache(rels.second());
  return true;
}
