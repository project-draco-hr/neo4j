{
  Map<Long,RelationshipImpl> map=null;
synchronized (this) {
    if (relationships == null) {
      this.relChainPosition=nodeManager.getRelationshipChainPosition(this);
      ArrayMap<String,RelIdArray> tmpRelMap=new ArrayMap<String,RelIdArray>();
      map=getMoreRelationships(nodeManager,tmpRelMap);
      this.relationships=toRelIdArray(tmpRelMap);
    }
  }
  if (map != null) {
    nodeManager.putAllInRelCache(map);
  }
}
