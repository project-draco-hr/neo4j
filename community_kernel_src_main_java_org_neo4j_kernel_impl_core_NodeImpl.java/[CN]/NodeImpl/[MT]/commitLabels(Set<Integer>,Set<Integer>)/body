{
  if (labels != null) {
    int estimatedDelta=added.size() - removed.size();
    int[] newLabels=new int[labels.length + estimatedDelta];
    int cursor=0;
    for (    int label : labels) {
      if (!removed.contains(label)) {
        newLabels[cursor++]=label;
      }
    }
    for (    int label : added) {
      newLabels[cursor++]=label;
    }
    Arrays.sort(newLabels);
    labels=newLabels;
  }
}
