{
  if (recordChanges.containsKey(key)) {
    throw new IllegalStateException(key + " already exists");
  }
  RECORD record=loader.newUnused(key,additionalData);
  RecordChange<KEY,RECORD,ADDITIONAL> change=new RecordChange<>(recordChanges,changeCounter,key,record,loader,manageBeforeState,true,additionalData);
  recordChanges.put(key,change);
  return change;
}
