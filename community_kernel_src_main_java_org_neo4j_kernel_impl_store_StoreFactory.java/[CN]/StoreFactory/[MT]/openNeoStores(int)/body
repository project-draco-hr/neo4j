{
  boolean createIfNotExists=(flags & SF_CREATE) != 0;
  boolean eagerlyInitializeStores=(flags & SF_LAZY) == 0;
  if (createIfNotExists) {
    try {
      fileSystemAbstraction.mkdirs(neoStoreFileName.getParentFile());
    }
 catch (    IOException e) {
      throw new UnderlyingStorageException("Could not create store directory: " + neoStoreFileName.getParent(),e);
    }
  }
  return new NeoStores(neoStoreFileName,config,idGeneratorFactory,pageCache,logProvider,fileSystemAbstraction,createIfNotExists,eagerlyInitializeStores);
}
