{
  boolean storeExists=storeExists();
  if (!storeExists && allowCreateEmpty) {
    return createNeoStore();
  }
  return new NeoStore(neoStoreFileName,config,idGeneratorFactory,pageCache,fileSystemAbstraction,logProvider,newRelationshipTypeTokenStore(),newLabelTokenStore(),newPropertyStore(),newRelationshipStore(),newNodeStore(),newSchemaStore(),newRelationshipGroupStore(),newCountsStore(),versionMismatchHandler,monitors);
}
