{
  Node node=getGraphDb().createNode();
  for (int i=0; i < PropertyType.getPayloadSizeLongs(); i++) {
    node.setProperty("prop" + i,i);
  }
  newTransaction();
  clearCache();
  for (int i=0; i < PropertyType.getPayloadSizeLongs() - 1; i++) {
    assertEquals(i,node.removeProperty("prop" + i));
  }
  node.setProperty("profit",5);
  newTransaction();
  clearCache();
  int remainingProperty=PropertyType.getPayloadSizeLongs() - 1;
  assertEquals(remainingProperty,node.getProperty("prop" + remainingProperty));
  assertEquals(5,node.getProperty("profit"));
}
