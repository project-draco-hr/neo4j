{
  if (names.length == 0) {
    for (    Map.Entry<String,String> header : headers.entrySet()) {
      message.setHeader(header.getKey(),header.getValue());
    }
  }
 else {
    for (    String name : names) {
      String value=headers.get(name);
      if (value != null)       message.setHeader(name,value);
    }
  }
  return message;
}
