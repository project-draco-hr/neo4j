{
  if (left.getClass() == right.getClass()) {
    return ((Comparable<Number>)left).compareTo(right);
  }
 else {
    if ((left instanceof Double) || (right instanceof Double)) {
      return Double.compare(left.doubleValue(),right.doubleValue());
    }
 else     if ((left instanceof Float) || (right instanceof Float)) {
      return Float.compare(left.floatValue(),right.floatValue());
    }
 else {
      return Long.compare(left.longValue(),right.longValue());
    }
  }
}
