{
  ensureOpen(false);
  json=new JsonFactory().configure(JsonGenerator.Feature.AUTO_CLOSE_TARGET,true).createJsonGenerator(new FileWriter(target));
  json.setPrettyPrinter(new DefaultPrettyPrinter());
  json.writeStartObject();
{
    json.writeFieldName("total");
    json.writeStartObject();
    json.writeNumberField("elementCount",totalElementCount);
    json.writeNumberField("time",nanosToMillis(totalTimeNanos));
    json.writeEndObject();
  }
  json.writeFieldName("phases");
  json.writeStartArray();
}
