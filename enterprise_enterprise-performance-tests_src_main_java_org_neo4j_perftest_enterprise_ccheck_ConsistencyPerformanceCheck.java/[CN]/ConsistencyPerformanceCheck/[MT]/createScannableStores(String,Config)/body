{
  StringLogger logger=StringLogger.DEV_NULL;
  FileSystemAbstraction fileSystem=new DefaultFileSystemAbstraction();
  Monitors monitors=new Monitors();
  StoreFactory factory=new StoreFactory(tuningConfiguration,new DefaultIdGeneratorFactory(),tuningConfiguration.get(ConsistencyCheckSettings.consistency_check_window_pool_implementation).windowPoolFactory(tuningConfiguration,logger,monitors),fileSystem,logger,new DefaultTxHook(),monitors);
  NeoStore neoStore=factory.newNeoStore(new File(storeDir,NeoStore.DEFAULT_NAME));
  SchemaIndexProvider indexes=new LuceneSchemaIndexProvider(DirectoryFactory.PERSISTENT,tuningConfiguration);
  return new DirectStoreAccess(new StoreAccess(neoStore),new LuceneLabelScanStoreBuilder(storeDir,neoStore,fileSystem,logger).build(),indexes);
}
