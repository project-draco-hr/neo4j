{
  Config config=new Config(new ConfigurationDefaults(GraphDatabaseSettings.class).apply(stringMap(GraphDatabaseSettings.store_dir.name(),configuration.get(DataGenerator.store_dir),GraphDatabaseSettings.all_stores_total_mapped_memory_size.name(),configuration.get(all_stores_total_mapped_memory_size),GraphDatabaseSettings.mapped_memory_page_size.name(),configuration.get(mapped_memory_page_size),GraphDatabaseSettings.log_mapped_memory_stats.name(),configuration.get(log_mapped_memory_stats).toString(),GraphDatabaseSettings.log_mapped_memory_stats_filename.name(),configuration.get(log_mapped_memory_stats_filename),GraphDatabaseSettings.log_mapped_memory_stats_interval.name(),configuration.get(log_mapped_memory_stats_interval).toString())));
  StoreFactory factory=new StoreFactory(config,new DefaultIdGeneratorFactory(),windowPoolFactory(config,StringLogger.SYSTEM),new DefaultFileSystemAbstraction(),new DefaultLastCommittedTxIdSetter(),StringLogger.DEV_NULL,new DefaultTxHook());
  NeoStore neoStore=factory.newNeoStore(new File(configuration.get(DataGenerator.store_dir),NeoStore.DEFAULT_NAME).getAbsolutePath());
  return new StoreAccess(neoStore);
}
