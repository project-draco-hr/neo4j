{
  if (orAnyOfTheseTypes.length == 0) {
    return new PathEvaluator.Adapter<STATE>(){
      @Override public Evaluation evaluate(      Path path,      BranchState state){
        Relationship rel=path.lastRelationship();
        return rel != null && rel.isType(type) ? evaluationIfMatch : evaluationIfNoMatch;
      }
    }
;
  }
  final Set<String> expectedTypes=new HashSet<>();
  expectedTypes.add(type.name());
  for (  RelationshipType otherType : orAnyOfTheseTypes) {
    expectedTypes.add(otherType.name());
  }
  return new PathEvaluator.Adapter<STATE>(){
    @Override public Evaluation evaluate(    Path path,    BranchState state){
      Relationship lastRelationship=path.lastRelationship();
      if (lastRelationship == null) {
        return evaluationIfNoMatch;
      }
      return expectedTypes.contains(lastRelationship.getType().name()) ? evaluationIfMatch : evaluationIfNoMatch;
    }
  }
;
}
