{
  new JarBuilder().createJarFor(plugins.newFile("myProcedures.jar"),ClassWithProcedures.class);
  db=new TestGraphDatabaseFactory().newImpermanentDatabaseBuilder().setConfig(GraphDatabaseSettings.plugin_dir,plugins.getRoot().getAbsolutePath()).newGraphDatabase();
  try (Transaction ignore=db.beginTx()){
    Result res1=db.execute("CALL org.neo4j.procedure.integrationTestMe");
    assertThat(res1.next(),equalTo(map("someVal",1337L)));
    assertFalse(res1.hasNext());
    Result res2=db.execute("CALL org.neo4j.procedure.simpleArgument(42)");
    assertThat(res2.next(),equalTo(map("someVal",42L)));
    assertFalse(res2.hasNext());
  }
 }
