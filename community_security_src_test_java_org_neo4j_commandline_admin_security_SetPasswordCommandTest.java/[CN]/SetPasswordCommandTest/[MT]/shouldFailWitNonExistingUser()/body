{
  SetPasswordCommand setPasswordCommand=new SetPasswordCommand(testDir.directory("home").toPath(),testDir.directory("conf").toPath(),mock(OutsideWorld.class));
  String[] arguments={"nosuchuser","whatever"};
  try {
    setPasswordCommand.execute(arguments);
    fail("Should have thrown an exception.");
  }
 catch (  CommandFailed e) {
    assertThat(e.getMessage(),containsString("does not exist"));
  }
}
