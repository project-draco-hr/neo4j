{
  Iterator<Relationship> relItr=null;
  if (pRel.anyRelType()) {
    if (pRel.isDirected()) {
      relItr=currentNode.getRelationships(pRel.getDirectionFrom(fromNode)).iterator();
    }
 else {
      relItr=currentNode.getRelationships(Direction.BOTH).iterator();
    }
  }
 else {
    if (pRel.isDirected()) {
      relItr=currentNode.getRelationships(pRel.getType(),pRel.getDirectionFrom(fromNode)).iterator();
    }
 else {
      relItr=currentNode.getRelationships(pRel.getType(),Direction.BOTH).iterator();
    }
  }
  return relItr;
}
