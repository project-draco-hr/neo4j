{
  init();
  Runnable ctrlcAction=getTerminateAction();
  while (!end) {
    String command=readLine(getPrompt());
    try (Closeable ignored=signalHandler.install(ctrlcAction)){
      evaluate(command);
    }
 catch (    Exception e) {
      printStackTrace(e);
    }
  }
  this.shutdown();
}
