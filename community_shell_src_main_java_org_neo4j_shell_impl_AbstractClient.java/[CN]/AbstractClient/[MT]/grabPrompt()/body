{
  init();
  while (!end) {
    try {
      evaluate(readLine(tryGetProperPromptString()));
    }
 catch (    Exception e) {
      if (this.shouldPrintStackTraces()) {
        e.printStackTrace();
      }
 else {
        this.console.format(getShortExceptionMessage(e) + "\n");
      }
    }
  }
  this.shutdown();
}
