{
  return Neo4jJmx.initJMX(new Neo4jJmx.Creator(instanceId,KERNEL_VERSION,(NeoStoreXaDataSource)graphDbInstance.getConfig().getTxModule().getXaDataSourceManager().getXaDataSource("nioneodb")){
    @Override protected void create(    Neo4jJmx.Factory jmx){
      jmx.createDynamicConfigurationMBean(params);
      jmx.createPrimitiveMBean(nodeManager);
      jmx.createCacheMBean(nodeManager);
      jmx.createLockManagerMBean(getConfig().getLockManager());
      jmx.createTransactionManagerMBean(getConfig().getTxModule());
      jmx.createMemoryMappingMBean(getConfig().getTxModule().getXaDataSourceManager());
      jmx.createXaManagerMBean(getConfig().getTxModule().getXaDataSourceManager());
    }
  }
);
}
