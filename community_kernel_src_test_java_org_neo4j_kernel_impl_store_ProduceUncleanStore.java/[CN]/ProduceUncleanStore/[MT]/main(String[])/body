{
  String storeDir=args[0];
  boolean setGraphProperty=args.length > 1 ? Boolean.parseBoolean(args[1]) : false;
  GraphDatabaseService db=new EmbeddedGraphDatabase(storeDir,stringMap(GraphDatabaseSettings.auth_store.name(),new File(storeDir,"auth").getAbsolutePath()),GraphDatabaseDependencies.newDependencies().userLogProvider(NullLogProvider.getInstance()));
  try (Transaction tx=db.beginTx()){
    Node node=db.createNode();
    node.setProperty("name","Something");
    if (setGraphProperty) {
      ((GraphDatabaseAPI)db).getDependencyResolver().resolveDependency(NodeManager.class).newGraphProperties().setProperty("prop","Some value");
    }
    tx.success();
  }
   System.exit(0);
}
