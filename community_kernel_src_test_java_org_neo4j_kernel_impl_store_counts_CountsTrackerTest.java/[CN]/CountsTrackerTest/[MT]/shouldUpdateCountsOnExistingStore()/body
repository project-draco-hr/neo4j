{
  CountsOracle oracle=someData();
  int firstTx=2, secondTx=3;
  try (Lifespan life=new Lifespan()){
    CountsTracker tracker=life.add(newTracker());
    oracle.update(tracker,firstTx);
    tracker.rotate(firstTx);
    oracle.verify(tracker);
    CountsOracle delta=new CountsOracle();
{
      CountsOracle.Node n1=delta.node(1);
      CountsOracle.Node n2=delta.node(1,4);
      delta.relationship(n1,1,n2);
      delta.relationship(n2,2,n1);
    }
    delta.update(tracker,secondTx);
    delta.update(oracle);
    oracle.verify(tracker);
    tracker.rotate(secondTx);
  }
   try (Lifespan life=new Lifespan()){
    oracle.verify(life.add(newTracker()));
  }
 }
