{
  this.cacheManager=cacheManager;
  this.lockManager=lockManager;
  this.transactionManager=transactionManager;
  this.lockReleaser=new LockReleaser(lockManager,transactionManager,this);
  this.eventManager=eventManager;
  this.persistenceManager=persistenceManager;
  this.idGenerator=idGenerator;
  this.propertyIndexManager=new PropertyIndexManager(transactionManager,persistenceManager,idGenerator);
  this.traverserFactory=new TraverserFactory();
  this.relTypeHolder=new RelationshipTypeHolder(transactionManager,persistenceManager,idGenerator);
  nodeCache=new LruCache<Integer,NodeImpl>("NodeCache",1500,this.cacheManager);
  relCache=new LruCache<Integer,RelationshipImpl>("RelationshipCache",3500,this.cacheManager);
  this.purgeEventListener=new PurgeEventListener();
  this.neoConstraintsListener=new NeoConstraintsListener(transactionManager);
}
