{
  DoubleLongRegister sample=samples.get(key);
  if (sample == null) {
    sample=ConcurrentRegisters.OptimisticRead.newDoubleLongRegister(first,second);
    samples.put(key,sample);
  }
 else {
    sample.write(first,second);
  }
}
