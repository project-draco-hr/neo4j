{
  while (next < updates.length) {
    Update<K> nextUpdate=updates[next];
    int cmp=key.compareTo(nextUpdate.key);
    if (cmp == 0) {
      next++;
      nextUpdate.writeTo(register);
    }
 else     if (cmp > 0) {
      next++;
      long originalFirst=register.readFirst();
      long originalSecond=register.readSecond();
      nextUpdate.writeTo(register);
      target.visit(nextUpdate.key,register);
      register.write(originalFirst,originalSecond);
      continue;
    }
    break;
  }
  target.visit(key,register);
}
