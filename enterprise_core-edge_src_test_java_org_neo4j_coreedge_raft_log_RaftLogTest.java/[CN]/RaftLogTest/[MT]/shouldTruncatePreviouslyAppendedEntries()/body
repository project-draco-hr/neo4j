{
  RaftLog log=createRaftLog();
  RaftLogEntry logEntryA=new RaftLogEntry(1,ReplicatedInteger.valueOf(1));
  RaftLogEntry logEntryB=new RaftLogEntry(1,ReplicatedInteger.valueOf(2));
  log.append(logEntryA);
  log.append(logEntryB);
  assertThat(log.appendIndex(),is(1L));
  assertThat(log.entryExists(0),is(true));
  assertThat(log.entryExists(1),is(true));
  log.truncate(1);
  assertThat(log.appendIndex(),is(0L));
  assertThat(log.entryExists(0),is(true));
  assertThat(log.entryExists(1),is(false));
}
