{
  int index=0;
  while (index < length) {
    ensure(1);
    int amountToWrite=Math.min(buffer.writableBytes(),length - index);
    buffer.writeBytes(data,offset + index,amountToWrite);
    index+=amountToWrite;
  }
  return this;
}
