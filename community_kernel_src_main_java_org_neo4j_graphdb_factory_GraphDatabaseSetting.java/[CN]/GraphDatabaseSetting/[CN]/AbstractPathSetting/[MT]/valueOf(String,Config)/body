{
  if (fixIncorrectPathSeparators) {
    rawValue=FileUtils.fixSeparatorsInPath(rawValue);
  }
  File path=new File(rawValue);
  System.out.println("After separator fix:" + path);
  System.out.println("Is absolute:" + path.isAbsolute());
  if (!path.isAbsolute() && relativeTo != null) {
    File baseDir=new File(config.get(relativeTo));
    path=new File(baseDir,rawValue);
    System.out.println("Relativised:" + path);
  }
  System.out.println("Is absolute2:" + path.isAbsolute());
  if (makeCanonical) {
    try {
      return path.getCanonicalPath();
    }
 catch (    IOException e) {
      if (path.isAbsolute()) {
        return path.getAbsolutePath();
      }
      throw new IllegalArgumentException(name() + ": unable to resolve canonical path for " + rawValue+ ".",e);
    }
  }
 else   if (path.isAbsolute()) {
    return path.getAbsolutePath();
  }
 else {
    return rawValue;
  }
}
