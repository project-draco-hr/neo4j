{
  ReplicatedLockTokenStateMachine<Object> stateMachine=new ReplicatedLockTokenStateMachine<>(new InMemoryStateStorage<>(new ReplicatedLockTokenState<>()),new PendingLockTokensRequests<>());
  int firstCandidateId=LockToken.nextCandidateId(stateMachine.currentToken().id());
  stateMachine.applyCommand(new ReplicatedLockTokenRequest<>(member(0),firstCandidateId),0);
  assertEquals(firstCandidateId + 1,LockToken.nextCandidateId(stateMachine.currentToken().id()));
}
