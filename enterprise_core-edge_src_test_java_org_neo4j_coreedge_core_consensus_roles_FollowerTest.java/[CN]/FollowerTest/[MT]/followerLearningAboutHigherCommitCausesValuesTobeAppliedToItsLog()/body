{
  RaftState state=raftState().myself(myself).build();
  Follower follower=new Follower();
  appendSomeEntriesToLog(state,follower,3,0);
  Outcome outcome=follower.handle(new AppendEntries.Request(CURRENT_VERSION,myself,0,2,0,new RaftLogEntry[]{new RaftLogEntry(0,ContentGenerator.content())},3),state,log());
  state.update(outcome);
  assertEquals(3,state.commitIndex());
}
