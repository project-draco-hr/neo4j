{
  StatementOperationParts parts=delegate.newStatementOperations();
  CachingStatementOperations cachingContext=new CachingStatementOperations(parts.entityReadOperations(),parts.schemaReadOperations(),persistenceCache,schemaCache);
  parts.replace(null,null,cachingContext,null,cachingContext,null,null,null);
  AuxiliaryStoreOperations auxStoreOperations=parts.resolve(AuxiliaryStoreOperations.class);
  auxStoreOperations=new LegacyAutoIndexAuxStoreOps(auxStoreOperations,propertyKeyTokenHolder,nodeManager.getNodePropertyTrackers(),nodeManager.getRelationshipPropertyTrackers(),nodeManager);
  StateHandlingStatementOperations stateHandlingContext=new StateHandlingStatementOperations(parts.entityReadOperations(),parts.schemaReadOperations(),auxStoreOperations,constraintIndexCreator);
  parts.replace(null,null,stateHandlingContext,stateHandlingContext,stateHandlingContext,stateHandlingContext,new SchemaStateConcern(schemaState),null);
  return parts;
}
