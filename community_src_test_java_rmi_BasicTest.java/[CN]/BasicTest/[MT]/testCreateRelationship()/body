{
  transactional(new Runnable(){
    public void run(){
      Node start=graphDb.createNode();
      Node end=graphDb.createNode();
      Relationship relationship=start.createRelationshipTo(end,TestType.TEST);
      assertNotNull(relationship);
      assertTrue(relationship.isType(TestType.TEST));
      assertEquals(start,relationship.getStartNode());
      assertEquals(end,relationship.getEndNode());
      assertEquals(start,relationship.getOtherNode(end));
      assertEquals(end,relationship.getOtherNode(start));
      assertTrue(Arrays.equals(new Node[]{start,end},relationship.getNodes()));
    }
  }
);
}
