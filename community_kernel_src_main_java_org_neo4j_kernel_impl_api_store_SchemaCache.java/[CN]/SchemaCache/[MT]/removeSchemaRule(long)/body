{
  SchemaRule rule=rulesByIdMap.remove(id);
  if (rule == null) {
    return;
  }
  if (rule instanceof NodePropertyConstraintRule) {
    nodeConstraints.remove(((NodePropertyConstraintRule)rule).toConstraint());
  }
 else   if (rule instanceof RelationshipPropertyConstraintRule) {
    relationshipConstraints.remove(((RelationshipPropertyConstraintRule)rule).toConstraint());
  }
 else   if (rule instanceof IndexRule) {
    IndexRule indexRule=(IndexRule)rule;
    Map<Integer,CommittedIndexDescriptor> byLabel=indexDescriptors.get(indexRule.getLabel());
    byLabel.remove(indexRule.getPropertyKey());
    if (byLabel.isEmpty()) {
      indexDescriptors.remove(indexRule.getLabel());
    }
  }
}
