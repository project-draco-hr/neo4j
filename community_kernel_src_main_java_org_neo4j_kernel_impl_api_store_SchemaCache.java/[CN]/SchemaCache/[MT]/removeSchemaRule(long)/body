{
  SchemaRule rule=ruleByIdMap.remove(id);
  if (rule == null) {
    return;
  }
  int labelId=rule.getLabel();
  Map<Long,SchemaRule> rules=rulesByLabelMap.get(labelId);
  if (rules.remove(id) != null && rules.isEmpty()) {
    rulesByLabelMap.remove(labelId);
  }
  if (rule instanceof UniquenessConstraintRule) {
    constraints.remove(ruleToConstraint((UniquenessConstraintRule)rule));
  }
 else   if (rule instanceof IndexRule) {
    indexDescriptorToId.remove(new IndexDescriptor(rule.getLabel(),((IndexRule)rule).getPropertyKey()));
  }
}
