{
  String dbLocation=new File(configurator.configuration().getString(Configurator.DATABASE_LOCATION_PROPERTY_KEY)).getAbsolutePath();
  GraphDatabaseFactory dbFactory=bootstrapper.getGraphDatabaseFactory(configurator.configuration());
  if (guard != null) {
    dbFactory=new GuardedDatabaseFactory(dbFactory,guard);
  }
  Map<String,String> databaseTuningProperties=configurator.getDatabaseTuningProperties();
  if (databaseTuningProperties != null) {
    this.database=new Database(dbFactory,dbLocation,databaseTuningProperties);
  }
 else {
    this.database=new Database(dbFactory,dbLocation);
  }
  return database.getStringLogger();
}
