{
  try {
    if (mappedBuffer != null) {
      mappedStartPosition+=mappedBuffer.position();
      mappedBuffer.force();
      mappedBuffer=null;
    }
    if (mapFail > 1000) {
      mapFail=-1;
    }
    if (mapFail > 0) {
      mapFail++;
      return;
    }
    mappedBuffer=fileChannel.map(MapMode.READ_WRITE,mappedStartPosition,MAPPED_SIZE);
  }
 catch (  Throwable t) {
    mapFail=1;
    t.printStackTrace();
  }
}
