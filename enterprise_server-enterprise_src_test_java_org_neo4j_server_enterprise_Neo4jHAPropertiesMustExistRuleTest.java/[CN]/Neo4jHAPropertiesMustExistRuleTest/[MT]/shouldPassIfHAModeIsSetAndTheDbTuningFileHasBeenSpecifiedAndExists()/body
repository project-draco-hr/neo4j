{
  Neo4jHAPropertiesMustExistRule rule=new Neo4jHAPropertiesMustExistRule();
  File serverPropertyFile=ServerTestUtils.createTempPropertyFile();
  File dbTuningFile=ServerTestUtils.createTempPropertyFile();
  ServerTestUtils.writePropertyToFile(Configurator.DB_TUNING_PROPERTY_FILE_KEY,dbTuningFile.getAbsolutePath(),serverPropertyFile);
  ServerTestUtils.writePropertyToFile(Configurator.DB_MODE_KEY,"ha",serverPropertyFile);
  ServerTestUtils.writePropertyToFile(HighlyAvailableGraphDatabase.CONFIG_KEY_HA_MACHINE_ID,"1",dbTuningFile);
  ServerTestUtils.writePropertyToFile(HighlyAvailableGraphDatabase.CONFIG_KEY_HA_ZOO_KEEPER_SERVERS,"localhost:0000",dbTuningFile);
  assertRule(rule,serverPropertyFile);
  serverPropertyFile.delete();
  dbTuningFile.delete();
}
