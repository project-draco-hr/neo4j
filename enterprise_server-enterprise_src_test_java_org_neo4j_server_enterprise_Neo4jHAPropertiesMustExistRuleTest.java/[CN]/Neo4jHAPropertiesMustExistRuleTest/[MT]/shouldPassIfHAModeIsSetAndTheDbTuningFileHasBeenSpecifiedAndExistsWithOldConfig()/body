{
  Neo4jHAPropertiesMustExistRule rule=new Neo4jHAPropertiesMustExistRule();
  File serverPropertyFile=ServerTestUtils.createTempPropertyFile();
  File dbTuningFile=ServerTestUtils.createTempPropertyFile();
  ServerTestUtils.writePropertyToFile(Configurator.DB_TUNING_PROPERTY_FILE_KEY,dbTuningFile.getAbsolutePath(),serverPropertyFile);
  ServerTestUtils.writePropertyToFile(Configurator.DB_MODE_KEY,"ha",serverPropertyFile);
  ServerTestUtils.writePropertyToFile(HaConfig.CONFIG_KEY_OLD_SERVER_ID,"1",dbTuningFile);
  ServerTestUtils.writePropertyToFile(HaConfig.CONFIG_KEY_OLD_COORDINATORS,"localhost:0000",dbTuningFile);
  assertRulePass(rule,serverPropertyFile);
  serverPropertyFile.delete();
  dbTuningFile.delete();
}
