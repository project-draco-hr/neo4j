{
  long version=xaDs.getCurrentLogVersion();
  while (version < masterVersion) {
    if (xaDs.hasLogicalLog(version)) {
      version++;
    }
 else {
      break;
    }
  }
  if (version == masterVersion) {
    setStatus(Status.GET_MESSAGE);
    return true;
  }
  if (retries > 20) {
    close();
  }
  if (!acquireWriteBuffer()) {
    retries++;
    return false;
  }
  buffer.put(HeaderConstants.REQUEST_LOG);
  buffer.putLong(version);
  buffer.flip();
  log("Setup request: " + version);
  setStatus(Status.SEND_REQUEST);
  retries=0;
  return true;
}
