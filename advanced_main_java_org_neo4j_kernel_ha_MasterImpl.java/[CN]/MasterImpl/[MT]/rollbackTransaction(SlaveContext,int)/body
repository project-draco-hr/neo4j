{
  TxIdElement txId=new TxIdElement(context.machineId(),eventIdentifier);
  Transaction otherTx=suspendOtherAndResumeThis(txId);
  try {
    Transaction tx=transactions.get(txId);
    if (tx == null) {
      throw new RuntimeException("Shouldn't happen");
    }
    TransactionManager txManager=getTxManager();
    txManager.rollback();
    return packResponse(context,null,ALL);
  }
 catch (  IllegalStateException e) {
    throw new RuntimeException(e);
  }
catch (  SecurityException e) {
    throw new RuntimeException(e);
  }
catch (  SystemException e) {
    throw new RuntimeException(e);
  }
 finally {
    suspendThisAndResumeOther(otherTx);
  }
}
