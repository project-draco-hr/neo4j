{
  User user=userRepository.findByName(username);
  if (user != null && !user.hasFlag(IS_SUSPENDED)) {
    User suspendedUser=user.augment().withFlag(IS_SUSPENDED).build();
    userRepository.update(user,suspendedUser);
  }
}
