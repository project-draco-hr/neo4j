{
  try {
    removeThisEvaluator(tx);
    if (getTransactionStatus() == Status.STATUS_MARKED_ROLLBACK) {
      return;
    }
    if (deletedNodes != null) {
      Iterator<NodeImpl> itr=deletedNodes.values().iterator();
      while (itr.hasNext()) {
        NodeImpl node=itr.next();
        Map<String,Integer> leftoverRelationships=node.internalGetRelationships();
        if (leftoverRelationships != null) {
          log.severe("Deleted Node[" + node + "] still has relationships:\n"+ sumRelationships(leftoverRelationships));
          StringBuffer buf=new StringBuffer("Found relationships ");
          log.severe(buf.toString());
          setRollbackOnly();
        }
      }
    }
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
}
