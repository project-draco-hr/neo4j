{
  if (deletedNodes == null) {
    deletedNodes=new java.util.HashMap<Integer,NodeImpl>();
  }
  if (deletedNodes.put((int)node.getId(),node) != null) {
    throw new IllegalStateException("Unable to delete " + node + " since it has already been deleted in this transaction.");
  }
}
