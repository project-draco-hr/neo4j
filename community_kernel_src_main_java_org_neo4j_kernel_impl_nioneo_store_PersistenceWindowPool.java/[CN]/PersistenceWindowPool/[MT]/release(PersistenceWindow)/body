{
  if (window instanceof PersistenceRow) {
    PersistenceRow dpw=(PersistenceRow)window;
    dpw.writeOutAndClose();
    if (brickSize > 0 && dpw.getOperationType() == OperationType.WRITE)     applyChangesToWindowIfNecessary(dpw);
    if (dpw.isFree()) {
      int key=(int)dpw.position();
      activeRowWindows.remove(key);
    }
    dpw.unLock();
  }
 else {
    ((LockableWindow)window).unLock();
  }
}
