{
  if (status == LifecycleStatus.STARTED) {
    status=changedStatus(this,status,LifecycleStatus.STOPPING);
    LifecycleException ex=null;
    for (int i=instances.size() - 1; i >= 0; i--) {
      LifecycleInstance lifecycleInstance=instances.get(i);
      try {
        lifecycleInstance.stop();
      }
 catch (      LifecycleException e) {
        ex=causedBy(e,ex);
      }
    }
    status=changedStatus(this,status,LifecycleStatus.STOPPED);
    if (ex != null)     throw ex;
  }
}
