{
  if (possibleEndNodes.length == 1) {
    final Node target=possibleEndNodes[0];
    return new Evaluator(){
      @Override public Evaluation evaluate(      Path path){
        return target.equals(path.endNode()) ? evaluationIfMatch : evaluationIfNoMatch;
      }
    }
;
  }
  final Set<Node> endNodes=new HashSet<Node>(asList(possibleEndNodes));
  return new Evaluator(){
    @Override public Evaluation evaluate(    Path path){
      return endNodes.contains(path.endNode()) ? evaluationIfMatch : evaluationIfNoMatch;
    }
  }
;
}
