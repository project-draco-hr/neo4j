{
  if (anyOfTheseTypes.length == 1) {
    final RelationshipType type=anyOfTheseTypes[0];
    return new Evaluator(){
      @Override public Evaluation evaluate(      Path path){
        Relationship rel=path.lastRelationship();
        if (rel == null)         return evaluationIfNoMatch;
        return rel.isType(type) ? evaluationIfMatch : evaluationIfNoMatch;
      }
    }
;
  }
  final Set<String> expectedTypes=new HashSet<String>();
  for (  RelationshipType otherType : anyOfTheseTypes) {
    expectedTypes.add(otherType.name());
  }
  return new Evaluator(){
    @Override public Evaluation evaluate(    Path path){
      Relationship lastRelationship=path.lastRelationship();
      if (lastRelationship == null) {
        return evaluationIfNoMatch;
      }
      return expectedTypes.contains(lastRelationship.getType().name()) ? evaluationIfMatch : evaluationIfNoMatch;
    }
  }
;
}
