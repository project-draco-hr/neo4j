{
  if (nodes.length == 1) {
    return new Evaluator(){
      @Override public Evaluation evaluate(      Path path){
        for (        Node node : path.reverseNodes()) {
          if (node.equals(nodes[0])) {
            return Evaluation.INCLUDE_AND_CONTINUE;
          }
        }
        return Evaluation.EXCLUDE_AND_CONTINUE;
      }
    }
;
  }
 else {
    final Set<Node> fullSet=new HashSet<Node>(Arrays.asList(nodes));
    return new Evaluator(){
      @Override public Evaluation evaluate(      Path path){
        Set<Node> set=new HashSet<Node>(fullSet);
        for (        Node node : path.reverseNodes()) {
          if (set.remove(node) && set.isEmpty()) {
            return Evaluation.INCLUDE_AND_CONTINUE;
          }
        }
        return Evaluation.EXCLUDE_AND_CONTINUE;
      }
    }
;
  }
}
