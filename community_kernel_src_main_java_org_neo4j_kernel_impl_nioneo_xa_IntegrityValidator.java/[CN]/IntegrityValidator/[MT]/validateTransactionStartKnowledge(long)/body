{
  long latestConstraintIntroducingTx=neoStore.getLatestConstraintIntroducingTx();
  if (lastCommittedTxWhenTransactionStarted < latestConstraintIntroducingTx) {
    throw Exceptions.withCause(new XAException(XAException.XA_RBINTEGRITY),new ConstraintViolationException(format("Database constraints have changed (txId=%d) after this transaction (txId%d) started, " + "which is not yet supported. Please retry your transaction to ensure all " + "constraints are executed.",latestConstraintIntroducingTx,lastCommittedTxWhenTransactionStarted)));
  }
}
