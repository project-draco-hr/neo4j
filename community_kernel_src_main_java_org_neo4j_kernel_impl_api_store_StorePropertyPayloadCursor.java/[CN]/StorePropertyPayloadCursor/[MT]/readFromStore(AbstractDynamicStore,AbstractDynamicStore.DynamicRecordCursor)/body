{
  buffer.clear();
  long startBlockId=PropertyBlock.fetchLong(currentHeader());
  try (GenericCursor<DynamicRecord> records=store.getRecordsCursor(startBlockId,cursor)){
    while (records.next()) {
      DynamicRecord dynamicRecord=records.get();
      byte[] data=dynamicRecord.getData();
      if (buffer.remaining() < data.length) {
        buffer.flip();
        ByteBuffer newBuffer=newBiggerBuffer(data.length);
        newBuffer.put(buffer);
        buffer=newBuffer;
      }
      buffer.put(data,0,data.length);
      Thread.sleep(1);
    }
  }
 catch (  InterruptedException e) {
    throw new RuntimeException(e);
  }
}
