{
  RequestDecoderDispatcher<Type> dispatcher=new RequestDecoderDispatcher<>(protocol,logProvider);
  protocol.expect(Type.two);
  dispatcher.register(Type.one,mock(ChannelInboundHandler.class));
  dispatcher.register(Type.three,mock(ChannelInboundHandler.class));
  dispatcher.channelRead(mock(ChannelHandlerContext.class),new Object());
  AssertableLogProvider.LogMatcher matcher=inLog(RequestDecoderDispatcher.class).warn("Unregistered handler for message type %s",Type.two);
  logProvider.assertExactly(matcher);
}
