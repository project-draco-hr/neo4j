{
  RequestDecoderDispatcher<State> dispatcher=new RequestDecoderDispatcher<>(protocol,logProvider);
  ChannelInboundHandler delegateOne=mock(ChannelInboundHandler.class);
  ChannelInboundHandler delegateTwo=mock(ChannelInboundHandler.class);
  ChannelInboundHandler delegateThree=mock(ChannelInboundHandler.class);
  dispatcher.register(State.one,delegateOne);
  dispatcher.register(State.two,delegateTwo);
  dispatcher.register(State.three,delegateThree);
  ChannelHandlerContext ctx=mock(ChannelHandlerContext.class);
  Object msg=new Object();
  dispatcher.channelRead(ctx,msg);
  verify(delegateTwo).channelRead(ctx,msg);
  verifyNoMoreInteractions(delegateTwo);
  verifyZeroInteractions(delegateOne,delegateThree);
}
