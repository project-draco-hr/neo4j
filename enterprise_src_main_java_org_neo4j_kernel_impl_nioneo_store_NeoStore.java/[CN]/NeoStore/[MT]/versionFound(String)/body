{
  if (!version.startsWith("NeoStore")) {
    return false;
  }
  if (version.equals("NeoStore v0.9.3")) {
    ByteBuffer buffer=ByteBuffer.wrap(new byte[3 * RECORD_SIZE]);
    long time=System.currentTimeMillis();
    long random=r.nextLong();
    buffer.put(Record.IN_USE.byteValue()).putLong(time);
    buffer.put(Record.IN_USE.byteValue()).putLong(random);
    buffer.put(Record.IN_USE.byteValue()).putLong(0);
    buffer.flip();
    try {
      getFileChannel().write(buffer,0);
    }
 catch (    IOException e) {
      throw new UnderlyingStorageException(e);
    }
    rebuildIdGenerator();
    closeIdGenerator();
    return true;
  }
 else   if (version.equals("NeoStore v0.9.4")) {
    rebuildIdGenerator();
    closeIdGenerator();
    return true;
  }
  throw new IllegalStoreVersionException("Store version [" + version + "]. Please make sure you are not running old Neo4j kernel "+ " towards a store that has been created by newer version "+ " of Neo4j.");
}
