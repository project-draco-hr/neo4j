{
  MadeUpImplementation serverImplementation=new MadeUpImplementation(storeIdToUse);
  MadeUpServer server=madeUpServer(serverImplementation);
  MadeUpClient client=new MadeUpClient(PORT,storeIdToUse,INTERNAL_PROTOCOL_VERSION,APPLICATION_PROTOCOL_VERSION);
  int value1=10;
  int value2=5;
  Response<Integer> response=client.multiply(10,5);
  waitUntilResponseHasBeenWritten(server,1000);
  assertEquals((Integer)(value1 * value2),response.response());
  assertTrue(serverImplementation.gotCalled());
  assertTrue(server.responseHasBeenWritten());
  client.shutdown();
  server.shutdown();
}
