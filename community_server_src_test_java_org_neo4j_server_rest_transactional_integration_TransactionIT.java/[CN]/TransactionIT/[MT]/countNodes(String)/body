{
  Set<Label> givenLabels=new HashSet<>(labels.length);
  for (  String label : labels) {
    givenLabels.add(Label.label(label));
  }
  try (Transaction transaction=graphdb().beginTx()){
    long count=0;
    for (    Node node : graphdb().getAllNodes()) {
      Set<Label> nodeLabels=IteratorUtil.asSet(node.getLabels());
      if (nodeLabels.containsAll(givenLabels)) {
        count++;
      }
    }
    transaction.failure();
    return count;
  }
 }
