{
  try {
    String root=getRoot();
    String path=root + "/" + MASTER_NOTIFY_CHILD;
    byte[] data=zooKeeper.getData(path,false,null);
    return ByteBuffer.wrap(data).getInt();
  }
 catch (  KeeperException e) {
    if (e.code() != KeeperException.Code.NONODE) {
      throw new ZooKeeperException("Couldn't get master notify node",e);
    }
    return XaLogicalLog.MASTER_ID_REPRESENTING_NO_MASTER;
  }
catch (  InterruptedException e) {
    throw new RuntimeException("Get interrupted",e);
  }
}
