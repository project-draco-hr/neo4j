{
  ExecutorService executor=Executors.newCachedThreadPool();
  ClientBootstrap bootstrap=new ClientBootstrap(new NioClientSocketChannelFactory(executor,executor));
  BlockingReadHandler<ChannelBuffer> blockingReadHandler=new BlockingReadHandler<ChannelBuffer>();
  bootstrap.setPipelineFactory(new ClientPipelineFactory(blockingReadHandler));
  ChannelFuture channelFuture=bootstrap.connect(new InetSocketAddress(hostNameOrIp,port));
  Client client=new Client(blockingReadHandler,channelFuture);
  client.awaitConnected();
  System.out.println("Client connected to " + hostNameOrIp + ":"+ port);
  return client;
}
