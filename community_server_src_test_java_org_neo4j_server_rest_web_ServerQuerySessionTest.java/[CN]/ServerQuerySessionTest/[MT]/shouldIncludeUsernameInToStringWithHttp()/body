{
  HttpServletRequest mock=mock(HttpServletRequest.class);
  when(mock.getRemoteAddr()).thenReturn("remote-addr");
  when(mock.getRequestURI()).thenReturn("req-uri");
  QuerySession session=new ServerQuerySession(mock,new FakeTransactionalContext(AccessMode.Static.READ));
  assertThat(session.toString(),equalTo(String.format("server-session\thttp\t%s\t%s\t%s","remote-addr","req-uri","READ")));
}
