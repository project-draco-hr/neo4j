{
  Set<Pair<IndexDescriptor,IOException>> exceptions=null;
  for (  Map.Entry<IndexDescriptor,IndexUpdater> updaterEntry : updaterMap.entrySet()) {
    IndexUpdater updater=updaterEntry.getValue();
    try {
      updater.close();
    }
 catch (    IOException e) {
      if (null == exceptions) {
        exceptions=new HashSet<>();
      }
      exceptions.add(Pair.of(updaterEntry.getKey(),e));
    }
  }
  clear();
  if (null != exceptions) {
    throw new IndexUpdaterMapCloseException(exceptions);
  }
}
