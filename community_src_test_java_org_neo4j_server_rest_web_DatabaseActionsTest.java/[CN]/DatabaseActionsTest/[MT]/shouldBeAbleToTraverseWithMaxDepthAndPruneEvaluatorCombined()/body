{
  long startNode=createBasicTraversableGraph();
  List<Object> hits=serialize(actions.traverse(startNode,MapUtil.map("max depth",2,"prune evaluator",MapUtil.map("language","javascript","body","position.endNode().getProperty('name').equals('Emil')")),TraverserReturnType.node));
  assertEquals(3,hits.size());
  hits=serialize(actions.traverse(startNode,MapUtil.map("max depth",1,"prune evaluator",MapUtil.map("language","javascript","body","position.endNode().getProperty('name').equals('Emil')")),TraverserReturnType.node));
  assertEquals(2,hits.size());
}
