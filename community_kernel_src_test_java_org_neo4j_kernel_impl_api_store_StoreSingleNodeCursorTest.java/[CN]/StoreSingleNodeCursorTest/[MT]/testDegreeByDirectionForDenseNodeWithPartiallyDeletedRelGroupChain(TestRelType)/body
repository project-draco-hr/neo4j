{
  int inRelCount=randomRelCount();
  int outRelCount=randomRelCount();
  int loopRelCount=randomRelCount();
  long nodeId=createNode(inRelCount,outRelCount,loopRelCount);
  StoreSingleNodeCursor cursor=newCursor(nodeId);
  for (  TestRelType type : typesToDelete) {
    markRelGroupNotInUse(nodeId,type);
switch (type) {
case IN:
      inRelCount=0;
    break;
case OUT:
  outRelCount=0;
break;
case LOOP:
loopRelCount=0;
break;
default :
throw new IllegalArgumentException("Unknown type: " + type);
}
}
assertEquals(outRelCount + loopRelCount,cursor.degree(OUTGOING));
assertEquals(inRelCount + loopRelCount,cursor.degree(INCOMING));
assertEquals(inRelCount + outRelCount + loopRelCount,cursor.degree(BOTH));
}
