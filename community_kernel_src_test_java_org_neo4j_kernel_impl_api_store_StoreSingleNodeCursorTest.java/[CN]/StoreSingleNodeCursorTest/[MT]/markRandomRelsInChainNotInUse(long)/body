{
  if (relId != Record.NO_NEXT_RELATIONSHIP.intValue()) {
    RelationshipRecord record=getRelRecord(relId);
    boolean shouldBeMarked=random.nextBoolean();
    if (shouldBeMarked) {
      record.setInUse(false);
      update(record);
    }
    markRandomRelsInChainNotInUse(record.getFirstNextRel());
    boolean isLoopRelationship=record.getFirstNextRel() == record.getSecondNextRel();
    if (!isLoopRelationship) {
      markRandomRelsInChainNotInUse(record.getSecondNextRel());
    }
  }
}
