{
  LogEntryReader<ReadableLogChannel> reader=new VersionAwareLogEntryReader(CommandReaderFactory.DEFAULT);
  NetworkReadableLogChannel channel=new NetworkReadableLogChannel(buffer);
  int authorId=channel.getInt();
  int masterId=channel.getInt();
  long latestCommittedTxWhenStarted=channel.getLong();
  long timeWritten=channel.getLong();
  int headerLength=channel.getInt();
  byte[] header=new byte[headerLength];
  channel.get(header,headerLength);
  LogEntry.Command entryRead;
  List<Command> commands=new LinkedList<>();
  while ((entryRead=(LogEntry.Command)reader.readLogEntry(channel)) != null) {
    commands.add(entryRead.getXaCommand());
  }
  PhysicalTransactionRepresentation toReturn=new PhysicalTransactionRepresentation(commands);
  toReturn.setHeader(header,masterId,authorId,timeWritten,latestCommittedTxWhenStarted);
  return toReturn;
}
