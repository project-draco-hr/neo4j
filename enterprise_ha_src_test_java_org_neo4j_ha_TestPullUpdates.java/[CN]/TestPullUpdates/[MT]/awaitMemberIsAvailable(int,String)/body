{
  final CountDownLatch memberIsAvailable=new CountDownLatch(1);
  final ClusterMemberEvents events=dbs[instance].getDependencyResolver().resolveDependency(ClusterMemberEvents.class);
  events.addClusterMemberListener(new ClusterMemberListener.Adapter(){
    @Override public void memberIsAvailable(    String role,    URI instanceClusterUri,    URI roleUri){
      if (role.equals(waitForRole)) {
        memberIsAvailable.countDown();
        events.removeClusterMemberListener(this);
      }
    }
  }
);
  return memberIsAvailable;
}
