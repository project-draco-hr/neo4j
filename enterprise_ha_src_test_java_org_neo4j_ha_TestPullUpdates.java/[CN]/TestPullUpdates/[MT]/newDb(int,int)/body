{
  HighlyAvailableGraphDatabase db=(HighlyAvailableGraphDatabase)new HighlyAvailableGraphDatabaseFactory().newHighlyAvailableDatabaseBuilder(dir.directory("" + (i + 1),true).getAbsolutePath()).setConfig(HaSettings.server_id,"" + (i + 1)).setConfig(HaSettings.ha_server,"127.0.0.1:" + (6361 + i)).setConfig(HaSettings.cluster_server,"127.0.0.1:" + (5001 + i)).setConfig(HaSettings.initial_hosts,"127.0.0.1:5001,127.0.0.1:5002,127.0.0.1:5003").setConfig(HaSettings.pull_interval,pullInterval + "ms").setConfig(HaSettings.tx_push_factor,"0").setConfig(ShellSettings.remote_shell_enabled,"true").setConfig(ShellSettings.remote_shell_port,"" + (SHELL_PORT + 1)).newGraphDatabase();
  Transaction tx=db.beginTx();
  tx.finish();
  return db;
}
