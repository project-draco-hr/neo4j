{
  int master=getCurrentMaster();
  setProperty(master,1);
  awaitPropagation(1);
  awaitNewMaster((master + 1) % dbs.length);
  kill(master);
  masterElectedLatch.await();
  setProperty(getCurrentMaster(),2);
  awaitNewMaster((master + 1) % dbs.length);
  start(master);
  masterElectedLatch.await();
  awaitPropagation(2);
}
