{
  EmbeddedGraphDatabase graph1=graphdb("graph1",true,0);
  StorePathState graph1state1=new StorePathExtension1().getState(getExtensions(graph1));
  StorePathState graph1state2=new StorePathExtension2().getState(getExtensions(graph1));
  EmbeddedGraphDatabase graph2=graphdb("graph2",true,1);
  StorePathState graph2state1=new StorePathExtension1().getState(getExtensions(graph2));
  StorePathState graph2state2=new StorePathExtension2().getState(getExtensions(graph2));
  assertNotSame(graph1state1,graph2state1);
  assertNotSame(graph1state1,graph2state2);
  assertNotSame(graph1state2,graph2state1);
  assertNotSame(graph1state2,graph2state2);
  assertNotSame(graph1state1,graph1state2);
  assertNotSame(graph2state1,graph2state2);
  String fromGraph1State1=graph1state1.path;
  assertEquals(graph1.getStoreDir(),fromGraph1State1);
  String fromGraph1State2=graph1state2.path;
  assertEquals(graph1.getStoreDir(),fromGraph1State2);
  String fromGraph2State1=graph2state1.path;
  assertEquals(graph2.getStoreDir(),fromGraph2State1);
  String fromGraph2State2=graph2state2.path;
  assertEquals(graph2.getStoreDir(),fromGraph2State2);
}
