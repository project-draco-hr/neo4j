{
  Command.NodeCommand nodeCommand=new Command.NodeCommand();
  NodeRecord theRecord=new NodeRecord(1);
  nodeCommand.init(theRecord,theRecord);
  final LogEntryCommand command=new LogEntryCommand(version,nodeCommand);
  final InMemoryLogChannel channel=new InMemoryLogChannel();
  channel.put(NeoCommandType.NODE_COMMAND);
  channel.putLong(theRecord.getLongId());
  channel.put((byte)0);
  channel.putInt(0);
  channel.put((byte)0);
  channel.putInt(0);
  channel.getCurrentPosition(marker);
  final LogEntryParser parser=version.entryParser(LogEntryByteCodes.COMMAND);
  final LogEntry logEntry=parser.parse(version,channel,marker,commandReader);
  assertEquals(command,logEntry);
  assertFalse(parser.skip());
}
