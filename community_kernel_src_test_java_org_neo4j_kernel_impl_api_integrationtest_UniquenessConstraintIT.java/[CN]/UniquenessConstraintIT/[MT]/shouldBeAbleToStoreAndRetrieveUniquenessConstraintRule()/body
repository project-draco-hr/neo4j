{
  newTransaction();
  long label=statement.getOrCreateLabelId("Foo");
  long propertyKey=statement.getOrCreatePropertyKeyId("bar");
  UniquenessConstraint constraint=statement.addUniquenessConstraint(label,propertyKey);
  Iterator<UniquenessConstraint> constraints=statement.getConstraints(label,propertyKey);
  assertTrue("should have at least one constraint",constraints.hasNext());
  assertEquals("should have the constraint we created",constraint,constraints.next());
  assertFalse("should have no more than one constraint",constraints.hasNext());
  commit();
  newTransaction();
  constraints=statement.getConstraints(label,propertyKey);
  assertTrue("should have at least one constraint",constraints.hasNext());
  assertEquals("should have the constraint we created",constraint,constraints.next());
  assertFalse("should have no more than one constraint",constraints.hasNext());
}
