{
  File copy=createTempFile("index","copy",directory.directory());
  copyFile(file,copy);
  RandomAccessFile raFile=new RandomAccessFile(copy,"rw");
  try {
    raFile.getChannel().truncate(fileSize);
  }
  finally {
    raFile.close();
  }
  return copy;
}
