{
  ReadableByteChannel reader=new FileInputStream(file).getChannel();
  ByteBuffer buffer=ByteBuffer.allocate(10000);
  List<XaCommand> commands=new ArrayList<XaCommand>();
  while (true) {
    XaCommand command=readCommand(reader,buffer);
    if (command == null) {
      break;
    }
    commands.add(command);
  }
  reader.close();
  return commands;
}
