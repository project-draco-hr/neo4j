{
  File file=createTempFile("index","command");
  FileChannel fileChannel=new RandomAccessFile(file,"rw").getChannel();
  LogBuffer writeBuffer=defaultLogBufferFactory(stringMap()).create(fileChannel);
  for (  XaCommand command : commands) {
    command.writeToFile(writeBuffer);
  }
  writeBuffer.force();
  fileChannel.close();
  return file;
}
