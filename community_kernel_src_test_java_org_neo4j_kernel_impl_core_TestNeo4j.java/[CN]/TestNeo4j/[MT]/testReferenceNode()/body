{
  Node oldReferenceNode=null;
  try {
    oldReferenceNode=getGraphDb().getReferenceNode();
  }
 catch (  RuntimeException e) {
  }
  Node newReferenceNode=getGraphDb().createNode();
  getNodeManager().setReferenceNodeId(newReferenceNode.getId());
  assertEquals(newReferenceNode,getGraphDb().getReferenceNode());
  newReferenceNode.delete();
  if (oldReferenceNode != null) {
    getNodeManager().setReferenceNodeId(oldReferenceNode.getId());
    assertEquals(oldReferenceNode,getGraphDb().getReferenceNode());
  }
}
