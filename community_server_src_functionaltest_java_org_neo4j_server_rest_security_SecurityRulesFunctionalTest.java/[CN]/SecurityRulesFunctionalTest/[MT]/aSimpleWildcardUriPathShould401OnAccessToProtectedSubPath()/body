{
  String mountPoint="/protected/tree/starts/here" + DummyThirdPartyWebService.DUMMY_WEB_SERVICE_MOUNT_POINT;
  server=ServerBuilder.server().withDefaultDatabaseTuning().withThirdPartyJaxRsPackage("org.dummy.web.service",mountPoint).withSecurityRules(PermanentlyFailingSecurityRuleWithWildcardPath.class.getCanonicalName()).build();
  server.start();
  gen.get().addTestSourceSnippets(PermanentlyFailingSecurityRuleWithWildcardPath.class,"failingRuleWithWildcardPath");
  functionalTestHelper=new FunctionalTestHelper(server);
  ClientResponse clientResponse=Client.create().resource(trimTrailingSlash(functionalTestHelper.baseUri()) + mountPoint + "/more/stuff").accept(MediaType.TEXT_PLAIN).get(ClientResponse.class);
  assertEquals(401,clientResponse.getStatus());
}
