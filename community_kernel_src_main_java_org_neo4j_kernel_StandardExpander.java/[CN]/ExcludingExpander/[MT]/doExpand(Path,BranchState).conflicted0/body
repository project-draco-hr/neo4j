{
  final Node node=path.endNode();
  return new FilteringIterator<Relationship>(node.getRelationships().iterator(),new Predicate<Relationship>(){
    public boolean test(    Relationship rel){
      Exclusion exclude=exclusion.get(rel.getType().name());
      exclude=(exclude == null) ? defaultExclusion : exclude;
      return exclude.accept(node,rel);
    }
  }
);
}
