{
  EventConsumer eventHook=new EventConsumer(operation);
  try {
    eventManager.registerReActiveEventListener(eventHook,operation);
    Integer eventIdentifier=performOperation(operation);
    Thread.sleep(500);
    assertTrue(operation + " event not generated",eventHook.received());
    assertEquals("Event generated, but with wrong event identifier",eventHook.getEventIdentifier(),eventIdentifier);
  }
 catch (  Exception e) {
    fail("Exception raised during testing of TX_BEGIN event: " + e);
  }
 finally {
    try {
      eventManager.unregisterReActiveEventListener(eventHook,operation);
      txManager.rollback();
    }
 catch (    Exception e) {
    }
  }
}
