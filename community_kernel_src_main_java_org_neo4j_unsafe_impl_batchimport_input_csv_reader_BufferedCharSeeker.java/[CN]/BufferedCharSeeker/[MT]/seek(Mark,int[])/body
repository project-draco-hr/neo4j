{
  seekStartPos=bufferPos;
  int ch;
  while ((ch=nextChar()) != EOL_CHAR && ch != EOL_CHAR_2 && ch != EOF_CHAR) {
    for (int i=0; i < untilOneOfChars.length; i++) {
      if (ch == untilOneOfChars[i]) {
        mark.set(lineNumber,seekStartPos,bufferPos - 1,ch);
        return true;
      }
    }
  }
  try {
    if (bufferPos - seekStartPos == 1) {
      mark.set(lineNumber,-1,-1,Mark.END_OF_LINE_CHARACTER);
      return false;
    }
    int skipped=skipEolChars();
    mark.set(lineNumber,seekStartPos,bufferPos - 1 - skipped,Mark.END_OF_LINE_CHARACTER);
    lineNumber++;
    return true;
  }
  finally {
    if (ch == EOF_CHAR) {
      bufferPos--;
    }
  }
}
