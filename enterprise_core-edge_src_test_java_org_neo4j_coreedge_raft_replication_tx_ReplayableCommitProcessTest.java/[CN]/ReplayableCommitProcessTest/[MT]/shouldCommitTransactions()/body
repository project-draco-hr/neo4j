{
  TransactionRepresentation newTx1=mock(TransactionRepresentation.class);
  TransactionRepresentation newTx2=mock(TransactionRepresentation.class);
  TransactionRepresentation newTx3=mock(TransactionRepresentation.class);
  StubLocalDatabase localDatabase=new StubLocalDatabase(1);
  final ReplayableCommitProcess txListener=new ReplayableCommitProcess(localDatabase,localDatabase);
  txListener.commit(newTx1,new LockGroup(),NULL,EXTERNAL);
  txListener.commit(newTx2,new LockGroup(),NULL,EXTERNAL);
  txListener.commit(newTx3,new LockGroup(),NULL,EXTERNAL);
  verify(localDatabase.commitProcess,times(3)).commit(any(TransactionRepresentation.class),any(LockGroup.class),any(CommitEvent.class),any(TransactionApplicationMode.class));
}
