{
  Logger log=Logger.getLogger(CommonAbstractStore.class.getName());
  Level level=log.getLevel();
  try {
    log.setLevel(Level.OFF);
    ByteStore.createStore(dynamicStoreFile(),30,path()).close();
    java.nio.channels.FileChannel fileChannel=new java.io.RandomAccessFile(dynamicStoreFile(),"rw").getChannel();
    fileChannel.truncate(fileChannel.size() - 2);
    fileChannel.close();
    ByteStore store=new ByteStore(dynamicStoreFile(),ID_GENERATOR_FACTORY,path());
    store.makeStoreOk();
    store.close();
  }
  finally {
    log.setLevel(level);
    deleteBothFiles();
  }
}
