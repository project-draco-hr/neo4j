{
  String oldMembers=members.values().toString();
  if (coordinatorId.equals(this.masterId)) {
    return;
  }
  this.masterId=coordinatorId;
  Map<InstanceId,ClusterMember> newMembers=new HashMap<>();
  for (  Map.Entry<InstanceId,ClusterMember> memberEntry : members.entrySet()) {
    newMembers.put(memberEntry.getKey(),memberEntry.getValue().unavailableAs(HighAvailabilityModeSwitcher.MASTER).unavailableAs(HighAvailabilityModeSwitcher.SLAVE));
  }
  members.clear();
  members.putAll(newMembers);
  log.debug("Coordinator is elected. Instance: " + coordinatorId + ". OldMembers: "+ oldMembers+ ". "+ "NewMembers: "+ members.values());
}
