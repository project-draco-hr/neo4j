{
  StoreChannel fileChannel=fileSystem.open(new File(logPath),"r");
  LogHeader header=readLogHeader(ByteBuffer.allocateDirect(LOG_HEADER_SIZE),fileChannel,true);
  PhysicalLogVersionedStoreChannel versionedStoreChannel=new PhysicalLogVersionedStoreChannel(fileChannel,header.logVersion,header.logFormatVersion);
  ReadableLogChannel logChannel=new ReadAheadLogChannel(versionedStoreChannel,NO_MORE_CHANNELS);
  return Iterables.toList(new IOCursorAsResourceIterable<>(new LogEntryCursor(new VersionAwareLogEntryReader<>(new RecordStorageCommandReaderFactory()),logChannel)));
}
