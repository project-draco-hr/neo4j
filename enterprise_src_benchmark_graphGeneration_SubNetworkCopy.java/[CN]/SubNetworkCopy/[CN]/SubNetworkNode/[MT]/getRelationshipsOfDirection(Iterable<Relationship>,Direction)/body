{
  List<Relationship> result=new LinkedList<Relationship>();
  for (  Relationship relationship : rels) {
    if (dir.equals(Direction.BOTH) || (dir.equals(Direction.OUTGOING) && relationship.getStartNode().equals(this)) || (dir.equals(Direction.INCOMING) && relationship.getEndNode().equals(this))) {
      result.add(relationship);
    }
  }
  return result;
}
