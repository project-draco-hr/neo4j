{
  RequestDecoderDispatcher<State> decoderDispatcher=new RequestDecoderDispatcher<>(protocol,logProvider);
  decoderDispatcher.register(State.STORE_ID,new GetStoreIdResponseDecoder());
  decoderDispatcher.register(State.TX_PULL_RESPONSE,new TxPullResponseDecoder());
  decoderDispatcher.register(State.CORE_SNAPSHOT,new CoreSnapshotDecoder());
  decoderDispatcher.register(State.STORE_COPY_FINISHED,new StoreCopyFinishedResponseDecoder());
  decoderDispatcher.register(State.TX_STREAM_FINISHED,new TxStreamFinishedResponseDecoder());
  decoderDispatcher.register(State.FILE_HEADER,new FileHeaderDecoder());
  decoderDispatcher.register(State.FILE_CONTENTS,new FileContentDecoder());
  return decoderDispatcher;
}
