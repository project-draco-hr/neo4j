{
  TransactionContext mockedTxContext=mock(TransactionContext.class);
  StatementContext mockedStatementCtx=mock(StatementContext.class);
  when(mockedTxContext.newStatementContext()).thenReturn(mockedStatementCtx);
  ThreadToStatementContextBridge bridge=new ThreadToStatementContextBridge(null);
  bridge.setTransactionContextForThread(mockedTxContext);
  StatementContext ctx=bridge.getCtxForWriting();
  verify(mockedTxContext).newStatementContext();
  assertEquals("Should have returned the expected statement context",mockedStatementCtx,ctx);
}
