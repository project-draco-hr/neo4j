{
  OnlineIndexSamplingJobFactory jobFactory=new OnlineIndexSamplingJobFactory(storeView,logging);
  IndexSamplingJobQueue jobQueue=new IndexSamplingJobQueue(createSamplingUpdatePredicate(samplingConfig));
  IndexSamplingJobTracker jobTracker=new IndexSamplingJobTracker(samplingConfig,scheduler);
  return new IndexSamplingController(samplingConfig,jobFactory,jobQueue,jobTracker,snapshotProvider);
}
