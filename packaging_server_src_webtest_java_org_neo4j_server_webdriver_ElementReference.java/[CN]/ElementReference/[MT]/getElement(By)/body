{
  long end=System.currentTimeMillis() + 10000;
  while (System.currentTimeMillis() < end) {
    try {
      if (matchLast) {
        List<WebElement> els=webDriver.findElements(selector);
        if (els.size() > 0) {
          return (RenderedWebElement)els.get(els.size() - 1);
        }
      }
 else {
        return (RenderedWebElement)webDriver.findElement(selector);
      }
    }
 catch (    NoSuchElementException ex) {
      try {
        Thread.sleep(13);
      }
 catch (      InterruptedException e) {
        throw new RuntimeException(e);
      }
    }
  }
  throw new NoSuchElementException("Unable to locate element: " + selector.toString());
}
