{
  final CoreTopologyService coreTopologyService=mock(CoreTopologyService.class);
  final ClusterTopology clusterTopology=mock(ClusterTopology.class);
  when(coreTopologyService.currentTopology()).thenReturn(clusterTopology);
  when(clusterTopology.edgeMembers()).thenReturn(edgeMembers(1,2,3,4,5));
  final DiscoverMembersProcedure proc=new DiscoverMembersProcedure(coreTopologyService);
  final List<Object[]> members=asList(proc.apply(null,new Object[]{RYOW_EDGE.name()}));
  assertThat(members,containsInAnyOrder(new Object[]{"localhost:3001"},new Object[]{"localhost:3002"},new Object[]{"localhost:3003"},new Object[]{"localhost:3004"},new Object[]{"localhost:3005"}));
}
