{
  Slaves slavesList=db.getDependencyResolver().resolveDependency(Slaves.class);
  long end=System.currentTimeMillis() + TimeUnit.SECONDS.toMillis(200);
  while (!predicate.accept(slavesList) && System.currentTimeMillis() < end) {
    try {
      Thread.sleep(100);
    }
 catch (    InterruptedException e) {
    }
  }
  if (System.currentTimeMillis() > end)   throw new RuntimeException("Didn't meet slave list requirement");
}
