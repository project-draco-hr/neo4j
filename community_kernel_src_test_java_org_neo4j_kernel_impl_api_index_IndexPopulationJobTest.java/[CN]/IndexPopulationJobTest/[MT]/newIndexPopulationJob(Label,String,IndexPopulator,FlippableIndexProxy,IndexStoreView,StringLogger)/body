{
  IndexDescriptor descriptor;
  Transaction tx=db.beginTx();
  try {
    StatementContext ctx=ctxProvider.getCtxForWriting();
    descriptor=new IndexDescriptor(ctx.labelGetForName(label.name()),ctx.propertyKeyGetForName(propertyKey));
    tx.success();
  }
  finally {
    tx.finish();
  }
  flipper.setFlipTarget(mock(IndexProxyFactory.class));
  return new IndexPopulationJob(descriptor,PROVIDER_DESCRIPTOR,populator,flipper,storeView,stateHolder,new SingleLoggingService(logger));
}
