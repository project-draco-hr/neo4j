{
  IndexDescriptor descriptor;
  Transaction tx=db.beginTx();
  try {
    ReadOperations statement=ctxProvider.statement().readOperations();
    descriptor=new IndexDescriptor(statement.labelGetForName(label.name()),statement.propertyKeyGetForName(propertyKey));
    tx.success();
  }
  finally {
    tx.finish();
  }
  flipper.setFlipTarget(mock(IndexProxyFactory.class));
  return new IndexPopulationJob(descriptor,PROVIDER_DESCRIPTOR,format(":%s(%s)",label.name(),propertyKey),failureDelegateFactory,populator,flipper,storeView,stateHolder,new SingleLoggingService(logger));
}
