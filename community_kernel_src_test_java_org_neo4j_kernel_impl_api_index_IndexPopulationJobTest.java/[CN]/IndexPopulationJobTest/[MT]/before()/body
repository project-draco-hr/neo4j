{
  db=new ImpermanentGraphDatabase();
  ctxProvider=db.getDependencyResolver().resolveDependency(ThreadToStatementContextBridge.class);
  context=ctxProvider.getCtxForReading();
  populator=mock(IndexPopulator.class);
  stateHolder=new KernelSchemaStateStore();
  Transaction tx=db.beginTx();
  firstLabelId=ctxProvider.getCtxForWriting().getOrCreateLabelId(FIRST.name());
  secondLabelId=ctxProvider.getCtxForWriting().getOrCreateLabelId(SECOND.name());
  tx.success();
  tx.finish();
}
