{
  if (idGenerator == null) {
    throw new IllegalStateException("IdGenerator is not initialized");
  }
  return idGenerator.nextId();
}
