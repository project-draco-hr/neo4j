{
  PropertyContainer container;
  if (resource instanceof NodeImpl) {
    container=new NodeProxy(resource.getId(),this);
  }
 else   if (resource instanceof RelationshipImpl) {
    container=new RelationshipProxy(resource.getId(),this);
  }
 else {
    throw new LockException("Unkown primitivite type: " + resource);
  }
  if (lockType == LockType.READ) {
    lockManager.releaseReadLock(container,null);
  }
 else   if (lockType == LockType.WRITE) {
    lockReleaser.addLockToTransaction(container,lockType);
  }
 else {
    throw new LockException("Unknown lock type: " + lockType);
  }
}
