{
  byte[] someBytes=new byte[]{1,2,3,4,5};
  Monitor monitor=mock(Monitor.class);
  WindowPool pool=pool(monitor,Mode.APPEND_ONLY);
{
    PersistenceWindow window=pool.acquire(recordId(1,2),OperationType.WRITE);
    window.getOffsettedBuffer(recordId(1,2)).put(someBytes);
  }
  PersistenceWindow window=pool.acquire(recordId(2,2),OperationType.WRITE);
  byte[] readBack=new byte[someBytes.length];
  window.getOffsettedBuffer(recordId(2,2)).get(readBack);
  byte[] zeros=new byte[someBytes.length];
  Arrays.fill(zeros,(byte)0);
  assertArrayEquals(zeros,readBack);
}
