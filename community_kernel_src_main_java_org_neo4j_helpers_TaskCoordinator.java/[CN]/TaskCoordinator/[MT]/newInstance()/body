{
  if (cancelled) {
    throw new IllegalStateException("This manager has already been cancelled.");
  }
  TASKS.incrementAndGet(this);
  return new TaskControl(){
    private volatile boolean closed;
    @Override public void close(){
      if (!closed) {
        closed=true;
        TASKS.decrementAndGet(TaskCoordinator.this);
      }
    }
    @Override public boolean cancellationRequested(){
      return cancelled;
    }
  }
;
}
