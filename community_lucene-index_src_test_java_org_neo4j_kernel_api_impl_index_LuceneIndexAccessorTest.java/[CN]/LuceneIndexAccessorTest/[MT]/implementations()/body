{
  final File dir=new File("dir");
  final LuceneDocumentStructure documentLogic=new LuceneDocumentStructure();
  return Arrays.asList(arg(new IOFunction<DirectoryFactory,LuceneIndexAccessor>(){
    @Override public LuceneIndexAccessor apply(    DirectoryFactory dirFactory) throws IOException {
      PartitionedIndexStorage indexStorage=getIndexStorage(dirFactory,dir);
      LuceneIndex luceneIndex=new LuceneIndex(indexStorage,new IndexConfiguration(false),new IndexSamplingConfig(new Config()));
      luceneIndex.open();
      return new LuceneIndexAccessor(luceneIndex);
    }
  }
),arg(new IOFunction<DirectoryFactory,LuceneIndexAccessor>(){
    @Override public LuceneIndexAccessor apply(    DirectoryFactory dirFactory) throws IOException {
      PartitionedIndexStorage indexStorage=getIndexStorage(dirFactory,dir);
      LuceneIndex luceneIndex=new LuceneIndex(indexStorage,new IndexConfiguration(true),new IndexSamplingConfig(new Config()));
      luceneIndex.open();
      return new LuceneIndexAccessor(luceneIndex);
    }
  }
));
}
