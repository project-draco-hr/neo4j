{
  final File dir=new File("dir");
  final LuceneDocumentStructure documentLogic=new LuceneDocumentStructure();
  return Arrays.asList(arg(new IOFunction<DirectoryFactory,LuceneIndexAccessor>(){
    @Override public LuceneIndexAccessor apply(    DirectoryFactory dirFactory) throws IOException {
      LuceneSchemaIndex index=LuceneSchemaIndexBuilder.create().withFileSystem(new EphemeralFileSystemAbstraction()).withDirectoryFactory(dirFactory).withIndexRootFolder(dir).withIndexIdentifier("1").build();
      index.create();
      index.open();
      return new LuceneIndexAccessor(index);
    }
  }
),arg(new IOFunction<DirectoryFactory,LuceneIndexAccessor>(){
    @Override public LuceneIndexAccessor apply(    DirectoryFactory dirFactory) throws IOException {
      LuceneSchemaIndex index=LuceneSchemaIndexBuilder.create().uniqueIndex().withFileSystem(new EphemeralFileSystemAbstraction()).withDirectoryFactory(dirFactory).withIndexRootFolder(dir).withIndexIdentifier("testIndex").build();
      index.create();
      index.open();
      return new LuceneIndexAccessor(index);
    }
  }
));
}
