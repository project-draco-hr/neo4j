{
  final ByteBuffer buffer=ByteBuffer.allocate(LOG_HEADER_SIZE);
  final ReadableByteChannel channel=mock(ReadableByteChannel.class);
  when(channel.read(buffer)).thenReturn(1);
  try {
    readLogHeader(buffer,channel,true,null);
    fail("should have thrown");
  }
 catch (  IncompleteLogHeaderException ex) {
  }
}
