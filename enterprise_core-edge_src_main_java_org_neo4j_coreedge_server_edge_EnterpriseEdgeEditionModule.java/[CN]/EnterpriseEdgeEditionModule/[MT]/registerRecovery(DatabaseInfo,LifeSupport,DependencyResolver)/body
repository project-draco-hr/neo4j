{
  life.addLifecycleListener(new LifecycleListener(){
    @Override public void notifyStatusChanged(    Object instance,    LifecycleStatus from,    LifecycleStatus to){
      if (instance instanceof DatabaseAvailability && to.equals(LifecycleStatus.STARTED)) {
        doAfterRecoveryAndStartup(databaseInfo,dependencyResolver);
      }
    }
  }
);
}
