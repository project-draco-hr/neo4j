{
  try {
    long claimedSize=channel.size();
    ByteBuffer buffer=allocateDirect(8);
    channel.read(buffer,0);
    buffer.flip();
    if (claimedSize == 8) {
      assertEquals(1,buffer.getLong());
    }
 else {
      try {
        buffer.getLong();
        fail("Should have thrown an exception");
      }
 catch (      BufferUnderflowException e) {
      }
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
