{
  int recordToFind=propRecord.getKeyBlockId();
  Iterator<DynamicRecord> records=propRecord.getKeyRecords().iterator();
  List<char[]> charList=new LinkedList<char[]>();
  int totalSize=0;
  while (recordToFind != Record.NO_NEXT_BLOCK.intValue() && records.hasNext()) {
    DynamicRecord record=records.next();
    if (record.inUse() && record.getId() == recordToFind) {
      if (record.isLight()) {
        keyPropertyStore.makeHeavy(record);
      }
      if (!record.isCharData()) {
        ByteBuffer buf=ByteBuffer.wrap(record.getData());
        char[] chars=new char[record.getData().length / 2];
        totalSize+=chars.length;
        buf.asCharBuffer().get(chars);
        charList.add(chars);
      }
 else {
        charList.add(record.getDataAsChar());
      }
      recordToFind=(int)record.getNextBlock();
      records=propRecord.getKeyRecords().iterator();
    }
  }
  StringBuilder buf=new StringBuilder();
  for (  char[] str : charList) {
    buf.append(str);
  }
  return buf.toString();
}
