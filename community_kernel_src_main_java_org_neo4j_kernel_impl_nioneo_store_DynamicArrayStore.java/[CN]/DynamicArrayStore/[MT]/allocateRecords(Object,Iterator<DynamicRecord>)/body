{
  if (!array.getClass().isArray()) {
    throw new IllegalArgumentException(array + " not an array");
  }
  Class<?> type=array.getClass().getComponentType();
  if (type.equals(String.class)) {
    return allocateFromString((String[])array,recordsToUseFirst,recordAllocator);
  }
 else {
    return allocateFromNumbers(array,recordsToUseFirst,recordAllocator);
  }
}
