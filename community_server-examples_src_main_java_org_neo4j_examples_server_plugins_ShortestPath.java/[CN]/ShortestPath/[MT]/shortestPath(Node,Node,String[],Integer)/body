{
  Expander expander;
  if (types == null) {
    expander=Traversal.expanderForAllTypes();
  }
 else {
    expander=Traversal.emptyExpander();
    for (int i=0; i < types.length; i++) {
      expander=expander.add(DynamicRelationshipType.withName(types[i]));
    }
  }
  PathFinder<Path> shortestPath=GraphAlgoFactory.shortestPath(expander,depth == null ? 4 : depth.intValue());
  return shortestPath.findAllPaths(source,target);
}
