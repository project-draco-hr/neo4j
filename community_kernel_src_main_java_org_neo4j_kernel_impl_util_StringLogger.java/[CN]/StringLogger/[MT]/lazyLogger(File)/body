{
  return new StringLogger(){
    StringLogger logger=null;
    @Override public void logLongMessage(    String msg,    Visitor<LineLogger,RuntimeException> source,    boolean flush){
      createLogger();
      logger.logLongMessage(msg,source,flush);
    }
    @Override public void logMessage(    String msg,    boolean flush){
      createLogger();
      logger.logMessage(msg,flush);
    }
    @Override public void logMessage(    String msg,    LogMarker marker){
      createLogger();
      logger.logMessage(msg,marker);
    }
    @Override public void logMessage(    String msg,    Throwable cause,    boolean flush){
      createLogger();
      logger.logMessage(msg,cause,flush);
    }
    @Override public void addRotationListener(    Runnable listener){
      createLogger();
      logger.addRotationListener(listener);
    }
    @Override public void flush(){
      createLogger();
      logger.flush();
    }
    @Override public void close(){
      if (logger != null) {
        logger.close();
      }
    }
    @Override protected void logLine(    String line){
      createLogger();
      logger.logLine(line);
    }
    private synchronized void createLogger(){
      if (logger == null) {
        logger=logger(logFile);
      }
    }
  }
;
}
