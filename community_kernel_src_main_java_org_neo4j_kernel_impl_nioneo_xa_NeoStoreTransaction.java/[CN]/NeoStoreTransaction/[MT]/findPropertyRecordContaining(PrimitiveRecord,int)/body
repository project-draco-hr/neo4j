{
  long propertyRecordId=primitive.getNextProp();
  while (!Record.NO_NEXT_PROPERTY.is(propertyRecordId)) {
    PropertyRecord propertyRecord=context.getPropertyRecords().getOrLoad(propertyRecordId,primitive).forReadingLinkage();
    if (propertyRecord.getPropertyBlock(propertyKey) != null) {
      return propertyRecordId;
    }
    propertyRecordId=propertyRecord.getNextProp();
  }
  throw new IllegalStateException("No property record in property chain for " + primitive + " contained property with key "+ propertyKey);
}
