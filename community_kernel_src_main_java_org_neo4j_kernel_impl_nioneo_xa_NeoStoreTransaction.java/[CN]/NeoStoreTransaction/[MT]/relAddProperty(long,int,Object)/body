{
  RecordProxy<Long,RelationshipRecord,Void> rel=context.getRelRecords().getOrLoad(relId,null);
  RelationshipRecord relRecord=rel.forReadingLinkage();
  if (!relRecord.inUse()) {
    throw new IllegalStateException("Property add on relationship[" + relId + "] illegal since it has been deleted.");
  }
  context.primitiveAddProperty(rel,propertyKey,value);
  return Property.property(propertyKey,value);
}
