{
  long nodeId;
  int labelId1, labelId2;
  try (Transaction tx=db.beginTx()){
    nodeId=db.createNode(label1,label2).getId();
    String labelName1=label1.name(), labelName2=label2.name();
    labelId1=statement.labelGetForName(state,labelName1);
    labelId2=statement.labelGetOrCreateForName(state,labelName2);
    tx.success();
  }
   PrimitiveIntIterator readLabels=statement.nodeGetLabels(state,nodeId);
  assertEquals(new HashSet<>(asList(labelId1,labelId2)),addToCollection(readLabels,new HashSet<Integer>()));
}
