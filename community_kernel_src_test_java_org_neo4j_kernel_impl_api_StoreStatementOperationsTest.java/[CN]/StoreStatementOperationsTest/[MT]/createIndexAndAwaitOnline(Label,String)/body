{
  Transaction tx=db.beginTx();
  IndexDefinition index=null;
  try {
    index=db.schema().indexFor(label).on(propertyKey).create();
    tx.success();
  }
  finally {
    tx.finish();
  }
  tx=db.beginTx();
  try {
    db.schema().awaitIndexOnline(index,10,SECONDS);
    return statement.indexesGetForLabelAndPropertyKey(state,statement.labelGetForName(state,label.name()),statement.propertyKeyGetForName(state,propertyKey));
  }
  finally {
    tx.finish();
  }
}
