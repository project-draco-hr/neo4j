{
  if (lock == null) {
    throw new IllegalArgumentException("Null lock");
  }
  return new FileLock(){
    @Override public void release() throws IOException {
      lock.release();
    }
  }
;
}
