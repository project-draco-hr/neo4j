{
  ClusterManager.ManagedCluster cluster=clusterRule.startCluster();
  HighlyAvailableGraphDatabase slave=cluster.getAnySlave();
  String type=type(1);
  String key=key(1);
  try (Transaction ignored=slave.beginTx()){
    createConstraint(slave,type,key);
    fail("We expected to not be able to create a constraint on a slave in a cluster.");
  }
 catch (  QueryExecutionException e) {
    assertThat(Exceptions.rootCause(e),instanceOf(InvalidTransactionTypeKernelException.class));
  }
}
