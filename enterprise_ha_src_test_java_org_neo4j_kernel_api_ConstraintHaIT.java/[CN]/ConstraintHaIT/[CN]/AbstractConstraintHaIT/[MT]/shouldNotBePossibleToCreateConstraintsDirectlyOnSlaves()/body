{
  ClusterManager.ManagedCluster cluster=clusterRule.startCluster();
  HighlyAvailableGraphDatabase slave=cluster.getAnySlave();
  try (Transaction ignored=slave.beginTx()){
    createConstraint(slave,TYPE,PROPERTY_KEY);
    fail("We expected to not be able to create a constraint on a slave in a cluster.");
  }
 catch (  QueryExecutionException e) {
    assertThat(Exceptions.rootCause(e),instanceOf(InvalidTransactionTypeKernelException.class));
  }
}
