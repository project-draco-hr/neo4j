{
  StoreAccess storeAccess=storeAccess(1000L,9);
  DiffRecordAccess recordAccess=mock(DiffRecordAccess.class);
  long memoryPerPass=900L;
  List<DiffRecordAccess> filters=multiPassStore().multiPassFilters(memoryPerPass,storeAccess,recordAccess,MultiPassStore.values());
  assertEquals(11,filters.size());
  assertFinds(record(filters.get(0),0));
  assertFinds(record(filters.get(0),99));
  assertFinds(record(filters.get(1),100));
  assertFinds(record(filters.get(1),199));
  assertFinds(record(filters.get(2),200));
  assertFinds(record(filters.get(2),299));
  assertFinds(record(filters.get(10),1000));
  assertSkips(record(filters.get(1),0));
  assertSkips(record(filters.get(1),99));
  assertSkips(record(filters.get(2),100));
  assertSkips(record(filters.get(2),199));
  assertSkips(record(filters.get(0),100));
  assertSkips(record(filters.get(0),199));
  assertSkips(record(filters.get(1),200));
  assertSkips(record(filters.get(1),299));
}
