{
  try {
    String host=hostnamePort.getHost();
    int port=hostnamePort.getPort();
    BackupOutcome outcome=backupService.doIncrementalBackupOrFallbackToFull(host,port,to,checkConsistency,config);
    systemOut.println("Done");
    return outcome;
  }
 catch (  MismatchingStoreIdException e) {
    systemOut.println("Backup failed.");
    throw new ToolFailureException(String.format(MISMATCHED_STORE_ID,e.getExpected(),e.getEncountered()));
  }
catch (  ComException e) {
    throw new ToolFailureException("Couldn't connect to '" + hostnamePort + "'",e);
  }
}
