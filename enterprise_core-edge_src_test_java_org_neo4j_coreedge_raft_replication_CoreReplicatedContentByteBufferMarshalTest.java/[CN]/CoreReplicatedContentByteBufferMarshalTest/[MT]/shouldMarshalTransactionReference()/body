{
  ByteBuf buffer=Unpooled.buffer();
  PhysicalTransactionRepresentation representation=new PhysicalTransactionRepresentation(Collections.<StorageCommand>emptyList());
  representation.setHeader(new byte[]{0},1,1,1,1,1,1);
  ReplicatedContent replicatedTx=ReplicatedTransactionFactory.createImmutableReplicatedTransaction(representation,globalSession,new LocalOperationId(0,0));
  marshal.marshal(replicatedTx,buffer);
  assertThat(marshal.unmarshal(buffer),equalTo(replicatedTx));
}
