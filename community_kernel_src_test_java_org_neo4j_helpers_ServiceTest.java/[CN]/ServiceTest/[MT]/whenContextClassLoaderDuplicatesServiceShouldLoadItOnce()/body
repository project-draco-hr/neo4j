{
  ClassLoader contextClassLoader=Thread.currentThread().getContextClassLoader();
  try {
    Thread.currentThread().setContextClassLoader(Service.class.getClassLoader());
    Iterable<FooService> services=Service.load(FooService.class);
    int size=0;
    for (    FooService fooService : services) {
      size++;
    }
    assertEquals(1,size);
  }
  finally {
    Thread.currentThread().setContextClassLoader(contextClassLoader);
  }
}
