{
  return new Function<From,To>(){
    @Override public To apply(    From from){
      To to=f.apply(from);
      if (to == null) {
        return defaults.apply(from);
      }
 else {
        return to;
      }
    }
  }
;
}
