{
  final Consumer<TransactionRepresentation,IOException> consumer=new Consumer<TransactionRepresentation,IOException>(){
    @Override public boolean accept(    TransactionRepresentation transaction) throws IOException {
      return recoveredTransactionVisitor.visit(transaction);
    }
  }
;
  logFile.open(new Visitor<ReadableLogChannel,IOException>(){
    @Override public boolean visit(    ReadableLogChannel channel) throws IOException {
      TransactionCursor cursor=new PhysicalTransactionCursor(channel,logEntryReader);
      while (cursor.next(consumer)) {
      }
      return true;
    }
  }
);
  this.appender=new PhysicalTransactionAppender(logFile.getWriter(),txIdGenerator,positionCache);
}
