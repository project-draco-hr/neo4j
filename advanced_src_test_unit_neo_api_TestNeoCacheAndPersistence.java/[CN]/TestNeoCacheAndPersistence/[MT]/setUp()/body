{
  UserTransaction ut=TransactionFactory.getUserTransaction();
  try {
    if (ut.getStatus() != Status.STATUS_NO_TRANSACTION) {
      fail("Status is not STATUS_NO_TRANSACTION but: " + ut.getStatus());
    }
    ut.begin();
    Node node1=NodeManager.getManager().createNode();
    Node node2=NodeManager.getManager().createNode();
    Relationship rel=NodeManager.getManager().createRelationship(node1,node2,MyRelTypes.TEST);
    node1Id=(int)node1.getId();
    node2Id=(int)node2.getId();
    node1.setProperty(key1,int1);
    node1.setProperty(key2,string1);
    node2.setProperty(key1,int2);
    node2.setProperty(key2,string2);
    rel.setProperty(key1,int1);
    rel.setProperty(key2,string1);
    ut.commit();
    NodeManager.getManager().clearCache();
    ut.begin();
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail("Failed to setup test population, " + e);
  }
}
