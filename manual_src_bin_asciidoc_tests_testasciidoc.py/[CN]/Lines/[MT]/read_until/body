def read_until(self, regexp):
    '\n        Return a list of lines from current position up until the next line\n        matching regexp.\n        Advance position to matching line.\n        '
    result = []
    if (not self.eol()):
        result.append(self[self.pos])
        self.pos += 1
    while (not self.eol()):
        if re.match(regexp, self[self.pos]):
            break
        result.append(self[self.pos])
        self.pos += 1
    return result
