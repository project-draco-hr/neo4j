{
  File path=new File("target/var/zipup");
  ZipInputStream zip=new ZipInputStream(getClass().getClassLoader().getResourceAsStream(file));
  ZipEntry entry=null;
  byte[] buffer=new byte[2048];
  while ((entry=zip.getNextEntry()) != null) {
    if (entry.isDirectory()) {
      new File(path,entry.getName()).mkdirs();
      continue;
    }
    FileOutputStream fos=new FileOutputStream(new File(path,entry.getName()));
    BufferedOutputStream bos=new BufferedOutputStream(fos,buffer.length);
    int size;
    while ((size=zip.read(buffer,0,buffer.length)) != -1) {
      bos.write(buffer,0,size);
    }
    bos.flush();
    bos.close();
  }
  return new EmbeddedGraphDatabase(path.getAbsolutePath());
}
