{
  GraphDatabaseService db=unpackDbFrom("db-with-v3.5.zip");
  assertTrue(db.index().existsForNodes("test"));
  assertTrue(db.index().existsForRelationships("test"));
  Index<Node> nodeIndex=db.index().forNodes("test");
  Node node1=nodeIndex.get("name","Me").getSingle();
  assertNotNull(node1);
  Node node2=nodeIndex.get("name","You").getSingle();
  assertNotNull(node2);
  assertNull(nodeIndex.get("name","Something else").getSingle());
  assertEquals(asSet(node1,node2),asSet(nodeIndex.query(numericRange("age",25,40))));
  Index<Relationship> relationshipIndex=db.index().forRelationships("test");
  Relationship relationship1=relationshipIndex.query(numericRange("since",123456789L,123456789L)).getSingle();
  assertNotNull(relationship1);
  Relationship relationship2=relationshipIndex.query(numericRange("since",987654321L,987654321L)).getSingle();
  assertNotNull(relationship2);
  assertEquals(asSet(relationship1,relationship2),asSet(relationshipIndex.query("text:words")));
}
