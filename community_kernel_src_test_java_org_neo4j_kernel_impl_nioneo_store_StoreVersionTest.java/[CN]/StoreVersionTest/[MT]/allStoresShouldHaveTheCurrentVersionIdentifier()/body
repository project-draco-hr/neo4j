{
  File outputDir=new File("target/var/" + StoreVersionTest.class.getSimpleName());
  FileUtils.deleteRecursively(outputDir);
  assertTrue(outputDir.mkdirs());
  String storeFileName=new File(outputDir,NeoStore.DEFAULT_NAME).getPath();
  Map<String,String> config=new HashMap<String,String>();
  config.put("neo_store",storeFileName);
  FileSystemAbstraction fileSystem=new DefaultFileSystemAbstraction();
  StoreFactory sf=new StoreFactory(new Config(StringLogger.DEV_NULL,fileSystem,config,Collections.<Class<?>>singletonList(GraphDatabaseSettings.class)),new DefaultIdGeneratorFactory(),fileSystem,null,StringLogger.SYSTEM,null);
  NeoStore neoStore=sf.createNeoStore(storeFileName);
  CommonAbstractStore[] stores={neoStore.getNodeStore(),neoStore.getRelationshipStore(),neoStore.getRelationshipTypeStore(),neoStore.getPropertyStore(),neoStore.getPropertyStore().getIndexStore()};
  for (  CommonAbstractStore store : stores) {
    assertThat(store.getTypeAndVersionDescriptor(),containsString(CommonAbstractStore.ALL_STORES_VERSION));
  }
  neoStore.close();
}
