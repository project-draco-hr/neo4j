{
  File outputDir=new File("target/var/" + StoreVersionTest.class.getSimpleName());
  FileUtils.deleteRecursively(outputDir);
  assertTrue(outputDir.mkdirs());
  String storeFileName=new File(outputDir,NeoStore.DEFAULT_NAME).getPath();
  HashMap config=new HashMap();
  config.put(IdGeneratorFactory.class,CommonFactories.defaultIdGeneratorFactory());
  config.put(FileSystemAbstraction.class,CommonFactories.defaultFileSystemAbstraction());
  config.put("neo_store",storeFileName);
  NeoStore.createStore(storeFileName,config);
  NeoStore neoStore=new NeoStore(config);
  CommonAbstractStore[] stores={neoStore.getNodeStore(),neoStore.getRelationshipStore(),neoStore.getRelationshipTypeStore(),neoStore.getPropertyStore(),neoStore.getPropertyStore().getIndexStore()};
  for (  CommonAbstractStore store : stores) {
    assertThat(store.getTypeAndVersionDescriptor(),containsString(CommonAbstractStore.ALL_STORES_VERSION));
  }
  neoStore.close();
}
