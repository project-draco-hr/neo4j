{
  LockResult result=null;
  do {
    result=receiver.receive(broker.getMaster().acquireReadLock(broker.getSlaveContext(),getLocalTxId(),(PropertyContainer)resource));
switch (result.getStatus()) {
case OK_LOCKED:
      super.getReadLock(resource);
    return;
case DEAD_LOCKED:
  throw new DeadlockDetectedException(result.getDeadlockMessage());
}
}
 while (result.getStatus() == LockStatus.NOT_LOCKED);
}
