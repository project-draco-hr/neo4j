{
  buffer.clear();
  byte inUse=record.inUse() ? Record.IN_USE.byteValue() : Record.NOT_IN_USE.byteValue();
  buffer.put(PROP_COMMAND);
  buffer.putInt(record.getId()).put(inUse).putInt(record.getType().intValue()).putInt(record.getKeyBlock()).putLong(record.getPropBlock()).putInt(record.getPrevProp()).putInt(record.getNextProp());
  Collection<DynamicRecord> keyRecords=record.getKeyRecords();
  buffer.putInt(keyRecords.size());
  Collection<DynamicRecord> valueRecords=record.getValueRecords();
  buffer.putInt(valueRecords.size());
  buffer.flip();
  fileChannel.write(buffer);
  for (  DynamicRecord keyRecord : keyRecords) {
    writeDynamicRecord(keyRecord,fileChannel,buffer);
  }
  for (  DynamicRecord valueRecord : valueRecords) {
    writeDynamicRecord(valueRecord,fileChannel,buffer);
  }
}
