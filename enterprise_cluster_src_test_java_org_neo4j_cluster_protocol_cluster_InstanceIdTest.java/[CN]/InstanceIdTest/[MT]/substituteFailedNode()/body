{
  List<URI> correctMembers=new ArrayList<URI>();
  correctMembers.add(URI.create("server1"));
  correctMembers.add(URI.create("server2"));
  correctMembers.add(URI.create("server4"));
  List<URI> wrongMembers=new ArrayList<URI>();
  wrongMembers.add(URI.create("server1"));
  wrongMembers.add(URI.create("server2"));
  wrongMembers.add(URI.create("server3"));
  Map<String,InstanceId> roles=new HashMap<String,InstanceId>();
  roles.put("coordinator",new InstanceId(1));
  Set<InstanceId> failed=new HashSet<InstanceId>();
  testCluster(new int[]{1,2,3,3},new VerifyInstanceConfiguration[]{new VerifyInstanceConfiguration(correctMembers,roles,failed),new VerifyInstanceConfiguration(correctMembers,roles,failed),new VerifyInstanceConfiguration(wrongMembers,roles,Collections.<InstanceId>emptySet()),new VerifyInstanceConfiguration(correctMembers,roles,failed)},DEFAULT_NETWORK(),new ClusterTestScriptDSL().rounds(8000).join(100,1,1).join(100,2,1).join(100,3,1).down(3000,3).join(1000,4,1,2,3));
}
