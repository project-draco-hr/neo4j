{
  List<URI> correctMembers=new ArrayList<URI>();
  correctMembers.add(URI.create("server1"));
  correctMembers.add(URI.create("server2"));
  correctMembers.add(URI.create("server4"));
  List<URI> badMembers=new ArrayList<URI>();
  badMembers.add(URI.create("server1"));
  badMembers.add(URI.create("server2"));
  badMembers.add(URI.create("server3"));
  Map<String,InstanceId> roles=new HashMap<String,InstanceId>();
  roles.put("coordinator",new InstanceId(1));
  Set<InstanceId> failed=new HashSet<InstanceId>();
  testCluster(new int[]{1,2,3,3},new VerifyInstanceConfiguration[]{new VerifyInstanceConfiguration(correctMembers,roles,failed),new VerifyInstanceConfiguration(correctMembers,roles,failed),new VerifyInstanceConfiguration(badMembers,roles,failed),new VerifyInstanceConfiguration(correctMembers,roles,failed)},DEFAULT_NETWORK(),new ClusterTestScriptDSL().rounds(800).join(100,1,1,2,3).join(100,2,1,2,3).join(100,3,1,2,3).down(3000,3).join(1000,4,1,2,3).up(1000,3));
}
