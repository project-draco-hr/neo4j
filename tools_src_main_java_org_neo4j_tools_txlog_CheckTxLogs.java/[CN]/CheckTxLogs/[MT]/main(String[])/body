{
  Args arguments=Args.withFlags(HELP_FLAG).parse(args);
  if (arguments.getBoolean(HELP_FLAG)) {
    printUsageAndExit(System.out);
  }
  File dir=parseDir(System.out,arguments);
  FileSystemAbstraction fs=new DefaultFileSystemAbstraction();
  PhysicalLogFiles logFiles=new PhysicalLogFiles(dir,fs);
  int numberOfLogFilesFound=(int)(logFiles.getHighestLogVersion() - logFiles.getLowestLogVersion() + 1);
  System.out.println("Found " + numberOfLogFilesFound + " log files to verify");
  CheckTxLogs tool=new CheckTxLogs(System.out,fs);
  if (!tool.checkAll(dir)) {
    System.exit(1);
  }
}
