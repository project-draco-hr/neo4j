{
  boolean success=false;
  boolean deadlock=false;
  try {
    PropertyContainer properties=((AbstractGraphDatabase)db).getConfig().getGraphDbModule().getNodeManager().getGraphProperties();
    DoubleLatch latch=fetcher.fetch();
    db.getNodeById(node).setProperty("1","T1 1");
    latch.countDownSecond();
    latch.awaitFirst();
    properties.removeProperty("2");
    properties.removeProperty("1");
    tx.success();
    success=true;
  }
 catch (  DeadlockDetectedException e) {
    deadlock=true;
  }
catch (  Exception e) {
    throw new RuntimeException(e);
  }
  return new Boolean[]{success,deadlock};
}
