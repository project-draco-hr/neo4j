{
  while (true) {
    ExpansionSource next=current.next();
    if (next != null) {
      P newPriority=addPriority(next,currentAggregatedValue,calculateValue(next));
      queue.put(next,newPriority);
    }
 else {
      break;
    }
  }
  Entry<ExpansionSource,P> entry=queue.pop();
  if (entry != null) {
    current=entry.getEntity();
    currentAggregatedValue=entry.getPriority();
    return current;
  }
  return null;
}
