{
  if (xidMap.get(xid) == null) {
    throw new XAException("Unknown xid[" + xid + "]");
  }
  Xid xidEntry=xaResourceMap.remove(xaResource);
  if (xidEntry == null) {
    throw new XAException("Resource[" + xaResource + "] not enlisted");
  }
  XidStatus status=xidMap.get(xid);
  status.getTransactionStatus().markAsRollback();
}
