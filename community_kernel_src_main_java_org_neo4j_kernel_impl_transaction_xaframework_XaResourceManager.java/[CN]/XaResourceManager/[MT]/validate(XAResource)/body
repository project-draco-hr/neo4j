{
  ResourceTransaction tx=xaResourceMap.get(xaResource);
  XidStatus status=null;
  if (tx == null || (status=xidMap.get(tx.xid)) == null) {
    throw new XAException("Resource[" + xaResource + "] not enlisted");
  }
  if (!status.getActive()) {
    throw new XAException("Resource[" + xaResource + "] suspended");
  }
}
