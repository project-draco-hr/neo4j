{
  if (!dir.exists()) {
    if (!dir.mkdirs()) {
      throw new UnderlyingStorageException("Unable to create directory path[" + storeDir + "] for Neo4j kernel store.");
    }
  }
  File store=new File(dir,NeoStore.DEFAULT_NAME);
  if (!store.exists()) {
    sf.createNeoStore(store).close();
  }
  return store;
}
