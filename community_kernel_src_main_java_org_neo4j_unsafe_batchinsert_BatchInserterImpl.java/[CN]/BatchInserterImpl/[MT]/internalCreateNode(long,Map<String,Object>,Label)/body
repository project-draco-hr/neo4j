{
  NodeRecord nodeRecord=recordAccess.getNodeRecords().create(nodeId,null).forChangingData();
  nodeRecord.setInUse(true);
  nodeRecord.setCreated();
  nodeRecord.setNextProp(propertyCreator.createPropertyChain(nodeRecord,propertiesIterator(properties),recordAccess.getPropertyRecords()));
  if (labels.length > 0) {
    setNodeLabels(nodeRecord,labels);
  }
  recordAccess.commit();
  return nodeId;
}
