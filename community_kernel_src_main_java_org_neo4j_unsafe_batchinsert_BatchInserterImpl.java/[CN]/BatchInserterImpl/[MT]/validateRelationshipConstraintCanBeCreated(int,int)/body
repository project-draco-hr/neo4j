{
  for (  SchemaRule rule : schemaCache.schemaRulesForRelationshipType(typeId)) {
    if (rule.getKind() == SchemaRule.Kind.MANDATORY_RELATIONSHIP_PROPERTY_CONSTRAINT && propertyKeyId == ((MandatoryRelationshipPropertyConstraintRule)rule).getPropertyKey()) {
      throw new ConstraintViolationException("Mandatory relationship property constraint for given {type;property} already exists");
    }
  }
}
