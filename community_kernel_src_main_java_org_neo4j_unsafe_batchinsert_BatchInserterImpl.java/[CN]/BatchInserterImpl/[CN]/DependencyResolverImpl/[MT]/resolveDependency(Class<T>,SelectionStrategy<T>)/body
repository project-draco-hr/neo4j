{
  if (type.isInstance(fileSystem)) {
    return type.cast(fileSystem);
  }
  if (type.isInstance(config)) {
    return type.cast(config);
  }
  throw new IllegalArgumentException("Unknown dependency " + type);
}
