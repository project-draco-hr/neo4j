{
  final InMemoryUserRepository users=new InMemoryUserRepository();
  final BasicAuthManager manager=new BasicAuthManager(users,mock(PasswordPolicy.class),mock(AuthenticationStrategy.class));
  manager.start();
  final User user=users.findByName("neo4j");
  assertNotNull(user);
  assertTrue(user.credentials().matchesPassword("neo4j"));
  assertTrue(user.passwordChangeRequired());
}
