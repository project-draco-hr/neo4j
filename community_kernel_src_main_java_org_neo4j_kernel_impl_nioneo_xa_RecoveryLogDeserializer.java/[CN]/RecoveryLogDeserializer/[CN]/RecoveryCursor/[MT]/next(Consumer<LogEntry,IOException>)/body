{
  long position=channel.position();
  scratch.clear();
  scratch.limit(1);
  if (channel.read(scratch) != scratch.limit()) {
    return false;
  }
  scratch.flip();
  byte type=scratch.get();
  if (type < 0) {
    scratch.clear();
    scratch.limit(1);
    if (channel.read(scratch) != scratch.limit()) {
      return false;
    }
    scratch.flip();
    type=scratch.get();
  }
  LogEntry entry=logEntryReader.readLogEntry(type,channel);
  if (entry instanceof LogEntry.Start) {
    ((LogEntry.Start)entry).setStartPosition(position);
  }
 else   if (entry == null) {
    return false;
  }
  consumer.accept(entry);
  return true;
}
