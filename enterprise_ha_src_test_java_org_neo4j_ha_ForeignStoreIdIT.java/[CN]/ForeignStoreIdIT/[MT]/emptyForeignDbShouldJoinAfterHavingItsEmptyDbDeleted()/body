{
  firstInstance=new HighlyAvailableGraphDatabaseFactory().newHighlyAvailableDatabaseBuilder(DIR.cleanDirectory("1").getAbsolutePath()).setConfig(server_id,"1").setConfig(cluster_server,"127.0.0.1:5001").setConfig(ha_server,"127.0.0.1:6031").setConfig(initial_hosts,"127.0.0.1:5001").newGraphDatabase();
  String foreignDbStoreDir=createAnotherStore(DIR.cleanDirectory("2"),0);
  foreignInstance=new HighlyAvailableGraphDatabaseFactory().newHighlyAvailableDatabaseBuilder(foreignDbStoreDir).setConfig(server_id,"2").setConfig(initial_hosts,"127.0.0.1:5001").setConfig(cluster_server,"127.0.0.1:5002").setConfig(ha_server,"127.0.0.1:6032").newGraphDatabase();
  long foreignNode=createNode(foreignInstance,"foreigner");
  assertEquals(foreignNode,findNode(firstInstance,"foreigner"));
}
