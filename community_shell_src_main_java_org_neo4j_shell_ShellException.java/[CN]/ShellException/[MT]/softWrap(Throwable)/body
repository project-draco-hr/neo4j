{
  String stackTraceAsString=stackTraceAsString(cause);
  String message=getFirstMessage(cause);
  if (!(cause instanceof ShellException)) {
    message=cause.getClass().getSimpleName() + ": " + message;
  }
  return new ShellException(message,stackTraceAsString);
}
