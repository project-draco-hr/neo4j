{
  RelationshipRecord oldFormatRecord=new RelationshipRecord(1);
  RelationshipRecord newFormatRecord=new RelationshipRecord(1);
  oldFormatRecord.initialize(true,randomSmallReference(),randomSmallReference(),randomSmallReference(),0,randomSmallReference(),randomSmallReference(),randomSmallReference(),randomSmallReference(),true,true);
  writeRecordWithOldFormat(oldFormatRecord);
  assertFalse("This should be single unit record.",oldFormatRecord.hasSecondaryUnitId());
  assertFalse("Old format is not aware about fixed references.",oldFormatRecord.isUseFixedReferences());
  format.read(newFormatRecord,cursor,RecordLoad.NORMAL,RelationshipRecordFormat.RECORD_SIZE);
  verifySameReferences(oldFormatRecord,newFormatRecord);
}
