{
  final Object payload=new Object();
  final MessageType type=mock(MessageType.class);
  Message message=Message.internal(type,payload);
  Message response=Message.respond(type,message,payload);
  assertTrue(response.isInternal());
  assertEquals(payload,response.getPayload());
  assertEquals(type,response.getMessageType());
}
