{
  if (graphDb instanceof EmbeddedGraphDatabase) {
    return ((EmbeddedGraphDatabase)graphDb).getConfig().getTxModule().getTxManager();
  }
 else {
    throw new IllegalArgumentException("Cannot get transaction manager from graph database instance of class=" + graphDb.getClass());
  }
}
