{
  updateAndCommit(asList(add(1l,"value1")));
  updateAndCommit(asList(change(1l,"value1","value2")));
  try {
    updateAndCommit(asList(add(2l,"value2")));
    fail("expected exception");
  }
 catch (  PreexistingIndexEntryConflictException conflict) {
    assertConflict(conflict,"value2",1l,2l);
  }
}
