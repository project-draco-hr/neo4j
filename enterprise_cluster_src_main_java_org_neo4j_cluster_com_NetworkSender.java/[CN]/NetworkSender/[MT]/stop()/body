{
  msgLog.debug("Shutting down NetworkSender");
  sendExecutor.shutdown();
  if (!sendExecutor.awaitTermination(10,TimeUnit.SECONDS)) {
    msgLog.warn("Could not shut down send executor");
  }
  channels.close().awaitUninterruptibly();
  clientBootstrap.releaseExternalResources();
  msgLog.debug("Shutting down NetworkSender complete");
}
