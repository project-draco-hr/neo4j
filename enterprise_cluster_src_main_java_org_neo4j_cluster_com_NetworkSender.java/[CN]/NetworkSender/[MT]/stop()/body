{
  msgLog.debug("Shutting down NetworkSender");
  for (  ExecutorService executorService : senderExecutors.values()) {
    executorService.shutdown();
    if (!executorService.awaitTermination(100,TimeUnit.SECONDS)) {
      msgLog.warn("Could not shut down send executor");
    }
  }
  senderExecutors.clear();
  channels.close().awaitUninterruptibly();
  clientBootstrap.releaseExternalResources();
  msgLog.debug("Shutting down NetworkSender complete");
}
