{
  ExecutingQuery query1=createExecutingQuery(1,"query1");
  ExecutingQuery query2=createExecutingQuery(2,"query2");
  ExecutingQuery query3=createExecutingQuery(3,"query3");
  ExecutingQuery query4=createExecutingQuery(4,"query4");
  ExecutingQuery query5=createExecutingQuery(5,"query5");
  ExecutingQueryList list=ExecutingQueryList.EMPTY.push(query1).push(query2).push(query3).push(query4).push(query5);
  List<ExecutingQuery> result=list.remove(query3).queries().collect(Collectors.toList());
  assertThat(result,equalTo(asList(query5,query4,query2,query1)));
}
