{
  DbRepresentation someData=createSomeData();
  GraphDatabaseService readGraphDb=new TestGraphDatabaseFactory().setFileSystem(fs.get()).newImpermanentDatabaseBuilder(PATH).setConfig(GraphDatabaseSettings.read_only,Settings.TRUE).newGraphDatabase();
  assertEquals(someData,DbRepresentation.of(readGraphDb));
  Transaction tx=readGraphDb.beginTx();
  try {
    readGraphDb.createNode();
    tx.success();
    tx.close();
    fail("expected exception");
  }
 catch (  TransactionFailureException e) {
    assertThat(e.getCause(),instanceOf(ReadOnlyDbException.class));
  }
  readGraphDb.shutdown();
}
