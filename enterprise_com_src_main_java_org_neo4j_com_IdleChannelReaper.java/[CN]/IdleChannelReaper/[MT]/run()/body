{
  for (  Map.Entry<Channel,Request> entry : connectedChannels.entrySet()) {
    Channel channel=entry.getKey();
    long age=clock.currentTimeMillis() - entry.getValue().lastTimeHeardOf;
    if (age > thresholdMillis) {
      msgLog.info("Found a silent channel " + entry + ", "+ age);
      channelCloser.tryToCloseChannel(channel);
    }
 else     if (age > thresholdMillis / 2) {
      if (!(channel.isOpen() && channel.isConnected() && channel.isBound())) {
        channelCloser.tryToCloseChannel(channel);
      }
    }
  }
}
