{
  try {
    EventManager eventManager=getEmbeddedNeo().getConfig().getEventModule().getEventManager();
    LockManager lockManager=getEmbeddedNeo().getConfig().getLockManager();
    LockReleaser lockReleaser=getEmbeddedNeo().getConfig().getLockReleaser();
    ds=new NeoStoreXaDataSource("neo","nioneo_logical.log",lockManager,lockReleaser,eventManager);
  }
 catch (  InstantiationException e) {
    throw new IOException("" + e);
  }
  xaCon=(NeoStoreXaConnection)ds.getXaConnection();
  nStore=xaCon.getNodeConsumer();
  pStore=xaCon.getPropertyStore();
  relTypeStore=xaCon.getRelationshipTypeConsumer();
  rStore=xaCon.getRelationshipConsumer();
}
