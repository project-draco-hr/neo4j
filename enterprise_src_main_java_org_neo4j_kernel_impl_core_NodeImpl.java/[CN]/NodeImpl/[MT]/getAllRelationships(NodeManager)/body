{
  ensureRelationshipMapNotNull(nodeManager);
  List<RelTypeElementIterator> relTypeList=new LinkedList<RelTypeElementIterator>();
  ArrayMap<String,IntArray> addMap=nodeManager.getCowRelationshipAddMap(this);
  for (  String type : relationshipMap.keySet()) {
    IntArray src=relationshipMap.get(type);
    IntArray remove=nodeManager.getCowRelationshipRemoveMap(this,type);
    IntArray add=null;
    if (addMap != null) {
      add=addMap.get(type);
    }
    if (src != null || add != null) {
      relTypeList.add(RelTypeElement.create(type,this,src,add,remove));
    }
  }
  if (addMap != null) {
    for (    String type : addMap.keySet()) {
      if (relationshipMap.get(type) == null) {
        IntArray remove=nodeManager.getCowRelationshipRemoveMap(this,type);
        IntArray add=addMap.get(type);
        relTypeList.add(RelTypeElement.create(type,this,null,add,remove));
      }
    }
  }
  return relTypeList;
}
