{
  PageCache cache=getPageCache(fs,maxPages,pageCachePageSize,PageCacheMonitor.NULL);
  PagedFile pagedFile=cache.map(file,filePageSize);
  try (PageCursor cursor=pagedFile.io(0L,PF_EXCLUSIVE_LOCK)){
    assertTrue(cursor.next());
    cursor.setOffset(0);
    cursor.putByte((byte)1);
    cursor.putByte((byte)2);
    cursor.putByte((byte)3);
    cursor.putByte((byte)4);
    assertTrue(cursor.next());
    cursor.setOffset(0);
    cursor.putByte((byte)5);
    cursor.putByte((byte)6);
    cursor.putByte((byte)7);
    cursor.putByte((byte)8);
  }
   try (PageCursor cursor=pagedFile.io(0L,PF_EXCLUSIVE_LOCK)){
    assertTrue(cursor.next());
    assertThat(cursor.getByte(),is((byte)1));
    assertThat(cursor.getByte(),is((byte)2));
    assertThat(cursor.getByte(),is((byte)3));
    assertThat(cursor.getByte(),is((byte)4));
    assertTrue(cursor.next());
    assertThat(cursor.getByte(),is((byte)5));
    assertThat(cursor.getByte(),is((byte)6));
    assertThat(cursor.getByte(),is((byte)7));
    assertThat(cursor.getByte(),is((byte)8));
  }
 }
