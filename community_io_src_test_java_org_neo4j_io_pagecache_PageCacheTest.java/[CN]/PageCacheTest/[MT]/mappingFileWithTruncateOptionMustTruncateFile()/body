{
  getPageCache(fs,maxPages,pageCachePageSize,PageCacheTracer.NULL);
  try (PagedFile pf=pageCache.map(file("a"),filePageSize);PageCursor cursor=pf.io(10,PF_EXCLUSIVE_LOCK)){
    assertThat(pf.getLastPageId(),is(-1L));
    assertTrue(cursor.next());
    cursor.putInt(0xcafebabe);
  }
   try (PagedFile pf=pageCache.map(file("a"),filePageSize,StandardOpenOption.TRUNCATE_EXISTING);PageCursor cursor=pf.io(0,PF_SHARED_LOCK)){
    assertThat(pf.getLastPageId(),is(-1L));
    assertFalse(cursor.next());
  }
 }
