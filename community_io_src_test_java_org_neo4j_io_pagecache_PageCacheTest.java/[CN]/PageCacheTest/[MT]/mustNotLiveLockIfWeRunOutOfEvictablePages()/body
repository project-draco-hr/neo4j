{
  getPageCache(fs,maxPages,pageCachePageSize,PageCacheTracer.NULL);
  List<PageCursor> cursors=new LinkedList<>();
  try (PagedFile pf=pageCache.map(existingFile("a"),filePageSize)){
    try {
      for (long i=0; ; i++) {
        PageCursor cursor=pf.io(i,PF_SHARED_WRITE_LOCK);
        cursors.add(cursor);
        assertTrue(cursor.next());
      }
    }
  finally {
      for (      PageCursor cursor : cursors) {
        cursor.close();
      }
    }
  }
 }
