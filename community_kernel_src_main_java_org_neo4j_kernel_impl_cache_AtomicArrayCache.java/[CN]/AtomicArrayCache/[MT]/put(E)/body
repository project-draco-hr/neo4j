{
  long time=System.currentTimeMillis();
  if (time - putTimeStamp > minLogInterval) {
    putTimeStamp=time;
    printStatistics();
  }
  int pos=getPosition(obj);
  E oldObj=cache.get(pos);
  if (oldObj != obj) {
    int oldObjSize=0;
    if (oldObj != null) {
      oldObjSize=oldObj.size();
    }
    int objectSize=obj.size();
    if (cache.compareAndSet(pos,oldObj,obj)) {
      long size=currentSize.addAndGet(objectSize - oldObjSize);
      if (oldObj != null) {
        collisions++;
      }
      totalPuts++;
      if (size > maxSize) {
        purgeFrom(pos);
      }
    }
  }
}
