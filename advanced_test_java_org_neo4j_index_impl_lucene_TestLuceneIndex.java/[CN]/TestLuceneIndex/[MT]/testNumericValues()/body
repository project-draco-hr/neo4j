{
  Index<Node> index=provider.nodeIndex("numeric",LuceneIndexProvider.EXACT_CONFIG);
  Node node1=graphDb.createNode();
  Node node2=graphDb.createNode();
  Node node3=graphDb.createNode();
  String key="key";
  index.add(node1,key,new ValueContext(10).indexNumeric());
  index.add(node2,key,new ValueContext(6).indexNumeric());
  index.add(node3,key,new ValueContext(31).indexNumeric());
  assertQueryNotPossible(index);
  restartTx();
  assertThat(index.query(NumericRangeQuery.newIntRange(key,4,40,true,true)),contains(node1,node2,node3));
  assertThat(index.query(NumericRangeQuery.newIntRange(key,6,15,true,true)),contains(node1,node2));
  assertThat(index.query(NumericRangeQuery.newIntRange(key,6,15,false,true)),contains(node1));
}
