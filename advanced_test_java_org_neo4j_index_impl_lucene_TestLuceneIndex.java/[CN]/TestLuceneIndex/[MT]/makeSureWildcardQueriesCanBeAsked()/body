{
  Index<Node> index=nodeIndex("index",LuceneIndexProvider.EXACT_CONFIG);
  String key="name";
  String value1="neo4j";
  String value2="nescafe";
  Node node1=graphDb.createNode();
  Node node2=graphDb.createNode();
  index.add(node1,key,value1);
  index.add(node2,key,value2);
  assertThat(index.query(key,"neo*"),contains(node1));
  assertThat(index.query(key,"n?o4j"),contains(node1));
  assertThat(index.query(key,"ne*"),contains(node1,node2));
  assertThat(index.query(key + ":neo4j"),contains(node1));
  assertThat(index.query(key + ":neo*"),contains(node1));
  assertThat(index.query(key + ":n?o4j"),contains(node1));
  assertThat(index.query(key + ":ne*"),contains(node1,node2));
  restartTx();
  assertThat(index.query(key,"neo*"),contains(node1));
  assertThat(index.query(key,"n?o4j"),contains(node1));
  assertThat(index.query(key,"ne*"),contains(node1,node2));
  assertThat(index.query(key + ":neo4j"),contains(node1));
  assertThat(index.query(key + ":neo*"),contains(node1));
  assertThat(index.query(key + ":n?o4j"),contains(node1));
  assertThat(index.query(key + ":ne*"),contains(node1,node2));
  index.delete();
}
