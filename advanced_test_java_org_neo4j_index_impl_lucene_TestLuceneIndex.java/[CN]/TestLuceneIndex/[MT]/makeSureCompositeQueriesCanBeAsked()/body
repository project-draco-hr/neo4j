{
  Index<Node> index=provider.nodeIndex("index",LuceneIndexProvider.EXACT_CONFIG);
  Node neo=graphDb.createNode();
  Node trinity=graphDb.createNode();
  index.add(neo,"username","neo@matrix");
  index.add(neo,"sex","male");
  index.add(trinity,"username","trinity@matrix");
  index.add(trinity,"sex","female");
  assertCollection(index.query("username:*@matrix AND sex:male"),neo);
  assertCollection(index.query("username:*@matrix OR sex:male"),neo,trinity);
  restartTx();
  assertCollection(index.query("username:*@matrix AND sex:male"),neo);
  assertCollection(index.query("username:*@matrix OR sex:male"),neo,trinity);
  index.clear();
}
