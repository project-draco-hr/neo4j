{
  long t=System.currentTimeMillis();
  for (int i=0; i < 30000; i++) {
    T entity=creator.create();
    if (i % 5000 == 5) {
      index.query(new TermQuery(new Term("name","The name " + i)));
    }
    index.query(new QueryContext(new TermQuery(new Term("name","The name " + i))).tradeCorrectnessForSpeed());
    index.get("name","The name " + i);
    index.add(entity,"name","The name " + i);
    index.add(entity,"title","Some title " + i);
    index.add(entity,"something",i + "Nothing");
    index.add(entity,"else",i + "kdfjkdjf" + i);
    if (i % 5000 == 0) {
      restartTx();
      System.out.print(".");
    }
  }
  System.out.println("insert:" + (System.currentTimeMillis() - t));
  t=System.currentTimeMillis();
  int count=100;
  for (int i=0; i < count; i++) {
    for (    T entity : index.get("name","The name " + i)) {
    }
  }
  System.out.println("get:" + (double)(System.currentTimeMillis() - t) / (double)count);
}
