{
  Throwable exc=new RuntimeException("HA");
  when(mess.newTransactionContext()).thenThrow(exc);
  TransactionalActions actions=new TransactionalActions(mess,engine,registry,logger);
  try {
    actions.newTransaction();
    fail("should have thrown exception");
  }
 catch (  Neo4jError neo4jError) {
    assertEquals(Neo4jError.Code.UNABLE_TO_START_TRANSACTION,neo4jError.getErrorCode());
  }
}
