{
  TraversalBranch branch=nextBranchFromNextSelector(metadata,true);
  Integer previousDepth=getStateForCurrentSelector();
  if (branch != null && branch.length() == previousDepth.intValue()) {
    return branch;
  }
 else {
    if (branch != null)     setStateForCurrentSelector(branch.length());
  }
  return branch;
}
